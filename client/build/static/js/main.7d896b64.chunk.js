(this["webpackJsonpmovie-swiper"]=this["webpackJsonpmovie-swiper"]||[]).push([[0],{129:function(n,e){},163:function(n,e,t){},164:function(n,e,t){"use strict";t.r(e);var r=t(1),i=t(2),c=t.n(i),o=t(36),a=t.n(o),u=t(16),s=t(12),d=t(15),l=t(14),b=(t(99),t(3)),j=t(4);function m(){var n=Object(b.a)(["\n    background: var(--blue-dark-bg);\n    color: var(--white);\n    flex: 1;\n"]);return m=function(){return n},n}var f,p=j.b.main(m()),h=function(n){var e=n.children;return Object(r.jsx)(p,{children:e})},O=t.p+"static/media/themoviedb-logo.caee7457.svg";function v(){var n=Object(b.a)(["\n    font-size: 0.85rem;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    color: var(--white-muted);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return v=function(){return n},n}function x(){var n=Object(b.a)(["\n    height: 10.5px;\n    margin-left: 0.5rem;\n"]);return x=function(){return n},n}function g(){var n=Object(b.a)(["\n    max-width: 1100px;\n    margin: auto;\n"]);return g=function(){return n},n}function w(){var n=Object(b.a)(["\n    background: rgb(0 0 0 / 25%);\n    padding: 2rem;\n    display: ",";\n\n    @media (min-width: 600px) {\n        display: block;\n    }\n"]);return w=function(){return n},n}!function(n){n.SELECTION="selection",n.SWIPER="swiper",n.RESULTS="results",n.NULL="null"}(f||(f={}));var y=j.b.footer(w(),(function(n){return n.$display?"block":"none"})),k=j.b.div(g()),S=j.b.img(x()),I=j.b.p(v()),C=function(){var n=Object(l.g)().pathname,e="/"===n||n.includes("/create")||n.includes("/join")||n.includes(f.RESULTS);return Object(r.jsx)(y,{$display:e,children:Object(r.jsx)(k,{children:Object(r.jsxs)(I,{children:["Powered by",Object(r.jsx)("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noreferrer",children:Object(r.jsx)(S,{src:O,alt:"The Movie DB."})})]})})})},E=t(5),z=t(8),R=t(25),T=t(40),M=t(18),N=t(85),_=t.n(N)()({reconnection:!0}),A=function(n,e){_.emit("room:create",n,e)};function F(){var n=Object(b.a)(["\n    font-weight: 600;\n"]);return F=function(){return n},n}function L(){var n=Object(b.a)(["\n    width: 100%;\n    background: ",";\n    color: ",";\n    padding: 1rem 1.5rem;\n"]);return L=function(){return n},n}function P(){var n=Object(b.a)(["\n    padding: 1.5rem 1rem;\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    border-radius: 4px;\n    color: white;\n    cursor: pointer;\n"]);return P=function(){return n},n}function D(){var n=Object(b.a)(["\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.4;\n    margin-bottom: 2rem;\n    color: var(--white-muted);\n"]);return D=function(){return n},n}function G(){var n=Object(b.a)(["\n    font-size: 2rem;\n    margin: 0 0 1rem;\n    font-family: 'Merienda One', 'Rubik', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',\n        'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n"]);return G=function(){return n},n}function U(){var n=Object(b.a)(["\n    margin-top: 0.5rem;\n    padding: 0.5rem;\n    background: var(--accent-light);\n    border-radius: 4px;\n    font-size: 0.875rem;\n"]);return U=function(){return n},n}function B(){var n=Object(b.a)(["\n    label {\n        margin-bottom: 0.5rem;\n    }\n\n    input {\n        padding: 0.5rem;\n        border-radius: 4px;\n    }\n"]);return B=function(){return n},n}function V(){var n=Object(b.a)(["\n    max-width: 600px;\n    margin: 0 auto;\n\n    h2 {\n        margin-bottom: 4rem;\n    }\n"]);return V=function(){return n},n}function W(){var n=Object(b.a)(["\n    max-width: 1100px;\n    margin: 0 auto;\n    padding: 3rem 1rem;\n\n    @media (min-width: 600px) {\n        padding: 4rem 1rem;\n    }\n\n    @media (min-width: 1100px) {\n        padding: 4rem 0rem;\n    }\n"]);return W=function(){return n},n}var H,J=j.b.section(W()),Y=Object(j.b)(J)(V()),$=j.b.form(B()),q=j.b.div(U()),Z=j.b.h1(G()),Q=j.b.h2(D()),X=j.b.button(P()),K=Object(j.b)(X)(L(),(function(n){return n.$disabled?"#808080":"var(--blue-action)"}),(function(n){return n.$disabled&&"#cbc8c8"})),nn=j.b.span(F());!function(n){n.INITIALIZE_ROOM="initialize_room",n.GET_ROOM="get_room",n.JOIN="join",n.LEAVE="leave",n.CHANGE_OWNER="change_owner",n.ADD_MOVIE="add_movie",n.REMOVE_MOVIE="remove_movie",n.SWIPE_MOVIE="swipe_movie",n.TOGGLE_READY="toggle_ready",n.SET_STAGE="set_stage",n.USER_NAME_CHANGE="user_name_change"}(H||(H={}));var en,tn=t.p+"static/media/poster_unavailable.0646537b.png",rn=function(n,e){return n?"https://image.tmdb.org/t/p/".concat(e).concat(n):tn};!function(n){n.Success="success",n.Error="error",n.Loading="loading",n.Custom="custom"}(en||(en={}));var cn=function(n){var e=n.type,t=n.message,r=n.duration,i=n.icon,c=(n.id,{duration:r||2e3,style:{backgroundColor:"var(--blue-active)",color:"#FFF"},icon:i,iconTheme:{primary:"hsl(213deg 24% 53%)",secondary:"#FFF"}}),o={duration:r||4e3,style:{backgroundColor:"hsl(0deg 56% 27%)",color:"#FFF"},icon:i,iconTheme:{primary:"#a23636",secondary:"#FFF"}},a={duration:r||3e4,style:{backgroundColor:"var(--blue-active)",color:"#FFF"},icon:i,iconTheme:{primary:"hsl(213deg 24% 53%)",secondary:"#FFF"}};switch(e){case"success":return d.b.success(t,c);case"error":return d.b.error(t,o);case"loading":return d.b.loading(t,a);case"custom":default:return Object(d.b)(t,c)}},on=Object(i.createContext)({user:{},setUser:function(){return{}}}),an=function(){return Object(i.useContext)(on)},un=function(n){var e=n.children,t=function(n,e){var t=Object(i.useState)((function(){try{var t=window.localStorage.getItem(n);return t?JSON.parse(t):e}catch(r){return e}})),r=Object(z.a)(t,2),c=r[0],o=r[1];return[c,function(e){try{var t=e instanceof Function?e(c):e;o(t),window.localStorage.setItem(n,JSON.stringify(t))}catch(r){}}]}("user",{}),c=Object(z.a)(t,2),o=c[0],a=c[1];return Object(i.useEffect)((function(){var n;n=function(){o.id?_.emit("user:new",o):(a({name:o.name,color:o.color,id:_.id}),_.emit("user:new",Object(E.a)(Object(E.a)({},o),{},{id:_.id})))},_.on("connect",n)}),[]),Object(r.jsx)(on.Provider,{value:{user:o,setUser:a},children:e})},sn={roomName:null,roomId:null,ownerId:null,participants:[],movies:[],stage:f.NULL},dn=Object(i.createContext)({room:sn,dispatch:function(){return{}}}),ln=function(){return Object(i.useContext)(dn)},bn=function(n,e){switch(e.type){case H.INITIALIZE_ROOM:return Object(E.a)(Object(E.a)({},sn),{},{roomName:e.payload.roomName,roomId:e.payload.roomId,ownerId:e.payload.ownerId,participants:[e.payload.participant],stage:f.SELECTION});case H.GET_ROOM:return Object(E.a)({},e.payload.room);case H.JOIN:var t=[].concat(Object(T.a)(n.participants.filter((function(n){return n.id!==e.payload.participant.id}))),[e.payload.participant]);return Object(E.a)(Object(E.a)({},n),{},{participants:t});case H.LEAVE:return Object(E.a)(Object(E.a)({},n),{},{participants:n.participants.filter((function(n){return n.id!==e.payload.id}))});case H.CHANGE_OWNER:return Object(E.a)(Object(E.a)({},n),{},{ownerId:e.payload.ownerId});case H.ADD_MOVIE:return Object(E.a)(Object(E.a)({},n),{},{movies:[].concat(Object(T.a)(n.movies.filter((function(n){return n.id!==e.payload.movie.id}))),[e.payload.movie])});case H.REMOVE_MOVIE:return Object(E.a)(Object(E.a)({},n),{},{movies:n.movies.filter((function(n){return n.id!==e.payload.id}))});case H.SWIPE_MOVIE:var r=n.movies.find((function(n){return n.id===e.payload.id})),i=r.swipes.find((function(n){return n.user.id===e.payload.user.id}))?r.swipes.map((function(n){return n.user.id===e.payload.user.id?Object(E.a)(Object(E.a)({},n),{},{liked:e.payload.liked}):n})):[].concat(Object(T.a)(r.swipes),[{user:e.payload.user,liked:e.payload.liked}]),c=Object(E.a)(Object(E.a)({},r),{},{swipes:i});return Object(E.a)(Object(E.a)({},n),{},{movies:n.movies.map((function(n){return n.id===c.id?c:n}))});case H.SET_STAGE:return Object(E.a)(Object(E.a)({},n),{},{stage:e.payload.stage});case H.TOGGLE_READY:return Object(E.a)(Object(E.a)({},n),{},{participants:n.participants.map((function(n){return n.id===e.payload.id?Object(E.a)(Object(E.a)({},n),{},{ready:!n.ready}):n}))});case H.USER_NAME_CHANGE:return Object(E.a)(Object(E.a)({},n),{},{participants:n.participants.map((function(n){return n.id===e.payload.userId?Object(E.a)(Object(E.a)({},n),{},{name:e.payload.name}):n}))});default:throw new Error("Action not defined.")}},jn="rooms",mn=function(n){var e=n.children,t=Object(l.g)().pathname,c=an().user,o=Object(i.useReducer)(bn,sn,(function(n){var e=localStorage.getItem(jn);if(!e)return n;var r=JSON.parse(e),i=t.split("/").filter(Boolean)[1],c=r[i];return c||n})),a=Object(z.a)(o,2),u=a[0],s=a[1],b=Object(i.useRef)(),j=Object(i.useRef)(),m=Object(i.useRef)();return Object(i.useEffect)((function(){var n=function(){var n=localStorage.getItem(jn);return n?JSON.parse(n):null}();u.roomId&&function(n){localStorage.setItem(jn,JSON.stringify(n))}(Object(E.a)(Object(E.a)({},n),{},Object(R.a)({},u.roomId,u)))}),[u]),Object(i.useEffect)((function(){var n;return function(n,e){_.on("room:new-join",(function(t){_.emit("room:send",{socketId:t.socketId,room:n}),e(t.user)}))}(u,(function(n){n.id===u.ownerId&&clearTimeout(m.current),cn({type:en.Success,message:function(){return Object(r.jsxs)("span",{children:[Object(r.jsx)(nn,{children:n.name})," "," joined."]})},icon:Object(r.jsx)(M.d,{})}),s({type:H.JOIN,payload:{participant:Object(E.a)(Object(E.a)({},n),{},{ready:!1})}})})),n=function(n){var e=n.socketId,t=n.newOwnerSocketId;s({type:H.LEAVE,payload:{id:e}}),e===u.ownerId&&t===_.id&&(m.current=window.setTimeout((function(){var n;n={roomId:u.roomId,userId:c.id},_.emit("room:owner-change",n)}),1e4))},_.on("room:leave",n),function(n){_.on("room:owner-change",n)}((function(n){var e=n.newOwnerId;s({type:H.CHANGE_OWNER,payload:{ownerId:e}}),e===c.id&&cn({type:en.Custom,message:function(){return Object(r.jsxs)("span",{children:["You are the new room owner. ",Object(r.jsx)("br",{}),"Tap on ",Object(r.jsx)(nn,{children:"Start Swiping"})," to begin."]})},duration:8e3})})),function(n){_.once("room:get",n)}((function(n){var e=n.room,t=JSON.parse(localStorage.getItem("user")||""),r=e.participants.filter((function(n){return n.id!==t.id}));t&&(r=[].concat(Object(T.a)(r),[Object(E.a)(Object(E.a)({},t),{},{ready:!1})])),s({type:H.GET_ROOM,payload:{room:Object(E.a)(Object(E.a)({},e),{},{participants:r})}})})),function(n){_.on("movie:add",(function(e){n(e.movie)}))}((function(n){n.addedByUserId!==c.id&&cn({type:en.Success,message:function(){return Object(r.jsxs)("span",{children:["Someone added ",Object(r.jsx)(nn,{children:n.title}),"."]})},icon:Object(r.jsx)(M.b,{})}),s({type:H.ADD_MOVIE,payload:{movie:n}})})),function(n){_.on("movie:remove",n)}((function(n){var e=n.movieId;s({type:H.REMOVE_MOVIE,payload:{id:e}})})),function(n){_.on("movie:swipe",n)}((function(n){var e=n.movieId,t=n.liked,r=n.user;s({type:H.SWIPE_MOVIE,payload:{id:e,liked:t,user:r}})})),function(n){_.on("user:ready",n)}((function(n){var e=n.userId,t=u.participants.find((function(n){return n.id===e}));t&&!t.ready&&c.id!==t.id&&cn({type:en.Success,message:function(){return Object(r.jsxs)("span",{children:[Object(r.jsx)(nn,{children:t.name})," is ready."]})},icon:Object(r.jsx)(M.f,{})}),s({type:H.TOGGLE_READY,payload:{id:e}})})),function(n){_.on("swiper:start",n)}((function(n){n.roomId===u.roomId&&s({type:H.SET_STAGE,payload:{stage:f.SWIPER}})})),function(n){_.on("user:name-change",n)}((function(n){var e=n.userId,t=n.name,i=u.participants.find((function(n){return n.id===e}));if(i&&i.id!==c.id){var o=null===i||void 0===i?void 0:i.name;cn({type:en.Success,message:function(){return Object(r.jsxs)("span",{children:[Object(r.jsx)(nn,{children:o})," "," has changed their name to "," ",Object(r.jsxs)(nn,{children:[t,"."]})]})}})}s({type:H.USER_NAME_CHANGE,payload:{userId:e,name:t}})})),function(){_.removeAllListeners()}}),[_,u,s]),Object(i.useEffect)((function(){var n=c.id===u.ownerId,e=u.participants.filter((function(n){return n.id!==c.id})),t=e.length>0&&e.every((function(n){return n.ready}));!t&&j.current&&(clearTimeout(j.current),d.b.dismiss(b.current)),n&&t&&(j.current=window.setTimeout((function(){return b.current=cn({type:en.Success,message:function(){return Object(r.jsxs)("span",{children:["Everyone is ready to start.",Object(r.jsx)("br",{}),"Tap on ",Object(r.jsx)(nn,{children:"Start Swiping."})]})},duration:99999})}),2500))}),[u.participants]),Object(i.useEffect)((function(){clearTimeout(j.current),b.current&&d.b.dismiss(b.current)}),[t]),Object(r.jsx)(dn.Provider,{value:{room:u,dispatch:s},children:e})},fn=function(){var n=Object(i.useState)(0),e=Object(z.a)(n,2),t=e[0],r=e[1];return Object(i.useLayoutEffect)((function(){function n(){r(window.innerWidth)}return window.addEventListener("resize",n),n(),function(){return window.removeEventListener("resize",n)}}),[]),{width:t}},pn=t(86),hn=(t(132),function(n){var e=n.visible,t=n.onClose,i=n.width,c=void 0===i?"90%":i,o=n.maxWidth,a=void 0===o?500:o,u=n.height,s=void 0===u?500:u,d=n.children,l={height:s,width:c,maxWidth:a,background:"var(--blue-active)",borderRadius:"8px"};return Object(r.jsx)(pn.a,{visible:e,onClose:t,closeOnEsc:!0,customStyles:l,animation:"slideUp",children:d})});function On(){var n=Object(b.a)(["\n    background: var(--blue-action);\n    padding: 0.75rem 1rem;\n    width: 100%;\n"]);return On=function(){return n},n}function vn(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 2rem;\n"]);return vn=function(){return n},n}function xn(){var n=Object(b.a)(["\n    padding: 0 1rem;\n\n    h2 {\n        font-size: 1.5rem;\n        font-weight: 600;\n        margin-bottom: 1rem;\n        display: flex;\n        align-items: center;\n    }\n"]);return xn=function(){return n},n}function gn(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    width: 20px;\n"]);return gn=function(){return n},n}function wn(){var n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    span {\n        margin-right: 0.75rem;\n    }\n"]);return wn=function(){return n},n}function yn(){var n=Object(b.a)(["\n    font-weight: ",";\n"]);return yn=function(){return n},n}function kn(){var n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    list-style: none;\n\n    & > *:not(:last-child) {\n        margin-right: 0.75rem;\n    }\n\n    @media screen and (min-width: 450px) {\n        & > *:not(:last-child) {\n            margin-right: 1.5rem;\n        }\n    }\n"]);return kn=function(){return n},n}function Sn(){var n=Object(b.a)([""]);return Sn=function(){return n},n}function In(){var n=Object(b.a)(["\n    color: var(--white);\n    font-size: 1.25rem;\n    font-family: 'Merienda One', 'Rubik', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',\n        'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n"]);return In=function(){return n},n}function Cn(){var n=Object(b.a)(["\n    max-width: 1100px;\n    margin: auto;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]);return Cn=function(){return n},n}function En(){var n=Object(b.a)(["\n    background: rgb(0 0 0 / 25%);\n    padding: 1rem;\n\n    @media screen and (min-width: 700px) {\n        padding: 1.5rem 1rem;\n    }\n"]);return En=function(){return n},n}var zn=j.b.nav(En()),Rn=j.b.div(Cn()),Tn=j.b.div(In()),Mn=j.b.section(Sn()),Nn=j.b.div(kn()),_n=Object(j.b)(u.b)(yn(),(function(n){return n.$active&&700})),An=j.b.button(wn()),Fn=Object(j.b)(M.g)(gn()),Ln=j.b.section(xn()),Pn=j.b.div(vn()),Dn=Object(j.b)(X)(On()),Gn=function(n){var e,t=n.forceShow,c=fn().width,o=ln().room,a=an(),s=a.user,d=a.setUser,b=Object(l.g)().pathname,j=Object(i.useState)(!1),m=Object(z.a)(j,2),p=m[0],h=m[1],O=Object(i.useState)(s.name),v=Object(z.a)(O,2),x=v[0],g=v[1],w=(null===(e=s.name)||void 0===e?void 0:e.length)>8?"".concat(s.name.slice(0,8),"..."):s.name,y=function(){h(!1)};if("/"===b&&!t)return null;return Object(r.jsxs)(zn,{children:[Object(r.jsxs)(Rn,{children:[Object(r.jsx)(Tn,{children:Object(r.jsx)(u.b,{to:"/",children:"Movie Swiper "})}),Object(r.jsx)(Mn,{children:Object(r.jsxs)(Nn,{children:[Object(r.jsx)(_n,{$active:b.includes("create"),to:"/create",children:"Create"}),o.roomId&&Object(r.jsx)(_n,{to:function(){b.split("/").filter(Boolean)[0];var n=o.movies.length>0&&o.movies.every((function(n){return n.swipes.find((function(n){return n.user.id===s.id}))}));return o.roomId&&n?"/".concat(f.RESULTS,"/").concat(o.roomId):(o.roomId&&o.stage,"/".concat(o.stage,"/").concat(o.roomId))}(),activeStyle:{fontWeight:700},$active:["selection","swiper","results"].includes(b.split("/").filter(Boolean)[0]),children:"Room"}),s.name&&Object(r.jsxs)(An,{onClick:function(){return h(!0)},children:[c>450&&Object(r.jsx)("span",{children:w}),Object(r.jsx)(Fn,{})]})]})})]}),Object(r.jsx)(hn,{visible:p,onClose:y,height:225,maxWidth:400,children:Object(r.jsxs)(Ln,{children:[Object(r.jsx)("h2",{children:"Change name"}),Object(r.jsxs)($,{onSubmit:function(n){var e;n.preventDefault(),d(Object(E.a)(Object(E.a)({},s),{},{name:x})),y(),cn({type:en.Success,message:function(){return Object(r.jsxs)("span",{children:["Name changed to"," ",Object(r.jsxs)(nn,{children:[x,"."]})]})}}),o.roomId&&(e={roomId:o.roomId,userId:s.id,name:x},_.emit("user:name-change",e))},children:[Object(r.jsxs)(Pn,{children:[Object(r.jsx)("label",{htmlFor:"newName",children:"Name"}),Object(r.jsx)("input",{type:"text",name:"newName",id:"newName",value:x,onChange:function(n){return g(n.target.value)}})]}),Object(r.jsx)(Dn,{type:"submit",children:"Change name"})]})]})})]})},Un=t(93);function Bn(){var n=Object(b.a)(["\n    width: 60px;\n    height: 24px;\n    background: radial-gradient(circle closest-side, currentColor 90%, #0000) 0% 50%,\n        radial-gradient(circle closest-side, currentColor 90%, #0000) 50% 50%,\n        radial-gradient(circle closest-side, currentColor 90%, #0000) 100% 50%;\n    background-size: calc(100% / 3) 12px;\n    background-repeat: no-repeat;\n    animation: "," 1s infinite linear;\n"]);return Bn=function(){return n},n}function Vn(){var n=Object(b.a)(["\n20%{background-position:0%   0%, 50%  50%,100%  50%}\n    40%{background-position:0% 100%, 50%   0%,100%  50%}\n    60%{background-position:0%  50%, 50% 100%,100%   0%}\n    80%{background-position:0%  50%, 50%  50%,100% 100%}\n"]);return Vn=function(){return n},n}function Wn(){var n=Object(b.a)(["\n    text-align: center;\n    font-size: 1.125rem;\n    margin-bottom: 1rem;\n"]);return Wn=function(){return n},n}function Hn(){var n=Object(b.a)(["\n    height: 500px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return Hn=function(){return n},n}var Jn,Yn=Object(j.b)(J)(Hn()),$n=Object(j.b)(Z)(Wn()),qn=Object(j.c)(Vn()),Zn=j.b.div(Bn(),qn);!function(n){n[n.LOADING=0]="LOADING",n[n.ERROR=1]="ERROR",n[n.SUCCESS=2]="SUCCESS"}(Jn||(Jn={}));var Qn=function(n){var e=n.component,t=n.computedMatch,c=Object(Un.a)(n,["component","computedMatch"]),o=ln(),a=o.room,u=o.dispatch,s=an().user,d=Object(l.f)(),b=Object(i.useState)(Jn.LOADING),j=Object(z.a)(b,2),m=j[0],p=j[1],h=t.params.id,O=t.url.split("/")[1];return Object(i.useEffect)((function(){try{if(!h)return d.replace("/expired");n={roomId:h},e=function(n){if(n.success){if(!s.name)return d.replace("/join/".concat(h));e={roomId:h,user:s},t=function(n){n.success?p(Jn.SUCCESS):p(Jn.ERROR)},_.emit("room:join",e,t)}else{if(!a.roomId)return d.replace("/create");A({roomId:h},(function(n){if(n.success)return u({type:H.GET_ROOM,payload:{room:a}}),d.push("/selection/".concat(h))}))}var e,t;p(Jn.SUCCESS)},_.emit("room:check",n,e)}catch(t){console.log(t),p(Jn.ERROR)}var n,e}),[t.params.id]),Object(i.useEffect)((function(){var n=a.movies.length>0&&a.movies.every((function(n){return n.swipes.find((function(n){return n.user.id===s.id}))}));a.roomId&&n?d.replace("/".concat(f.RESULTS,"/").concat(h)):a.roomId&&O!==a.stage&&d.replace("/".concat(a.stage,"/").concat(h))}),[a.stage]),m===Jn.LOADING?Object(r.jsxs)(Yn,{children:[Object(r.jsx)($n,{children:"Joining room"}),Object(r.jsx)(Zn,{})]}):m===Jn.ERROR?Object(r.jsx)(Yn,{children:Object(r.jsx)($n,{children:"Could not join room. Refresh the page to try again."})}):Object(r.jsx)(e,Object(E.a)(Object(E.a)({},t),c))},Xn=Object(i.createContext)({moviePreview:null,setMoviePreview:function(){return{}}}),Kn=function(){return Object(i.useContext)(Xn)},ne=function(n){var e=n.children,t=Object(i.useState)(null),c=Object(z.a)(t,2),o=c[0],a=c[1];return Object(r.jsx)(Xn.Provider,{value:{moviePreview:o,setMoviePreview:a},children:e})},ee=t(24),te=t(48),re=t.n(te);function ie(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 1rem;\n\n    &:last-of-type {\n        margin-bottom: 4rem;\n    }\n"]);return ie=function(){return n},n}var ce=j.b.div(ie()),oe=function(){var n=Object(l.f)(),e=ln(),t=e.room,c=e.dispatch,o=an(),a=o.user,u=o.setUser,s={name:a.name||"",roomName:""},d=Object(i.useState)(!1),b=Object(z.a)(d,2),j=b[0],m=b[1],f=Object(i.useState)(s),p=Object(z.a)(f,2),h=p[0],O=p[1],v=Object(i.useState)({}),x=Object(z.a)(v,2),g=x[0],w=x[1],y=Object(i.useState)(!1),k=Object(z.a)(y,2),S=k[0],I=k[1],C=function(){var n={};h.name||(n.name="Name is required.");return n}(),T=!Object.keys(C).length;return Object(r.jsxs)($,{onSubmit:function(e){if(e.preventDefault(),I(!0),T){m(!0),t.roomId&&(_.disconnect(),_.connect());var r=Object(E.a)(Object(E.a)({},a),{},{name:h.name,color:re()({luminosity:"light",hue:"blue"})});u(r),A({roomId:null},(function(e){if(e.success){var t=e.data.roomId;c({type:H.INITIALIZE_ROOM,payload:{roomName:h.roomName,roomId:t,ownerId:r.id,participant:r}}),n.push("/selection/".concat(t))}}))}},children:[Object(r.jsxs)(ce,{children:[Object(r.jsx)("label",{htmlFor:"name",children:"Your name"}),Object(r.jsx)("input",{type:"text",name:"name",id:"name",value:h.name,onChange:function(n){var e=n.target,t=e.name,r=e.value;O((function(n){return Object(E.a)(Object(E.a)({},n),{},Object(R.a)({},t,r))}))},onBlur:function(n){var e=n.target.name;w((function(n){return Object(E.a)(Object(E.a)({},n),{},Object(R.a)({},e,!0))}))}}),(g.name||S)&&C.name&&Object(r.jsx)(q,{children:C.name})]}),Object(r.jsx)(K,{$disabled:j,disabled:j,children:"Get Started"})]})},ae=function(){return Object(r.jsxs)(Y,{children:[Object(r.jsx)(ee.a,{children:Object(r.jsx)("title",{children:"Create | Movie Swiper"})}),Object(r.jsx)(Z,{children:"Create New Room"}),Object(r.jsx)(Q,{children:"Enter your name before proceeding to movie selection."}),Object(r.jsx)(oe,{})]})};function ue(){var n=Object(b.a)([""]);return ue=function(){return n},n}var se=Object(j.b)(J)(ue()),de=function(){return Object(r.jsxs)(se,{children:[Object(r.jsx)(Z,{children:"Not Found"}),Object(r.jsx)(Q,{children:"Sorry, the room you're trying to join does not exist or has expired."})]})};function le(){var n=Object(b.a)(["\n    line-height: 1.5;\n    @media screen and (min-width: 500px) {\n        font-size: 1.125rem;\n    }\n"]);return le=function(){return n},n}function be(){var n=Object(b.a)(["\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    color: var(--gray);\n    font-weight: 400;\n    font-size: 0.875rem;\n    margin-bottom: 0.5rem;\n    display: flex;\n    align-items: center;\n"]);return be=function(){return n},n}function je(){var n=Object(b.a)(["\n    padding: 1.5rem;\n    background-color: var(--blue-active);\n    border-radius: 4px;\n    box-shadow: 0px 5px 15px 5px rgb(24 38 53 / 55%);\n"]);return je=function(){return n},n}var me=j.b.article(je()),fe=j.b.h3(be()),pe=j.b.p(le()),he=function(n){var e=n.children;return Object(r.jsx)(fe,{children:e})},Oe=function(n){var e=n.children;return Object(r.jsx)(pe,{children:e})},ve=function(n){var e=n.children,t=c.a.Children.toArray(e).filter((function(n){return c.a.isValidElement(n)&&n.type===he})),i=c.a.Children.toArray(e).filter((function(n){return c.a.isValidElement(n)&&n.type===Oe}));return Object(r.jsxs)(me,{children:[t,i]})};ve.Headline=he,ve.Body=Oe;var xe=ve;function ge(){var n=Object(b.a)(["\n    ","\n"]);return ge=function(){return n},n}function we(){var n=Object(b.a)(["\n    ","\n"]);return we=function(){return n},n}function ye(){var n=Object(b.a)(["\n    ","\n    margin-right: 0.5rem;\n"]);return ye=function(){return n},n}function ke(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    margin-right: 0.75rem;\n"]);return ke=function(){return n},n}function Se(){var n=Object(b.a)(["\n    max-width: 1100px;\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-gap: 1rem;\n    margin: 4rem 1.5rem;\n    position: relative;\n    z-index: 3;\n    position: relative;\n\n    &::after {\n        content: '';\n        position: absolute;\n        height: 2px;\n        background: var(--blue-muted);\n        width: 100%;\n        bottom: -4rem;\n        left: 0;\n    }\n\n    @media screen and (min-width: 750px) {\n        grid-template-columns: repeat(3, 1fr);\n        grid-gap: 2rem;\n        margin-top: -5rem;\n    }\n\n    @media screen and (min-width: 1100px) {\n        margin: -5rem auto 4rem auto;\n    }\n"]);return Se=function(){return n},n}var Ie=j.b.section(Se()),Ce=Object(j.a)(ke()),Ee=Object(j.b)(M.h)(ye(),Ce),ze=Object(j.b)(M.b)(we(),Ce),Re=Object(j.b)(M.c)(ge(),Ce),Te=[{headline:"Invite your friends",body:"Create a room, copy the link and share it with others.",icon:Object(r.jsx)(Ee,{})},{headline:"Pick your movies",body:"Browse by genre or find the exact movie you have in mind, then add it to the shared list.",icon:Object(r.jsx)(ze,{})},{headline:"Swipe to vote",body:Object(r.jsxs)(r.Fragment,{children:["Like a movie? Swipe right. ",Object(r.jsx)("br",{}),"Dislike a movie? Swipe left."]}),icon:Object(r.jsx)(Re,{})}],Me=function(){return Object(r.jsx)(Ie,{children:Te.map((function(n){return Object(r.jsxs)(xe,{children:[Object(r.jsxs)(xe.Headline,{children:[n.icon," ",n.headline]}),Object(r.jsx)(xe.Body,{children:n.body})]},n.headline)}))})},Ne=t(23),_e=t.n(Ne),Ae=t(30),Fe=t(27),Le=t.n(Fe),Pe=t(17);function De(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    margin-right: 0.5rem;\n"]);return De=function(){return n},n}function Ge(){var n=Object(b.a)(["\n    padding: 1rem 0;\n    background: var(--blue-active);\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    text-align: center;\n    border-radius: 0 0 4px 4px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n"]);return Ge=function(){return n},n}function Ue(){var n=Object(b.a)(["\n    display: block;\n    object-fit: cover;\n    height: 100%;\n    width: 100%;\n    border-radius: 4px;\n"]);return Ue=function(){return n},n}function Be(){var n=Object(b.a)(["\n    width: 225px;\n    padding: 1rem 1rem 0;\n    border-radius: 4px;\n    cursor: pointer;\n    background-color: var(--blue-active);\n    display: flex;\n    flex-direction: column;\n"]);return Be=function(){return n},n}var Ve=j.b.button(Be()),We=j.b.img(Ue()),He=j.b.div(Ge()),Je=Object(j.b)(Pe.d)(De()),Ye=function(){var n=Object(i.useState)(null),e=Object(z.a)(n,2),t=e[0],c=e[1],o=Object(i.useState)(!0),a=Object(z.a)(o,2),u=(a[0],a[1]),s=t&&rn(t.poster_path,"w342"),d=Kn().setMoviePreview;return Object(i.useEffect)((function(){(function(){var n=Object(Ae.a)(_e.a.mark((function n(){var e;return _e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u(!0),n.next=4,Le.a.get("/movies/random");case 4:200===(e=n.sent).status&&c(e.data),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),c(null);case 12:return n.prev=12,u(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,8,12,15]])})));return function(){return n.apply(this,arguments)}})()()}),[]),t&&s?Object(r.jsxs)(Ve,{onClick:function(){return d(t)},children:[Object(r.jsx)(We,{src:s,alt:"Movie poster for ".concat(null===t||void 0===t?void 0:t.title,".")}),Object(r.jsxs)(He,{children:[Object(r.jsx)(Je,{}),"See Details"]})]}):null};function $e(){var n=Object(b.a)(["\n    max-width: 350px;\n    h2 {\n        font-size: 1.5rem;\n        font-weight: 500;\n        margin-bottom: 1rem;\n        text-transform: uppercase;\n        letter-spacing: 1px;\n    }\n\n    p {\n        color: var(--white-muted);\n        line-height: 1.5;\n        margin-bottom: 0.5rem;\n\n        &:nth-last-of-type(2) {\n            margin-bottom: 1rem;\n        }\n\n        &:last-of-type {\n            margin-bottom: 2rem;\n        }\n\n        @media screen and (min-width: 600px) {\n            &:last-of-type {\n                margin-bottom: 0;\n            }\n        }\n    }\n\n    ul {\n        list-style-position: inside;\n        margin-bottom: 1rem;\n\n        & > li + li {\n            margin-top: 0.5rem;\n        }\n    }\n"]);return $e=function(){return n},n}function qe(){var n=Object(b.a)(["\n    padding: 4rem 1.5rem 4rem;\n    max-width: 700px;\n\n    & "," {\n        flex: 0 0 200px;\n    }\n\n    @media screen and (min-width: 600px) {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin: 0 auto;\n    }\n"]);return qe=function(){return n},n}var Ze=Object(j.b)(J)(qe(),Ve),Qe=j.b.div($e()),Xe=function(){return Object(r.jsxs)(Ze,{children:[Object(r.jsxs)(Qe,{children:[Object(r.jsx)("h2",{children:"See movie details"}),Object(r.jsx)("p",{children:"Want to learn more about a movie before casting your vote? No problem."}),Object(r.jsx)("p",{children:"Tap on a movie to see more details, including:"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Description"}),Object(r.jsx)("li",{children:"Runtime"}),Object(r.jsx)("li",{children:"Rating"}),Object(r.jsx)("li",{children:"Genres"}),Object(r.jsx)("li",{children:"Trailer"})]}),Object(r.jsx)("p",{children:"Try it out, tap on the movie card."})]}),Object(r.jsx)(Ye,{})]})},Ke=t.p+"static/media/movie-posters.0e940876.jpg";function nt(){var n=Object(b.a)(["\n    flex: 0;\n    background: var(--blue-action);\n    padding: 1rem 3rem;\n    font-weight: 500;\n    transition: background 100ms ease-in;\n    width: 100%;\n    margin: auto;\n\n    &:hover {\n        background: var(--blue-action-90);\n    }\n"]);return nt=function(){return n},n}function et(){var n=Object(b.a)(["\n    display: inline;\n    @media (min-width: 500px) {\n        display: none;\n    }\n"]);return et=function(){return n},n}function tt(){var n=Object(b.a)(["\n    text-transform: uppercase;\n    font-size: 1rem;\n    font-weight: 500;\n    color: #d8d8d8;\n    margin-bottom: 1rem;\n    letter-spacing: 2px;\n    margin-right: auto;\n    position: relative;\n    text-align: center;\n"]);return tt=function(){return n},n}function rt(){var n=Object(b.a)(["\n    color: var(--white);\n    font-weight: 700;\n    font-size: 2.75rem;\n    text-transform: none;\n    line-height: 1.2;\n\n    @media (min-width: 700px) {\n        font-size: 3.5rem;\n    }\n"]);return rt=function(){return n},n}function it(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    font-size: 2rem;\n    max-width: 650px;\n    letter-spacing: 1px;\n    line-height: 1.4;\n    color: #b3c4d8;\n    margin: 0 0 4rem;\n    font-weight: 400;\n    text-align: center;\n    text-transform: uppercase;\n    position: relative;\n\n    &::after {\n        /* content: ''; */\n        position: absolute;\n        height: 2px;\n        background: #cecece54;\n        background: #aaaaaa;\n        width: 100%;\n        bottom: -0.5rem;\n        left: 0;\n    }\n\n    @media (min-width: 700px) {\n        font-size: 2.25rem;\n    }\n"]);return it=function(){return n},n}function ct(){var n=Object(b.a)(["\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 4rem 1.5rem;\n    min-height: 500px;\n\n    @media (min-width: 450px) {\n        margin: auto;\n    }\n\n    @media (min-width: 700px) {\n        align-items: flex-start;\n        min-height: 600px;\n    }\n\n    @media (min-width: 1500px) {\n        padding: 6rem 1rem;\n        min-height: 700px;\n    }\n"]);return ct=function(){return n},n}function ot(){var n=Object(b.a)(["\n    position: relative;\n    z-index: 1;\n    overflow: hidden;\n\n    &:before {\n        content: '';\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        width: 100%;\n        height: 100%;\n        z-index: -2;\n        background-image: url(",");\n        background-size: cover;\n        background-position: top;\n        background-repeat: no-repeat;\n    }\n\n    &:after {\n        content: '';\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: hsl(211deg 43% 13% / 90%);\n        width: 100%;\n        height: 100%;\n        z-index: -1;\n    }\n"]);return ot=function(){return n},n}var at=j.b.section(ot(),Ke),ut=j.b.section(ct()),st=j.b.h1(it()),dt=j.b.span(rt()),lt=j.b.h2(tt()),bt=(j.b.br(et()),Object(j.b)(X)(nt())),jt=function(){var n=Object(l.f)();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ee.a,{children:Object(r.jsx)("title",{children:"Movie Swiper"})}),Object(r.jsxs)(at,{children:[Object(r.jsx)(Gn,{forceShow:!0}),Object(r.jsx)(ut,{children:Object(r.jsxs)("div",{children:[Object(r.jsxs)(st,{children:["Movie night?",Object(r.jsx)(dt,{children:"Put it to a vote"})]}),Object(r.jsx)(lt,{children:"Find the right movie"}),Object(r.jsx)(bt,{onClick:function(){n.push("/create")},children:"Get Started"})]})})]}),Object(r.jsx)(Me,{}),Object(r.jsx)(Xe,{})]})};function mt(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 1rem;\n\n    &:last-of-type {\n        margin-bottom: 4rem;\n    }\n"]);return mt=function(){return n},n}var ft=j.b.div(mt()),pt={name:""},ht=function(){var n=Object(l.f)(),e=Object(l.h)().id,t=an(),c=t.user,o=t.setUser,a=Object(i.useState)(pt),u=Object(z.a)(a,2),s=u[0],d=u[1],b=Object(i.useState)({}),j=Object(z.a)(b,2),m=j[0],f=j[1],p=Object(i.useState)(!1),h=Object(z.a)(p,2),O=h[0],v=h[1],x=function(){var n={};s.name||(n.name="Name is required.");return n}(),g=!Object.keys(x).length;return Object(r.jsxs)($,{onSubmit:function(t){if(t.preventDefault(),v(!0),g){var r=Object(E.a)(Object(E.a)({},c),{},{name:s.name,color:re()({luminosity:"light",hue:"blue"})});o(r),n.push("/selection/".concat(e))}},children:[Object(r.jsxs)(ft,{children:[Object(r.jsx)("label",{children:"Your name"}),Object(r.jsx)("input",{type:"text",name:"name",onChange:function(n){var e=n.target,t=e.name,r=e.value;d((function(n){return Object(E.a)(Object(E.a)({},n),{},Object(R.a)({},t,r))}))},onBlur:function(n){var e=n.target.name;f((function(n){return Object(E.a)(Object(E.a)({},n),{},Object(R.a)({},e,!0))}))}}),(m.name||O)&&x.name&&Object(r.jsx)(q,{children:x.name})]}),Object(r.jsx)(K,{children:"Get Started"})]})},Ot=function(){return Object(r.jsxs)(Y,{children:[Object(r.jsx)(ee.a,{children:Object(r.jsx)("title",{children:"Join | Movie Swiper"})}),Object(r.jsx)(Z,{children:"Enter Your Name"}),Object(r.jsx)(Q,{children:"Enter your name before proceeding to movie selection."}),Object(r.jsx)(ht,{})]})};function vt(){var n=Object(b.a)([""]);return vt=function(){return n},n}function xt(){var n=Object(b.a)(["\n    line-height: 1.3;\n"]);return xt=function(){return n},n}function gt(){var n=Object(b.a)(["\n    padding: 0.75rem;\n    margin: ",";\n    border-radius: 4px;\n    display: inline-block;\n    max-width: 500px;\n    background: ",";\n    color: hsl(340deg 38% 94%);\n"]);return gt=function(){return n},n}var wt=j.b.div(gt(),(function(n){return n.margin||""}),(function(n){return n.backgroundColor||"var(--accent-active)"})),yt=j.b.p(xt()),kt=j.b.aside(vt()),St=function(n){var e=n.text,t=n.margin,i=n.backgroundColor,c=n.children;return c?Object(r.jsx)(wt,{margin:t,backgroundColor:i,children:Object(r.jsx)(kt,{children:c})}):Object(r.jsx)(wt,{margin:t,backgroundColor:i,children:Object(r.jsx)(yt,{children:e})})};function It(){var n=Object(b.a)(["\n    h2 {\n    }\n"]);return It=function(){return n},n}function Ct(){var n=Object(b.a)(["\n    margin-top: 0.5rem;\n    color: var(--white-muted);\n    font-weight: 500;\n    cursor: pointer;\n\n    span {\n        margin-right: 0.25rem;\n    }\n"]);return Ct=function(){return n},n}function Et(){var n=Object(b.a)(["\n    white-space: ",";\n    overflow: ",";\n    text-overflow: ",";\n    max-width: ","; ;\n"]);return Et=function(){return n},n}function zt(){var n=Object(b.a)(["\n    background-color: ",";\n    width: 12.5px;\n    height: 12.5px;\n    border-radius: 50%;\n    margin-right: 0.5rem;\n    flex-shrink: 0;\n"]);return zt=function(){return n},n}function Rt(){var n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    color: var(--white-muted);\n"]);return Rt=function(){return n},n}function Tt(){var n=Object(b.a)(["\n    list-style: none;\n    margin-top: 0.5rem;\n    padding: 0.5rem 0;\n\n    & > * + * {\n        margin-top: 0.5rem;\n    }\n"]);return Tt=function(){return n},n}var Mt=j.b.ul(Tt()),Nt=j.b.li(Rt()),_t=j.b.div(zt(),(function(n){return n.color})),At=j.b.p(Et(),(function(n){return 0===n.wrap&&"nowrap"}),(function(n){return 0===n.wrap&&"hidden"}),(function(n){return 0===n.wrap&&"ellipsis"}),(function(n){return 0===n.wrap&&"110px"})),Ft=j.b.button(Ct()),Lt=j.b.section(It()),Pt=function(n){var e=n.users,t=Object(i.useState)(!1),c=Object(z.a)(t,2),o=c[0],a=c[1];return e.length>3?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Mt,{children:[e.slice(0,3).map((function(n){return Object(r.jsxs)(Nt,{children:[Object(r.jsx)(_t,{color:n.color}),Object(r.jsx)(At,{wrap:0,children:n.name})]},n.id)})),Object(r.jsx)(Nt,{children:Object(r.jsxs)(Ft,{onClick:function(){return a(!0)},children:[Object(r.jsxs)("span",{children:["+",e.length-3]})," More"]})})]}),Object(r.jsx)(hn,{visible:o,onClose:function(){return a(!1)},height:300,children:Object(r.jsxs)(Lt,{children:[Object(r.jsx)("h2",{children:"Likes"}),Object(r.jsx)(Mt,{children:e.map((function(n){return Object(r.jsxs)(Nt,{children:[Object(r.jsx)(_t,{color:n.color}),Object(r.jsx)(At,{wrap:1,children:n.name})]},n.id)}))})]})})]}):Object(r.jsx)(Mt,{children:e.map((function(n){return Object(r.jsxs)(Nt,{children:[Object(r.jsx)(_t,{color:n.color}),Object(r.jsx)(At,{wrap:0,children:n.name})]},n.id)}))})};function Dt(){var n=Object(b.a)(["\n    font-size: 1rem;\n    margin-right: 0.5rem;\n"]);return Dt=function(){return n},n}function Gt(){var n=Object(b.a)(["\n    background: var(--blue-active);\n    width: 100%;\n    padding: 1rem;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n"]);return Gt=function(){return n},n}function Ut(){var n=Object(b.a)(["\n    width: 100%;\n    background: var(--blue-dark);\n    padding: 1rem 1.5rem;\n"]);return Ut=function(){return n},n}function Bt(){var n=Object(b.a)(["\n    font-size: 1.125rem;\n    font-weight: 600;\n    line-height: 1.3;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom: 1px solid var(--blue-active);\n    padding-bottom: 0.75rem;\n"]);return Bt=function(){return n},n}function Vt(){var n=Object(b.a)(["\n    font-weight: 600;\n    font-size: 1.25rem;\n    text-align: center;\n    padding: 0.5rem 1rem;\n    background: hsl(213deg 47% 48% / 90%);\n    position: absolute;\n    top: -1rem;\n    left: 50%;\n    transform: translateX(-50%);\n    display: flex;\n    align-items: baseline;\n    border-radius: 4px;\n\n    span {\n        font-size: 1rem;\n        font-weight: 500;\n        text-transform: uppercase;\n        letter-spacing: 1px;\n        margin-left: 0.5rem;\n    }\n"]);return Vt=function(){return n},n}function Wt(){var n=Object(b.a)(["\n    height: 230px;\n    object-fit: cover;\n    display: block;\n    border-radius: 4px;\n"]);return Wt=function(){return n},n}function Ht(){var n=Object(b.a)(["\n    position: relative;\n"]);return Ht=function(){return n},n}function Jt(){var n=Object(b.a)(["\n    display: flex;\n    position: relative;\n"]);return Jt=function(){return n},n}function Yt(){var n=Object(b.a)(["\n    border-right: 1px solid var(--blue-dark);\n    border-radius: 4px;\n    background: var(--blue-dark);\n"]);return Yt=function(){return n},n}var $t=j.b.article(Yt()),qt=j.b.div(Jt()),Zt=Object(j.b)(s.c.div)(Ht()),Qt=Object(j.b)(s.c.img)(Wt()),Xt=j.b.p(Vt()),Kt=j.b.h3(Bt()),nr=j.b.div(Ut()),er=Object(j.b)(X)(Gt()),tr=Object(j.b)(Pe.d)(Dt()),rr=function(n){var e=n.movie,t=Kn().setMoviePreview,i=Object(l.g)().pathname,c=e.swipes.filter((function(n){return n.liked})).map((function(n){return n.user}));return Object(r.jsxs)($t,{children:[Object(r.jsxs)(qt,{children:[Object(r.jsxs)(Zt,{children:[Object(r.jsxs)(Xt,{children:[c.length," ",Object(r.jsx)("span",{children:"likes"})]}),Object(r.jsx)(Qt,{src:rn(e.poster_path,"w500")})]}),Object(r.jsxs)(nr,{children:[Object(r.jsx)(Kt,{children:e.title}),Object(r.jsx)(Pt,{users:c})]})]}),Object(r.jsxs)(er,{onClick:function(){i.includes(e.id.toString())?t(null):t(e)},children:[Object(r.jsx)(tr,{}),"Movie Details"]})]})};function ir(){var n=Object(b.a)(["\n    text-align: center;\n"]);return ir=function(){return n},n}function cr(){var n=Object(b.a)(["\n    display: grid;\n    gap: 4rem;\n    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n"]);return cr=function(){return n},n}var or=j.b.section(cr()),ar=j.b.p(ir()),ur=function(n){var e=n.movies;return e.length?Object(r.jsx)(or,{children:e.map((function(n){return Object(r.jsx)(rr,{movie:n},n.id)}))}):Object(r.jsx)(ar,{children:"No matches yet."})};function sr(){var n=Object(b.a)([""]);return sr=function(){return n},n}var dr=Object(j.b)(J)(sr()),lr=function(){var n=ln().room,e=n.movies.map((function(n){var e=n.swipes.reduce((function(n,e){return e.liked?n+1:n}),0);return Object(E.a)(Object(E.a)({},n),{},{likes:e})})).sort((function(n,e){return e.likes-n.likes})).filter((function(n){return n.likes>1})),t=function(){var e=n.participants.map((function(n){return n.id}));return n.movies.reduce((function(n,t){var r=t.swipes.map((function(n){return n.user.id}));return t.swipes.length>=e.length&&e.every((function(n){return r.includes(n)}))}),!0)?{text:"Everyone's done swiping. See the final results below.",backgroundColor:"var(--accent-purple)"}:{text:"Others are still swiping. Results may change.",backgroundColor:"hsla(0, 0%, 49.4%, 0.5)"}}(),i=t.text,c=t.backgroundColor;return Object(r.jsxs)(dr,{children:[Object(r.jsx)(ee.a,{children:Object(r.jsx)("title",{children:"Results | Movie Swiper"})}),Object(r.jsx)(Z,{children:"Final Results"}),Object(r.jsx)(Q,{children:"Only movies that 2 or more participants liked will show up here."}),Object(r.jsx)(St,{text:i,margin:"0 0 4rem",backgroundColor:c}),Object(r.jsx)(ur,{movies:e})]})},br=function(n){var e=ln().room,t=an().user,i=e.movies.find((function(e){return e.id===n.id})),c=(null===i||void 0===i?void 0:i.addedByUserId)===t.id;return{movieActionHandler:function(){if(i){if(i&&!c)return void cn({type:en.Custom,message:function(){return Object(r.jsxs)("span",{children:[Object(r.jsx)(nn,{children:n.title})," can only be removed by the person who added it."]})},duration:4e3});!function(n,e){_.emit("movie:remove",n,e)}({roomId:e.roomId,movieId:n.id},(function(e){e.success||d.b.error("There was a problem removing ".concat(n.title,"."))}))}else{var o=Object(E.a)(Object(E.a)({},n),{},{addedByUserId:t.id,swipes:[]});a={roomId:e.roomId,movie:o},u=function(e){e.success?cn({type:en.Success,message:function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("span",{children:["You added ",Object(r.jsx)(nn,{children:n.title}),"."]})})}}):(cn({type:en.Error,message:function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("span",{children:["There was a problem adding ",Object(r.jsx)(nn,{children:n.title}),"."]})})}}),d.b.error("There was a problem adding ".concat(n.title,".")))},_.emit("movie:add",a,u)}var a,u},buttonBackgroundColor:i?i&&!c?"hsl(213deg 6% 37% / 90%)":"var(--accent-dark-90)":"hsl(213deg 40% 49%)",movieInList:i}},jr=t(90),mr=t(20),fr=t(60);function pr(){var n=Object(b.a)(["\n    display: none;\n    max-width: 300px;\n    background: ",";\n    padding: 0.5rem 1rem;\n    border-radius: 4px;\n    margin-bottom: 2rem;\n\n    @media screen and (min-width: 600px) {\n        display: flex;\n    }\n"]);return pr=function(){return n},n}function hr(){var n=Object(b.a)(["\n    display: none;\n    cursor: pointer;\n    position: absolute;\n    right: 1rem;\n    top: 1rem;\n\n    @media screen and (min-width: 600px) {\n        display: block;\n    }\n"]);return hr=function(){return n},n}function Or(){var n=Object(b.a)(["\n    font-size: 2rem;\n    color: var(--white-muted);\n"]);return Or=function(){return n},n}function vr(){var n=Object(b.a)(["\n    ","\n"]);return vr=function(){return n},n}function xr(){var n=Object(b.a)(["\n    ","\n"]);return xr=function(){return n},n}function gr(){var n=Object(b.a)(["\n    ","\n"]);return gr=function(){return n},n}function wr(){var n=Object(b.a)(["\n    margin-right: 1rem;\n    font-size: 1.125rem;\n"]);return wr=function(){return n},n}function yr(){var n=Object(b.a)(["\n    background: ",";\n    border-top-left-radius: 0;\n"]);return yr=function(){return n},n}function kr(){var n=Object(b.a)([""]);return kr=function(){return n},n}function Sr(){var n=Object(b.a)(["\n    display: flex;\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: hsl(213deg 23% 25%);\n    box-shadow: 0 -2px 10px -1px rgb(0 0 0 / 30%);\n    margin-top: auto;\n\n    @media screen and (min-width: 600px) {\n        display: none;\n    }\n"]);return Sr=function(){return n},n}function Ir(){var n=Object(b.a)(["\n    width: 100%;\n\n    @media screen and (min-width: 450px) {\n        height: 275px;\n    }\n\n    @media screen and (min-width: 600px) {\n        height: 500px;\n        margin-bottom: 3rem;\n    }\n"]);return Ir=function(){return n},n}function Cr(){var n=Object(b.a)(["\n    margin-left: 0.5rem;\n    color: #dada1b;\n"]);return Cr=function(){return n},n}function Er(){var n=Object(b.a)(["\n    p {\n        display: flex;\n    }\n"]);return Er=function(){return n},n}function zr(){var n=Object(b.a)(["\n    display: grid;\n    grid-gap: 1rem;\n    margin-bottom: 2rem;\n\n    @media screen and (min-width: 350px) {\n        grid-template-columns: repeat(2, minmax(130px, 200px));\n    }\n"]);return zr=function(){return n},n}function Rr(){var n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n"]);return Rr=function(){return n},n}function Tr(){var n=Object(b.a)(["\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    padding-bottom: 0.5rem;\n    margin-bottom: 1rem;\n    color: var(--gray);\n    border-bottom: 1px solid;\n    font-size: 0.875rem;\n"]);return Tr=function(){return n},n}function Mr(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    font-weight: 600;\n    margin-bottom: 0.5rem;\n"]);return Mr=function(){return n},n}function Nr(){var n=Object(b.a)(["\n    line-height: 1.7;\n    margin-bottom: 2rem;\n"]);return Nr=function(){return n},n}function _r(){var n=Object(b.a)(["\n    background: #495768;\n    color: var(--white);\n    padding: 0.125rem 0.75rem;\n    border-radius: 99px;\n"]);return _r=function(){return n},n}function Ar(){var n=Object(b.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    margin-bottom: 2rem;\n\n    & > * {\n        margin-top: 0.5rem;\n        margin-right: 0.5rem;\n    }\n"]);return Ar=function(){return n},n}function Fr(){var n=Object(b.a)(["\n    margin-bottom: 1rem;\n    color: var(--white-muted);\n"]);return Fr=function(){return n},n}function Lr(){var n=Object(b.a)(["\n    font-size: 3rem;\n    margin-bottom: 0.5rem;\n"]);return Lr=function(){return n},n}function Pr(){var n=Object(b.a)(["\n    height: auto;\n    min-height: 100%;\n    width: 100%;\n    position: relative;\n    padding: 2rem 2rem 6rem;\n\n    @media screen and (min-width: 600px) {\n        max-width: 800px;\n        max-height: 500px;\n        left: 0;\n        right: 0;\n        margin: auto;\n        border-radius: 4px;\n        padding: 3rem;\n    }\n"]);return Pr=function(){return n},n}function Dr(){var n=Object(b.a)(["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 100%;\n    width: 100%;\n    display: block;\n    object-fit: cover;\n    filter: brightness(0.25);\n    z-index: -1;\n\n    @media screen and (min-width: 600px) {\n        height: auto;\n    }\n"]);return Dr=function(){return n},n}function Gr(){var n=Object(b.a)(["\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    will-change: opacity;\n    z-index: 7;\n    overflow-y: scroll;\n\n    @media screen and (min-width: 600px) {\n        max-width: 800px;\n        max-height: 500px;\n        left: 0;\n        right: 0;\n        margin: auto;\n        background: rgba(0, 0, 0, 0.5);\n        border-radius: 4px;\n    }\n"]);return Gr=function(){return n},n}function Ur(){var n=Object(b.a)(["\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0);\n    will-change: opacity;\n    z-index: 6;\n\n    @media screen and (min-width: 600px) {\n        background: rgba(0, 0, 0, 0.5);\n    }\n"]);return Ur=function(){return n},n}var Br=Object(j.b)(s.c.div)(Ur()),Vr=Object(j.b)(s.c.section)(Gr()),Wr=Object(j.b)(s.c.img)(Dr()),Hr=Object(j.b)(s.c.article)(Pr()),Jr=Object(j.b)(s.c.h3)(Lr()),Yr=j.b.p(Fr()),$r=j.b.div(Ar()),qr=j.b.p(_r()),Zr=j.b.p(Nr()),Qr=j.b.p(Mr()),Xr=j.b.p(Tr()),Kr=j.b.p(Rr()),ni=j.b.div(zr()),ei=j.b.div(Er()),ti=Object(j.b)(jr.a)(Cr()),ri=j.b.iframe(Ir()),ii=Object(j.b)(s.c.div)(Sr()),ci=Object(j.b)(X)(kr()),oi=Object(j.b)(X)(yr(),(function(n){return n.backgroundColor||"var(--blue-action)"})),ai=Object(j.a)(wr()),ui=Object(j.b)(fr.a)(gr(),ai),si=Object(j.b)(mr.c)(xr(),ai),di=Object(j.b)(mr.b)(vr(),ai),li=Object(j.b)(fr.b)(Or()),bi=j.b.button(hr()),ji=Object(j.b)(X)(pr(),(function(n){return n.backgroundColor||"var(--blue-action)"})),mi=function(n){var e,t,c,o=n.movie,a=Object(l.f)(),u=ln().room,d=br(o),b=d.movieActionHandler,j=d.buttonBackgroundColor,m=d.movieInList,p=Kn().setMoviePreview,h=Object(i.useState)(null),O=Object(z.a)(h,2),v=O[0],x=O[1],g=Object(i.useState)(!1),w=Object(z.a)(g,2),y=(w[0],w[1]),k=rn(o.poster_path,"w500"),S=v&&(null===v||void 0===v||null===(e=v.videos)||void 0===e||null===(t=e.results)||void 0===t?void 0:t.find((function(n){return"Trailer"===n.type&&"YouTube"===n.site}))),I="https://www.youtube.com/embed/".concat(null===S||void 0===S?void 0:S.key),C=a.location.pathname.includes(f.SELECTION),E=function(){p(null)};Object(i.useEffect)((function(){var n=function(n){"Escape"===n.key&&a.push("/selection/".concat(u.roomId))};return window.addEventListener("keydown",n),window.removeEventListener("keydown",n)}),[]),Object(i.useEffect)((function(){return T(),document.body.style.overflow="hidden",function(){R.cancel("Component got unmounted"),document.body.style.overflow="unset"}}),[o]);var R=Le.a.CancelToken.source(),T=function(){var n=Object(Ae.a)(_e.a.mark((function n(){var e;return _e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,y(!0),n.next=4,Le.a.get("/movies/".concat(o.id),{cancelToken:R.token});case 4:200===(e=n.sent).status&&x(e.data),y(!1),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),R.cancel("Error in try catch block."),console.log(n.t0),y(!1);case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return Object(r.jsx)(Br,{"data-overlay":!0,onClick:function(n){n.target.attributes["data-overlay"]&&p(null)},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:0}},children:Object(r.jsx)(Vr,{children:Object(r.jsxs)(Hr,{initial:{opacity:0},animate:{opacity:1},layoutId:"image-".concat(o.id),children:[Object(r.jsx)(bi,{onClick:E,children:Object(r.jsx)(li,{})}),Object(r.jsx)(Wr,{src:k,alt:"Movie poster for ".concat(o.title,".")}),Object(r.jsx)(s.a,{children:v&&Object(r.jsxs)(s.c.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,delay:.25},children:[C&&Object(r.jsxs)(ji,{onClick:b,backgroundColor:j,children:[" ",!m&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(si,{})," Add Movie"]}),m&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(di,{})," Remove Movie"]})]}),Object(r.jsx)(Jr,{children:v.title}),Object(r.jsx)(Yr,{children:v.tagline}),Object(r.jsx)($r,{children:null===(c=v.genres)||void 0===c?void 0:c.map((function(n){return Object(r.jsx)(qr,{children:n.name},n.id)}))}),Object(r.jsx)(Qr,{children:"Overview"}),Object(r.jsx)(Zr,{children:v.overview}),Object(r.jsx)(Xr,{children:"Details"}),Object(r.jsxs)(ni,{children:[Object(r.jsxs)(ei,{children:[Object(r.jsx)(Qr,{children:"Rating"}),Object(r.jsxs)(Kr,{children:[v.vote_average," ",Object(r.jsx)(ti,{})]})]}),Object(r.jsxs)(ei,{children:[Object(r.jsx)(Qr,{children:"Runtime"}),Object(r.jsxs)("p",{children:[v.runtime," min"]})]}),Object(r.jsxs)(ei,{children:[Object(r.jsx)(Qr,{children:"Released"}),Object(r.jsx)("p",{children:v.release_date})]}),Object(r.jsxs)(ei,{children:[Object(r.jsx)(Qr,{children:"Language"}),Object(r.jsx)("p",{children:v.original_language.toUpperCase()})]})]}),S&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Xr,{children:"Trailer"}),Object(r.jsx)(ri,{src:I,frameBorder:"0",allowFullScreen:!0})]}),Object(r.jsxs)(ii,{initial:{opacity:0,y:50},animate:{opacity:1,y:0,transition:{duration:.75}},children:[Object(r.jsxs)(ci,{onClick:E,children:[Object(r.jsx)(ui,{}),"Go Back"]}),C&&Object(r.jsxs)(oi,{onClick:b,backgroundColor:j,children:[!m&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(si,{})," Add Movie"]}),m&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(di,{})," Remove"]})]})]})]})})]})})})};function fi(){var n=Object(b.a)(["\n    background: var(--blue-action);\n    padding: 0.5rem 1.25rem;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n"]);return fi=function(){return n},n}function pi(){var n=Object(b.a)(["\n    display: flex;\n\n    input {\n        padding: 0.5rem;\n        border-radius: 4px;\n        flex-basis: 65%;\n        text-overflow: ellipsis;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n"]);return pi=function(){return n},n}function hi(){var n=Object(b.a)(["\n    color: var(--white-muted);\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 0.875rem;\n    margin-bottom: 0.5rem;\n    display: inline-block;\n"]);return hi=function(){return n},n}function Oi(){var n=Object(b.a)(["\n    margin-bottom: 2rem;\n\n    @media (min-width: 800px) {\n        max-width: 400px;\n    }\n"]);return Oi=function(){return n},n}var vi=j.b.aside(Oi()),xi=j.b.label(hi()),gi=j.b.div(pi()),wi=Object(j.b)(X)(fi()),yi=function(){var n=Object(i.useRef)(null);return Object(r.jsxs)(vi,{children:[Object(r.jsx)(xi,{children:"Invite Link"}),Object(r.jsxs)(gi,{children:[Object(r.jsx)("input",{type:"text",name:"link",defaultValue:window.location.href,ref:n,onClick:function(){var e;null===(e=n.current)||void 0===e||e.select()},readOnly:!0}),Object(r.jsx)(wi,{onClick:function(){navigator.clipboard.writeText(window.location.href),cn({type:en.Custom,message:"Copied to clipboard."})},children:"Copy"})]})]})};function ki(){var n=Object(b.a)(["\n    position: ",";\n    left: 0;\n    right: 0;\n    bottom: -3px;\n    display: flex;\n    box-shadow: 0 -2px 10px -1px rgb(0 0 0 / 30%);\n    width: 100%;\n    z-index: 4;\n\n    @media screen and (min-width: 600px) {\n        margin: auto;\n        width: fit-content;\n        bottom: 1rem;\n    }\n"]);return ki=function(){return n},n}var Si=Object(j.b)(s.c.div)(ki(),(function(n){return n.position||"fixed"})),Ii={initial:{y:75,opacity:0},animate:{y:0,opacity:1,transition:{duration:.5,delay:1}}},Ci=function(n){var e=n.position,t=n.children;return Object(r.jsx)(Si,{variants:Ii,initial:"initial",animate:"animate",position:e,children:t})},Ei=t(91);function zi(){var n=Object(b.a)(["\n    background: var(--accent-purple);\n    padding: 0.75rem 1rem;\n    width: 100%;\n    margin-top: 2rem;\n"]);return zi=function(){return n},n}function Ri(){var n=Object(b.a)(["\n    line-height: 1.3;\n    margin-bottom: 2rem;\n"]);return Ri=function(){return n},n}function Ti(){var n=Object(b.a)(["\n    padding: 0 1rem;\n    h2 {\n        font-size: 1.5rem;\n        font-weight: 600;\n        margin-bottom: 1rem;\n        display: flex;\n        align-items: center;\n    }\n\n    ul {\n        margin-bottom: 2rem;\n        & > * + * {\n            margin-top: 1rem;\n        }\n    }\n\n    li {\n        list-style: none;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        font-size: 1.125rem;\n\n        div {\n            display: flex;\n            align-items: center;\n        }\n\n        p {\n            text-transform: uppercase;\n            letter-spacing: 1px;\n            font-size: 0.875rem;\n            color: var(--white-muted);\n        }\n    }\n"]);return Ti=function(){return n},n}function Mi(){var n=Object(b.a)(["\n    margin-bottom: 1rem;\n    color: var(--white-muted);\n"]);return Mi=function(){return n},n}function Ni(){var n=Object(b.a)(["\n    flex: 30%;\n    background: var(--blue-dark-bg);\n    outline: none;\n    border-radius: 0;\n    border-top-left-radius: 4px;\n    border-bottom-left-radius: 4px;\n\n    span {\n        width: 20px;\n    }\n"]);return Ni=function(){return n},n}function _i(){var n=Object(b.a)(["\n    background: ",";\n"]);return _i=function(){return n},n}function Ai(){var n=Object(b.a)(["\n    background: ",";\n    color: ",";\n    transition: all ease-in 250ms;\n    flex: 70%;\n    outline: none;\n    border-radius: 0;\n    border-top-right-radius: 4px;\n    border-bottom-right-radius: 4px;\n\n    & "," {\n        transition: all ease-in 250ms;\n        color: ",";\n    }\n\n    @media screen and (min-width: 600px) {\n        padding: 1rem 2rem;\n        white-space: nowrap;\n    }\n"]);return Ai=function(){return n},n}function Fi(){var n=Object(b.a)(["\n    ","\n    font-size: 1rem;\n"]);return Fi=function(){return n},n}function Li(){var n=Object(b.a)(["\n    ","\n"]);return Li=function(){return n},n}function Pi(){var n=Object(b.a)(["\n    ","\n"]);return Pi=function(){return n},n}function Di(){var n=Object(b.a)(["\n    ","\n"]);return Di=function(){return n},n}function Gi(){var n=Object(b.a)(["\n    ","\n"]);return Gi=function(){return n},n}function Ui(){var n=Object(b.a)(["\n    ","\n"]);return Ui=function(){return n},n}function Bi(){var n=Object(b.a)(["\n    ","\n    margin-right: 0.5rem;\n"]);return Bi=function(){return n},n}function Vi(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    margin-right: 1rem;\n    width: 20px;\n"]);return Vi=function(){return n},n}function Wi(){var n=Object(b.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: -3px;\n    display: flex;\n    box-shadow: 0 -2px 10px -1px rgb(0 0 0 / 30%);\n    width: 100%;\n    z-index: 4;\n\n    @media screen and (min-width: 600px) {\n        margin: auto;\n        width: fit-content;\n        bottom: 1rem;\n    }\n"]);return Wi=function(){return n},n}j.b.div(Wi());var Hi=Object(j.a)(Vi()),Ji=Object(j.b)(M.f)(Bi(),Hi),Yi=Object(j.b)(Pe.a)(Ui(),Hi),$i=Object(j.b)(Pe.b)(Gi(),Hi),qi=(Object(j.b)(Ei.a)(Di(),Hi),Object(j.b)(Pe.e)(Pi(),Hi)),Zi=Object(j.b)(M.a)(Li(),Hi),Qi=Object(j.b)(M.e)(Fi(),Hi),Xi=Object(j.b)(X)(Ai(),(function(n){return n.disable?"#808080":"var(--accent-purple)"}),(function(n){return n.disable?"#cbc8c8":"var(--white)"}),qi,(function(n){return n.disable&&"#a9a9a9"})),Ki=Object(j.b)(Xi)(_i(),(function(n){return n.$ready?"var(--accent-purple)":"var(--blue-active)"})),nc=Object(j.b)(X)(Ni()),ec=(j.b.p(Mi()),j.b.div(Ti())),tc=(j.b.p(Ri()),Object(j.b)(X)(zi())),rc=function(){var n,e=ln().room,t=an().user,c=Object(l.f)(),o=Object(i.useState)(!1),a=Object(z.a)(o,2),u=a[0],s=a[1],b=Object(i.useState)(!1),j=Object(z.a)(b,2),m=j[0],f=j[1],p=e.participants.find((function(n){return n.id===e.ownerId})),h=null===(n=e.participants.find((function(n){return n.id===t.id})))||void 0===n?void 0:n.ready,O=e.participants.filter((function(n){return n.ready&&n.id!==e.ownerId})),v=!e.movies.length||!O.length,x=Object(i.useRef)(),g=Object(i.useRef)();return Object(i.useEffect)((function(){return function(){x.current&&(d.b.dismiss(x.current),x.current=void 0),clearTimeout(g.current)}}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Ci,{position:"fixed",children:[Object(r.jsxs)(nc,{onClick:function(n){n.stopPropagation(),s(!0)},children:[Object(r.jsx)(Ji,{})," ",Object(r.jsx)("span",{children:O.length})]}),p&&p.id===t.id?Object(r.jsxs)(Xi,{onClick:function(){v?e.participants.length<=1?cn({type:en.Custom,message:"Invite participants to start."}):e.movies.length?O.length||cn({type:en.Custom,message:"Wait for participants to be ready.",duration:3e3}):cn({type:en.Custom,message:"Add movies to the list to start.",duration:3e3}):f(!0)},disable:v,children:[Object(r.jsx)(qi,{}),"Start Swiping"]}):Object(r.jsxs)(Ki,{onClick:function(){var n,r;x.current&&d.b.dismiss(x.current),clearTimeout(g.current),n={roomId:e.roomId,userId:t.id},r=function(n){n.success&&!h&&(cn({type:en.Success,message:"The room owner has been notified.",duration:2500}),g.current=window.setTimeout((function(){return x.current=cn({type:en.Loading,message:"Waiting for room owner to start.",duration:99999})}),2500))},_.emit("user:ready",n,r)},$ready:Boolean(h),children:[h?Object(r.jsx)(Yi,{}):Object(r.jsx)($i,{}),"Ready To Swipe"]})]}),Object(r.jsx)(hn,{visible:u,onClose:function(){return s(!1)},height:300,maxWidth:400,children:Object(r.jsxs)(ec,{children:[Object(r.jsx)("h2",{children:"Participants"}),Object(r.jsx)("ul",{children:e.participants.map((function(n){return n.id===e.ownerId?Object(r.jsxs)("li",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Zi,{}),n.name]}),Object(r.jsx)("p",{children:"Owner"})]},n.id):Object(r.jsxs)("li",{children:[Object(r.jsxs)("div",{children:[n.ready?Object(r.jsx)(Ji,{style:{marginRight:"1rem"}}):Object(r.jsx)(Qi,{})," ",n.name]}),n.ready&&Object(r.jsx)("p",{children:"Ready"})]},n.id)}))})]})}),Object(r.jsx)(hn,{visible:m,onClose:function(){return f(!1)},height:280,maxWidth:400,children:Object(r.jsxs)(ec,{children:[Object(r.jsx)("h2",{children:"Start Swiping"}),Object(r.jsxs)("ol",{children:[Object(r.jsx)("li",{children:"This action will move everyone in the room to the swiping stage."}),Object(r.jsx)("br",{}),Object(r.jsx)("li",{children:"Once in this stage, room members won't be allowed to go back and add more movies."})]}),Object(r.jsx)(tc,{onClick:function(){var n,t;n={roomId:e.roomId},_.emit("swiper:start",n,t),c.replace("/swiper/".concat(e.roomId))},children:"Start"})]})})]})};function ic(){var n=Object(b.a)(["\n    display: ",";\n"]);return ic=function(){return n},n}function cc(){var n=Object(b.a)(["\n    background: none;\n    border: none;\n    cursor: pointer;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 0.875rem;\n    font-weight: ",";\n    border-bottom: ",";\n    background: ",";\n    color: var(--white);\n    padding: 1rem;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n"]);return cc=function(){return n},n}function oc(){var n=Object(b.a)(["\n    display: flex;\n    margin-bottom: 2rem;\n\n    & > * {\n        flex: 1;\n    }\n"]);return oc=function(){return n},n}var ac=j.b.nav(oc()),uc=j.b.button(cc(),(function(n){return n.selected?500:400}),(function(n){return!n.selected&&"2px solid var(--blue-active)"}),(function(n){return n.selected&&"var(--blue-active)"})),sc=j.b.section(ic(),(function(n){return n.show?"block":"none"})),dc=function(n){var e=n.tabs,t=n.children,c=Object(i.useState)(0),o=Object(z.a)(c,2),a=o[0],u=o[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ac,{children:e.map((function(n,e){return Object(r.jsx)(uc,{selected:a===e,onClick:function(n){return function(n){u(n)}(e)},children:n},e)}))}),t.map((function(n,e){return Object(r.jsx)(sc,{show:a===e,children:n},e)}))]})},lc=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function bc(){var n=Object(b.a)(["\n    font-size: 1.125rem;\n    margin-right: 0.5rem;\n"]);return bc=function(){return n},n}function jc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return jc=function(){return n},n}function mc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return mc=function(){return n},n}function fc(){var n=Object(b.a)(["\n    position: absolute;\n    top: 1rem;\n    left: 1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: ",";\n    border-radius: 50%;\n    padding: 0.25rem;\n    box-shadow: 0 10px 20px rgb(0 0 0 / 19%), 0 6px 6px rgb(0 0 0 / 23%);\n    cursor: pointer;\n    z-index: 2;\n"]);return fc=function(){return n},n}function pc(){var n=Object(b.a)(["\n    font-size: 1rem;\n    width: 100%;\n    padding: 0.5rem 1rem;\n    background: #445970;\n    position: absolute;\n    bottom: 0rem;\n    left: 0;\n    right: 0;\n    margin: auto;\n    z-index: 1;\n"]);return pc=function(){return n},n}function hc(){var n=Object(b.a)(["\n    line-height: 1.3;\n    position: relative;\n\n    /* &:after {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(\n            to top,\n            hsl(210, 38%, 15%) 0%,\n            hsla(210, 38%, 15%, 1) 18.7%,\n            hsla(210, 38%, 15%, 1) 34.8%,\n            hsla(210, 38%, 15%, 1) 48.6%,\n            hsla(210, 38%, 15%, 1) 60.3%,\n            hsla(210, 38%, 15%, 1) 69.9%,\n            hsla(210, 38%, 15%, 0.626) 77.8%,\n            hsla(210, 38%, 15%, 0.562) 84.1%,\n            hsla(210, 38%, 15%, 0.497) 89%,\n            hsla(210, 38%, 15%, 0.431) 92.7%,\n            hsla(210, 38%, 15%, 0.364) 95.4%,\n            hsla(210, 38%, 15%, 0.295) 97.2%,\n            hsla(210, 38%, 15%, 0.224) 98.4%,\n            hsla(210, 38%, 15%, 0.151) 99.2%,\n            hsla(210, 38%, 15%, 0.077) 99.6%,\n            hsla(210, 38%, 15%, 0) 100%\n        );\n\n        linear-gradient(\n            to bottom,\n            hsla(210, 38%, 15%, 0) 0%,\n            hsla(210, 38%, 15%, 0.106) 8.1%,\n            hsla(210, 38%, 15%, 0.2) 14.7%,\n            hsla(210, 38%, 15%, 0.284) 20%,\n            hsla(210, 38%, 15%, 0.358) 24.4%,\n            hsla(210, 38%, 15%, 0.426) 28.1%,\n            hsla(210, 38%, 15%, 0.487) 31.6%,\n            hsla(210, 38%, 15%, 0.544) 35.1%,\n            hsla(210, 38%, 15%, 0.598) 38.8%,\n            hsla(210, 38%, 15%, 0.649) 43.2%,\n            hsla(210, 38%, 15%, 0.701) 48.5%,\n            hsla(210, 38%, 15%, 0.753) 55.1%,\n            hsla(210, 38%, 15%, 0.808) 63.2%,\n            hsla(210, 38%, 15%, 0.866) 73.2%,\n            hsla(210, 38%, 15%, 0.93) 85.3%,\n            hsl(210, 38%, 15%) 100%\n        );\n    } */\n"]);return hc=function(){return n},n}function Oc(){var n=Object(b.a)(["\n    font-size: 0.875rem;\n    margin-right: 0.5rem;\n\n    @media screen and (min-width: 800px) {\n        font-size: 1rem;\n        margin-right: 1rem;\n    }\n"]);return Oc=function(){return n},n}function vc(){var n=Object(b.a)(["\n    display: flex;\n    margin-bottom: 0.5rem;\n\n    @media screen and (min-width: 800px) {\n        margin-bottom: 1rem;\n    }\n"]);return vc=function(){return n},n}function xc(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    margin-bottom: 0.5rem;\n\n    @media screen and (min-width: 800px) {\n        font-size: 2rem;\n    }\n"]);return xc=function(){return n},n}function gc(){var n=Object(b.a)(["\n    overflow: hidden;\n    position: relative;\n\n    &:after {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(\n            to top,\n            hsl(210, 38%, 15%) 0%,\n            hsla(210, 38%, 15%, 0.941) 25%,\n            hsla(210, 38%, 15%, 0.881) 28%,\n            hsla(210, 38%, 15%, 0.819) 32%,\n            hsla(210, 38%, 15%, 0.756) 36%,\n            hsla(210, 38%, 15%, 0.692) 41.3%,\n            hsla(210, 38%, 15%, 0.626) 45.7%,\n            hsla(210, 38%, 15%, 0.56) 49.6%,\n            hsla(210, 38%, 15%, 0.492) 53.3%,\n            hsla(210, 38%, 15%, 0.424) 57.2%,\n            hsla(210, 38%, 15%, 0.355) 61.4%,\n            hsla(210, 38%, 15%, 0.285) 66.4%,\n            hsla(210, 38%, 15%, 0.214) 72.4%,\n            hsla(210, 38%, 15%, 0.143) 79.8%,\n            hsla(210, 38%, 15%, 0.072) 88.9%,\n            hsla(210, 38%, 15%, 0) 100%\n        );\n    }\n"]);return gc=function(){return n},n}function wc(){var n=Object(b.a)(["\n    max-width: 30%;\n    object-fit: cover;\n    display: block;\n    border-radius: 4px;\n    margin-right: 1rem;\n\n    @media screen and (min-width: 600px) {\n        margin-right: 2rem;\n    }\n"]);return wc=function(){return n},n}function yc(){var n=Object(b.a)(["\n    display: flex;\n    position: relative;\n    height: 250px;\n    cursor: pointer;\n\n    @media screen and (min-width: 800px) {\n        height: 300px;\n    }\n"]);return yc=function(){return n},n}var kc=j.b.article(yc()),Sc=Object(j.b)(s.c.img)(wc()),Ic=j.b.article(gc()),Cc=j.b.h3(xc()),Ec=j.b.div(vc()),zc=Object(j.b)(qr)(Oc()),Rc=j.b.p(hc()),Tc=Object(j.b)(X)(pc()),Mc=j.b.button(fc(),(function(n){return n.backgroundColor||"#4c7fbd"})),Nc=Object(j.b)(mr.c)(mc()),_c=Object(j.b)(mr.b)(jc()),Ac=Object(j.b)(Pe.d)(bc()),Fc=function(n){var e=n.movie,t=n.allowActions,i=Kn().setMoviePreview,c=Object(l.f)(),o=br(e),a=o.movieInList,u=o.movieActionHandler,s=o.buttonBackgroundColor,d=e.genre_ids.map((function(n){return lc.find((function(e){return e.id===n}))})),b=function(){c.location.pathname.includes(e.id.toString())?i(null):i(e)};return Object(r.jsxs)(kc,{onClick:b,role:"button",children:[t&&Object(r.jsxs)(Mc,{onClick:function(n){n.stopPropagation(),u()},backgroundColor:s,children:[!a&&Object(r.jsx)(Nc,{}),a&&Object(r.jsx)(_c,{})]}),Object(r.jsx)(Sc,{src:rn(e.poster_path,"w342"),alt:e.title})," ",Object(r.jsxs)(Ic,{children:[Object(r.jsx)(Cc,{children:e.title}),Object(r.jsx)(Ec,{children:null===d||void 0===d?void 0:d.slice(0,2).map((function(n){return Object(r.jsx)(zc,{children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))}),Object(r.jsx)(Rc,{children:e.overview}),Object(r.jsxs)(Tc,{onClick:b,children:[Object(r.jsx)(Ac,{}),"See More"]})]})]})};function Lc(){var n=Object(b.a)(["\n    text-align: center;\n    margin: 4rem 0;\n\n    @media (min-width: 700px) {\n        font-size: 1.25rem;\n    }\n"]);return Lc=function(){return n},n}function Pc(){var n=Object(b.a)(["\n    display: grid;\n    gap: 2rem;\n    margin-bottom: 4rem;\n\n    & > *:not(:last-child) {\n        padding-bottom: 2rem;\n        border-bottom: 1px solid hsl(212deg 22% 43% / 38%);\n    }\n\n    @media screen and (min-width: 800px) {\n        grid-template-columns: repeat(2, 1fr);\n        gap: 4rem;\n\n        & > *:not(:last-child) {\n            padding-bottom: 0;\n            border-bottom: none;\n        }\n    }\n"]);return Pc=function(){return n},n}var Dc=j.b.section(Pc()),Gc=j.b.p(Lc()),Uc=function(n){var e=n.movies,t=n.allowActions;return e.length?Object(r.jsx)(Dc,{children:e.map((function(n){return Object(r.jsx)(Fc,{movie:n,allowActions:t},n.id)}))}):Object(r.jsx)(Gc,{children:"No movies in the list."})},Bc={page:0,results:[],total_results:0,total_pages:0},Vc=function(n){var e=n.genres,t=n.movieQuery,r=Object(i.useState)(!1),c=Object(z.a)(r,2),o=c[0],a=c[1],u=Object(i.useState)(null),s=Object(z.a)(u,2),d=s[0],l=s[1],b=Object(i.useState)({query:Bc,genres:Bc}),j=Object(z.a)(b,2),m=j[0],f=j[1],p=Le.a.CancelToken.source();return Object(i.useEffect)((function(){return function(){var n=Object(Ae.a)(_e.a.mark((function n(){var e;return _e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=15;break}return n.prev=1,a(!0),n.next=5,Le.a.get("/movies/query/".concat(t),{cancelToken:p.token});case 5:200===(e=n.sent).status&&f(Object(E.a)(Object(E.a)({},m),{},{query:e.data})),a(!1),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(1),p.cancel("Error in try catch block."),l(!0),a(!1);case 15:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(){return n.apply(this,arguments)}}()(),function(){p.cancel("Component got unmounted")}}),[t]),Object(i.useEffect)((function(){return function(){var n=Object(Ae.a)(_e.a.mark((function n(){var t;return _e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(!0),n.next=4,Le.a.post("/movies/genres",{genres:e,cancelToken:p.token});case 4:200===(t=n.sent).status&&f(Object(E.a)(Object(E.a)({},m),{},{genres:t.data})),a(!1),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),p.cancel("Error in try catch block."),l(!0),a(!1);case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}()(),function(){p.cancel("Component got unmounted")}}),[e]),{loading:o,error:d,movies:m}};function Wc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return Wc=function(){return n},n}function Hc(){var n=Object(b.a)(["\n    position: absolute;\n    top: 1rem;\n    left: 1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: hsl(213deg 40% 49%);\n    border-radius: 50%;\n    padding: 0.25rem;\n    box-shadow: 0 10px 20px rgb(0 0 0 / 19%), 0 6px 6px rgb(0 0 0 / 23%);\n    cursor: pointer;\n"]);return Hc=function(){return n},n}function Jc(){var n=Object(b.a)(["\n    border-radius: 4px;\n    background: var(--blue-active);\n    position: relative;\n"]);return Jc=function(){return n},n}var Yc=j.b.div(Jc()),$c=j.b.button(Hc()),qc=Object(j.b)(mr.c)(Wc()),Zc=function(){return Object(r.jsx)(Yc,{children:Object(r.jsx)($c,{children:Object(r.jsx)(qc,{})})})};function Qc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return Qc=function(){return n},n}function Xc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return Xc=function(){return n},n}function Kc(){var n=Object(b.a)(["\n    position: absolute;\n    top: 1rem;\n    left: 1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: ",";\n    border-radius: 50%;\n    padding: 0.25rem;\n    box-shadow: 0 10px 20px rgb(0 0 0 / 19%), 0 6px 6px rgb(0 0 0 / 23%);\n    cursor: pointer;\n    z-index: 2;\n"]);return Kc=function(){return n},n}function no(){var n=Object(b.a)(["\n    border-radius: 4px;\n    width: 100%;\n    padding: 1rem;\n    margin-top: auto;\n    font-weight: 500;\n    text-align: center;\n    line-height: 1.3;\n    background: #00000038;\n    background: linear-gradient(\n        to bottom,\n        hsla(0, 0%, 0%, 0) 0%,\n        hsla(0, 0%, 0%, 0.007) 7.9%,\n        hsla(0, 0%, 0%, 0.028) 15%,\n        hsla(0, 0%, 0%, 0.062) 21.4%,\n        hsla(0, 0%, 0%, 0.105) 27.3%,\n        hsla(0, 0%, 0%, 0.158) 32.8%,\n        hsla(0, 0%, 0%, 0.218) 38.1%,\n        hsla(0, 0%, 0%, 0.284) 43.3%,\n        hsla(0, 0%, 0%, 0.354) 48.5%,\n        hsla(0, 0%, 0%, 0.427) 54%,\n        hsla(0, 0%, 0%, 0.5) 59.9%,\n        hsla(0, 0%, 0%, 0.574) 66.2%,\n        hsla(0, 0%, 0%, 0.645) 73.3%,\n        hsla(0, 0%, 0%, 0.712) 81.2%,\n        hsla(0, 0%, 0%, 0.775) 90%,\n        hsla(0, 0%, 0%, 0.83) 100%\n    );\n    z-index: 1;\n"]);return no=function(){return n},n}function eo(){var n=Object(b.a)(["\n    border-radius: 4px;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 100%;\n    width: 100%;\n    display: block;\n    object-fit: cover;\n    z-index: 0;\n"]);return eo=function(){return n},n}function to(){var n=Object(b.a)(["\n    height: 100%;\n    width: 100%;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return to=function(){return n},n}function ro(){var n=Object(b.a)(["\n    height: 100% !important;\n    width: 100%;\n    cursor: pointer;\n    z-index: ",";\n\n    &:focus {\n        outline: none;\n    }\n\n    &:before {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(\n            to bottom,\n            hsla(0, 0%, 0%, 0) 0%,\n            hsla(0, 0%, 0%, 0.041) 7%,\n            hsla(0, 0%, 0%, 0.082) 13.5%,\n            hsla(0, 0%, 0%, 0.124) 19.4%,\n            hsla(0, 0%, 0%, 0.166) 25%,\n            hsla(0, 0%, 0%, 0.208) 30.4%,\n            hsla(0, 0%, 0%, 0.251) 35.6%,\n            hsla(0, 0%, 0%, 0.295) 40.9%,\n            hsla(0, 0%, 0%, 0.339) 46.4%,\n            hsla(0, 0%, 0%, 0.385) 52.1%,\n            hsla(0, 0%, 0%, 0.431) 58.3%,\n            hsla(0, 0%, 0%, 0.479) 65%,\n            hsla(0, 0%, 0%, 0.527) 72.4%,\n            hsla(0, 0%, 0%, 0.577) 80.6%,\n            hsla(0, 0%, 0%, 0.628) 89.8%,\n            hsla(0, 0%, 0%, 0.68) 100%\n        );\n        z-index: 1;\n    }\n"]);return ro=function(){return n},n}function io(){var n=Object(b.a)(["\n    position: relative;\n    border-radius: 4px;\n    height: 100%;\n"]);return io=function(){return n},n}var co=Object(j.b)(s.c.article)(io()),oo=Object(j.b)(s.c.button)(ro(),(function(n){return n.zIndex||0})),ao=Object(j.b)(s.c.div)(to()),uo=Object(j.b)(s.c.img)(eo()),so=Object(j.b)(s.c.h3)(no()),lo=j.b.button(Kc(),(function(n){return n.backgroundColor||"#4c7fbd"})),bo=Object(j.b)(mr.c)(Xc()),jo=Object(j.b)(mr.b)(Qc()),mo=function(n){var e=n.movie,t=Object(l.f)(),c=fn().width,o=Kn().setMoviePreview,a=ln().room,u=Object(i.useState)(0),s=Object(z.a)(u,2),d=s[0],b=s[1],j=rn(e.poster_path,"w342"),m=br(e),f=m.movieActionHandler,p=m.buttonBackgroundColor,h=m.movieInList,O=c>700?"undefined":"image-".concat(e.id);return Object(r.jsxs)(co,{layout:!0,children:[Object(r.jsx)(oo,{onClick:function(){t.location.pathname.includes(e.id.toString())?t.push("/selection/".concat(a.roomId)):(b(2),o(e))},layoutId:O,zIndex:d,children:Object(r.jsxs)(ao,{children:[Object(r.jsx)(uo,{src:j,alt:"Movie poster for ".concat(e.title,".")}),Object(r.jsx)(so,{children:e.title})]})}),Object(r.jsxs)(lo,{onClick:f,backgroundColor:p,children:[!h&&Object(r.jsx)(bo,{}),h&&Object(r.jsx)(jo,{})]})]})};function fo(){var n=Object(b.a)(["\n    text-align: center;\n    margin: 4rem 0;\n\n    @media (min-width: 700px) {\n        font-size: 1.25rem;\n    }\n"]);return fo=function(){return n},n}function po(){var n=Object(b.a)(["\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    grid-gap: 0.5rem;\n\n    & > * {\n        min-height: 300px;\n    }\n\n    @media screen and (min-width: 700px) {\n        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n\n        & > * {\n            min-height: 300px;\n        }\n    }\n"]);return po=function(){return n},n}var ho=j.b.div(po()),Oo=j.b.p(fo()),vo=function(n){var e=n.movies,t=n.loading,i=e.results||[];return t?Object(r.jsx)(ho,{children:Array.from(Array(20).keys()).map((function(n,e){return Object(r.jsx)(Zc,{},e)}))}):(null===i||void 0===i?void 0:i.length)?Object(r.jsx)(ho,{children:i.map((function(n){return Object(r.jsx)(mo,{movie:n},n.id)}))}):Object(r.jsx)(Oo,{children:"No movies found. Try a different search."})},xo=t(92);function go(){var n=Object(b.a)(["\n    z-index: 4;\n"]);return go=function(){return n},n}function wo(){var n=Object(b.a)(["\n    display: ",";\n    flex-direction: column;\n    margin-bottom: 1rem;\n\n    label {\n        margin-bottom: 1rem;\n    }\n\n    input {\n        padding: 0.5rem;\n        border-radius: 4px;\n    }\n\n    &:last-of-type {\n        margin-bottom: 2rem;\n    }\n"]);return wo=function(){return n},n}var yo=j.b.div(wo(),(function(n){return n.show?"flex":"none"})),ko=Object(j.b)(xo.a)(go()),So={control:function(n){return Object(E.a)(Object(E.a)({},n),{},{backgroundColor:"white",color:"var(--blue-dark-bg)"})},option:function(n,e){e.data;var t=e.isDisabled;e.isFocused,e.isSelected;return Object(E.a)(Object(E.a)({},n),{},{backgroundColor:"white",color:"var(--blue-dark-bg)",cursor:t?"not-allowed":"default"})},multiValue:function(n,e){e.data;return Object(E.a)(Object(E.a)({},n),{},{backgroundColor:"white"})},multiValueLabel:function(n,e){e.data;return Object(E.a)(Object(E.a)({},n),{},{color:"white",backgroundColor:"var(--blue-dark-bg)",padding:"4px 8px",borderRadius:"4px"})},multiValueRemove:function(n,e){var t=e.data;return Object(E.a)(Object(E.a)({},n),{},{color:t.color,":hover":{backgroundColor:"white",color:"var(--blue-dark-bg)"}})}},Io=function(){var n=Object(i.useState)([]),e=Object(z.a)(n,2),t=e[0],c=e[1],o=Object(i.useState)(""),a=Object(z.a)(o,2),u=a[0],s=a[1],d=Vc({genres:t,movieQuery:u}),l=d.loading,b=(d.error,d.movies),j=lc.map((function(n){return{value:n.id,label:n.name}})),m=u?b.query:b.genres;return Object(r.jsxs)("section",{children:[Object(r.jsxs)("form",{children:[Object(r.jsxs)(yo,{show:!0,children:[Object(r.jsx)("label",{children:"Search by name"}),Object(r.jsx)("input",{type:"text",value:u,onChange:function(n){s(n.target.value)},onFocus:function(n){n.target.select()}})]}),Object(r.jsxs)(yo,{show:""===u,children:[Object(r.jsx)("label",{children:"Search by genre"}),Object(r.jsx)(ko,{isMulti:!0,name:"genres",options:j,styles:So,onChange:function(n){c(n.map((function(n){return n.value})))}})]})]}),Object(r.jsx)(vo,{movies:m,loading:l})]})},Co=function(){var n=ln().room;return Object(r.jsxs)(dc,{tabs:["Search","Movie List (".concat(n.movies.length,")")],children:[Object(r.jsx)(Io,{}),Object(r.jsx)(Uc,{movies:n.movies,allowActions:!0})]})};function Eo(){var n=Object(b.a)(["\n    margin-bottom: 2.5rem;\n"]);return Eo=function(){return n},n}var zo=Object(j.b)(J)(Eo()),Ro=Object(r.jsxs)(r.Fragment,{children:["You're the room owner. Add movies you'd want to watch, then wait for others to add theirs. When participants are ready, tap on ",Object(r.jsx)(nn,{children:"Start Swiping"}),"."]}),To=Object(r.jsxs)(r.Fragment,{children:["Add movies you'd want to watch. When you're ready to start voting, tap on"," ",Object(r.jsx)(nn,{children:"Ready to Swipe"}),"."]}),Mo=function(){var n=an().user,e=ln().room.ownerId===n.id;return Object(i.useEffect)((function(){var n,e=window.setTimeout((function(){n=cn({type:en.Custom,message:"Invite others by sharing the link to this page.",duration:8e3})}),1e3);return function(){n&&d.b.dismiss(n),clearTimeout(e)}}),[]),Object(r.jsxs)(zo,{children:[Object(r.jsx)(ee.a,{children:Object(r.jsx)("title",{children:"Selection | Movie Swiper"})}),Object(r.jsx)(Z,{children:"Pick Your Movies"}),Object(r.jsx)(Q,{children:e?Ro:To}),Object(r.jsx)(yi,{}),Object(r.jsx)(Co,{}),Object(r.jsx)(rc,{})]})},No=function(){var n=ln().room,e=an().user,t=n.movies.reduce((function(n,t){return t.swipes.find((function(n){return n.user.id===e.id&&n.liked}))&&t.swipes.find((function(n){return n.liked&&n.user.id!==e.id}))&&n.push(t),n}),[]);return Object(r.jsx)(Uc,{movies:t,allowActions:!1})},_o=t(171),Ao=t(166),Fo=t(167),Lo=t(168),Po=t(169),Do=t(172),Go=t(170);t(162);function Uo(){var n=Object(b.a)(["\n    font-size: 1rem;\n    margin-right: 0.5rem;\n"]);return Uo=function(){return n},n}function Bo(){var n=Object(b.a)(["\n    width: 100%;\n    font-size: 0.875rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 0.5rem;\n    background: #2e3f52;\n    padding: 1rem;\n"]);return Bo=function(){return n},n}function Vo(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    padding: 0;\n    background: hsl(211deg 43% 10%);\n    color: var(--white-muted);\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n"]);return Vo=function(){return n},n}function Wo(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    padding: 1.5rem 1rem 1rem;\n    border-radius: 4px;\n    margin-top: auto;\n    font-weight: 500;\n    text-align: center;\n    line-height: 1.3;\n    width: 100%;\n    text-transform: none;\n    background: var(--blue-dark);\n"]);return Wo=function(){return n},n}function Ho(){var n=Object(b.a)(["\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    margin: auto;\n"]);return Ho=function(){return n},n}function Jo(){var n=Object(b.a)(["\n    margin: auto;\n    margin-bottom: 2.5rem;\n    max-width: 600px;\n    max-width: 350px;\n\n    @media screen and (min-width: 600px) {\n        height: auto;\n    }\n"]);return Jo=function(){return n},n}var Yo=j.b.article(Jo()),$o=Object(j.b)(s.c.img)(Ho()),qo=Object(j.b)(s.c.h3)(Wo()),Zo=Object(j.b)(X)(Vo()),Qo=j.b.p(Bo()),Xo=Object(j.b)(Pe.d)(Uo()),Ko=function(n){var e=n.movie,t=Kn().setMoviePreview,i=rn(e.poster_path,"w500"),c=function(){t(e)};return Object(r.jsxs)(Yo,{onClick:c,children:[Object(r.jsxs)(Zo,{onClick:c,children:[Object(r.jsx)(qo,{children:e.title}),Object(r.jsxs)(Qo,{children:[Object(r.jsx)(Xo,{})," Details"]})]}),Object(r.jsx)($o,{src:i,alt:e.title})]})};function na(){var n=Object(b.a)(["\n    ","\n    margin-right: 0.5rem;\n"]);return na=function(){return n},n}function ea(){var n=Object(b.a)(["\n    ","\n    margin-right: 1rem;\n"]);return ea=function(){return n},n}function ta(){var n=Object(b.a)(["\n    font-size: 1.5rem;\n"]);return ta=function(){return n},n}function ra(){var n=Object(b.a)(["\n    background: var(--accent-dark-90);\n    outline: none;\n    border-radius: 0;\n\n    @media screen and (min-width: 600px) {\n        padding: 1rem 2rem;\n        white-space: nowrap;\n    }\n"]);return ra=function(){return n},n}function ia(){var n=Object(b.a)(["\n    background: var(--blue-active-90);\n    outline: none;\n    border-radius: 0;\n\n    @media screen and (min-width: 600px) {\n        padding: 1rem 2rem;\n        white-space: nowrap;\n    }\n"]);return ia=function(){return n},n}var ca=Object(j.b)(X)(ia()),oa=Object(j.b)(X)(ra()),aa=Object(j.a)(ta()),ua=Object(j.b)(mr.a)(ea(),aa),sa=Object(j.b)(Pe.c)(na(),aa);_o.a.use([Ao.a,Fo.a,Lo.a,Po.a]);var da={rotate:50,stretch:0,depth:200,modifier:1,slideShadows:!1},la={clickable:!1,type:"progressbar",progressbarFillClass:"swiper-pagination-progressbar-fill"},ba=function(){var n=Object(l.f)(),e=ln().room,t=an().user,c=Object(i.useState)(),o=Object(z.a)(c,2),a=o[0],u=o[1],s=Object(i.useRef)([]),d=Object(i.useState)(!1),b=Object(z.a)(d,2),j=b[0],m=b[1];Object(i.useEffect)((function(){s.current=e.movies.map((function(n){return Object(E.a)(Object(E.a)({},n),{},{swiped:!1})}))}),[e.movies.length]);var f=function(){m(!1)},p=function(){m(!0)},h=function(n){var r,i,c=n.index,o=n.liked,a=s.current[c];a&&!a.swiped&&(s.current=s.current.map((function(n){return n.id===a.id?Object(E.a)(Object(E.a)({},n),{},{swiped:!0}):n})),r={roomId:e.roomId,movieId:a.id,liked:o,user:t},_.emit("movie:swipe",r,i))};return Object(r.jsxs)(r.Fragment,{children:[!!e.movies.length&&Object(r.jsxs)(Do.a,{onSlidePrevTransitionStart:function(n){if(p(),n){var e=n.previousIndex-1;h({index:e,liked:!1});var t=n.activeIndex+2;n.slideTo(t,100),n.update(),n.updateProgress()}},onSlideNextTransitionStart:function(n){if(p(),n&&1!==n.activeIndex){var e=n.previousIndex-1;h({index:e,liked:!0}),n.updateProgress(),n.update()}},onSlidePrevTransitionEnd:f,onSlideNextTransitionEnd:function(t){f(),t.activeIndex>e.movies.length&&n.push("/results/".concat(e.roomId))},onProgress:function(n){var t=1/e.movies.length*n.activeIndex;document.documentElement.style.setProperty("--swipe-progress",t.toString())},onInit:function(n){var t=1/e.movies.length;document.documentElement.style.setProperty("--swipe-progress",t.toString()),u(n)},initialSlide:1,speed:400,observer:!0,grabCursor:!0,centeredSlides:!0,spaceBetween:5e3,effect:"coverflow",coverflowEffect:da,pagination:la,children:[Object(r.jsx)(Go.a,{},"firstSlide"),e.movies.map((function(n){return Object(r.jsx)(Go.a,{children:Object(r.jsx)(Ko,{movie:n})},n.id)})),Object(r.jsx)(Go.a,{},"lastSlide")]}),Object(r.jsxs)(Ci,{position:"fixed",children:[Object(r.jsxs)(oa,{onClick:function(){if(a){var n=a.activeIndex-1;h({index:n,liked:!1});var e=a.activeIndex+1;a.slideTo(e,400)}},disabled:j,children:[Object(r.jsx)(sa,{}),"Dislike"]}),Object(r.jsxs)(ca,{onClick:function(){if(a){var n=a.activeIndex+1;a.slideTo(n)}},disabled:j,children:[Object(r.jsx)(ua,{}),"Like"]})]})]})};function ja(){var n=Object(b.a)(["\n    max-width: 600px;\n    margin: auto;\n"]);return ja=function(){return n},n}var ma=Object(j.b)(J)(ja()),fa=function(){var n=ln().room,e=an().user,t=n.movies.reduce((function(n,t){return t.swipes.find((function(n){return n.user.id===e.id&&n.liked}))&&t.swipes.find((function(n){return n.liked&&n.user.id!==e.id}))?n+1:n}),0);return Object(r.jsxs)(ma,{children:[Object(r.jsx)(ee.a,{children:Object(r.jsx)("title",{children:"Swipe | Movie Swiper"})}),Object(r.jsxs)(dc,{tabs:["Movie","Matches (".concat(t,")")],children:[Object(r.jsx)(ba,{}),Object(r.jsx)(No,{})]})]})},pa=function(){var n=Kn().moviePreview;return Object(r.jsxs)(s.b,{type:"crossfade",children:[Object(r.jsx)(s.a,{children:n&&Object(r.jsx)(mi,{movie:n})}),Object(r.jsx)(d.a,{}),Object(r.jsx)(Gn,{}),Object(r.jsx)(h,{children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{path:"/",exact:!0,component:jt}),Object(r.jsx)(l.a,{path:"/create",component:ae}),Object(r.jsx)(l.a,{path:"/join/:id",component:Ot}),Object(r.jsx)(l.a,{path:"/expired",component:de}),Object(r.jsx)(Qn,{path:["/selection/:id/:movieId","/selection/:id"],component:Mo}),Object(r.jsx)(Qn,{path:["/swiper/:id/:movieId","/swiper/:id"],component:fa}),Object(r.jsx)(Qn,{path:["/results/:id/:movieId","/results/:id"],component:lr}),Object(r.jsx)(l.a,{component:jt})]})}),Object(r.jsx)(C,{})]})};t(163);a.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(u.a,{children:Object(r.jsx)(un,{children:Object(r.jsx)(mn,{children:Object(r.jsx)(ne,{children:Object(r.jsx)(pa,{})})})})})}),document.getElementById("root"))},99:function(n,e,t){}},[[164,1,2]]]);
//# sourceMappingURL=main.7d896b64.chunk.js.map