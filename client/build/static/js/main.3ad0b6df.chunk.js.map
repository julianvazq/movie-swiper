{"version":3,"sources":["components/AppContainer/style.ts","types/room.ts","components/AppContainer/index.tsx","assets/themoviedb-logo.svg","components/Footer/style.ts","components/Footer/index.tsx","sockets/index.ts","sockets/emitters.ts","styles/index.ts","types/actions.ts","assets/poster_unavailable.png","utils/index.ts","context/UserContext.tsx","hooks/useLocalStorage.ts","sockets/listeners.ts","context/RoomContext.tsx","hooks/useViewportWidth.ts","components/Modal/index.tsx","components/Nav/style.ts","components/Nav/index.tsx","components/ProtectedRoute/style.ts","components/ProtectedRoute/index.tsx","context/MoviePreviewContext.tsx","pages/create/CreateForm/style.ts","pages/create/CreateForm/index.tsx","pages/create/Create/index.tsx","pages/expired/Expired/style.ts","pages/expired/Expired/index.tsx","pages/home/Instruction/style.ts","pages/home/Instruction/index.tsx","pages/home/Explainer/style.ts","pages/home/Explainer/index.tsx","pages/home/MovieCardDisplay/style.ts","pages/home/MovieCardDisplay/index.tsx","pages/home/Showcase/style.ts","pages/home/Showcase/index.tsx","assets/movie-posters.jpg","pages/home/Home/style.ts","pages/home/Home/index.tsx","pages/join/JoinForm/style.ts","pages/join/JoinForm/index.tsx","pages/join/Join/index.tsx","components/InfoBox/style.ts","components/InfoBox/index.tsx","pages/results/LikeList/styled.ts","pages/results/LikeList/index.tsx","pages/results/ResultCard/style.ts","pages/results/ResultCard/index.tsx","pages/results/ResultList/style.ts","pages/results/ResultList/index.tsx","pages/results/Results/style.ts","pages/results/Results/index.tsx","hooks/useMovieManager.tsx","pages/selection/MovieDetail/style.ts","pages/selection/MovieDetail/index.tsx","components/InviteLink/style.ts","components/InviteLink/index.tsx","components/FixedContainer/style.ts","components/FixedContainer/index.tsx","pages/selection/ActionButton/style.ts","pages/selection/ActionButton/index.tsx","components/Tabs/style.ts","components/Tabs/index.tsx","pages/selection/MovieSearch/genres.ts","pages/selection/MovieListItem/styled.ts","pages/selection/MovieListItem/index.tsx","pages/selection/MovieList/styled.ts","pages/selection/MovieList/index.tsx","hooks/useFetchMovies.ts","components/MovieCardSkeleton/style.ts","components/MovieCardSkeleton/index.tsx","pages/selection/MovieCard/styled.ts","pages/selection/MovieCard/index.tsx","pages/selection/MovieGallery/style.ts","pages/selection/MovieGallery/index.tsx","pages/selection/MovieSearch/style.ts","pages/selection/MovieSearch/index.tsx","pages/selection/MovieSelection/index.tsx","pages/selection/Selection/style.ts","pages/selection/Selection/index.tsx","pages/swiper/Matches/index.tsx","pages/swiper/SwipeItem/style.ts","pages/swiper/SwipeItem/index.tsx","pages/swiper/SwipeArea/style.ts","pages/swiper/SwipeArea/index.tsx","pages/swiper/Swiper/style.ts","pages/swiper/Swiper/index.tsx","App.tsx","index.tsx"],"names":["Stage","Background","styled","main","AppContainer","children","Container","footer","props","display","InnerContainer","div","TheMovieDB","img","Attribution","p","Footer","pathname","useLocation","showFooter","includes","RESULTS","href","target","rel","src","TheMovieDBLogo","alt","socket","io","createRoom","data","callback","emit","ActionType","MaxWidthContainer","section","FormPageContainer","StyledForm","form","ErrorMessage","Title","h1","Subtitle","h2","Button","button","FormButton","$disabled","FontWeight600","span","ToastType","generateImageUrl","imageSrc","width","PosterUnavailable","useToast","type","message","duration","successOptions","style","backgroundColor","color","iconTheme","primary","secondary","errorOptions","loadingOptions","toast","success","error","loading","UserContext","createContext","user","setUser","useUser","useContext","UserProvider","key","initialValue","useState","item","window","localStorage","getItem","JSON","parse","storedValue","setStoredValue","value","valueToStore","Function","setItem","stringify","useLocalStorage","useEffect","id","name","on","Provider","initialState","roomName","roomId","ownerId","participants","movies","stage","NULL","RoomContext","room","dispatch","useRoom","reducer","state","action","INITIALIZE_ROOM","payload","participant","SELECTION","GET_ROOM","JOIN","filter","LEAVE","CHANGE_OWNER","ADD_MOVIE","m","movie","REMOVE_MOVIE","SWIPE_MOVIE","swipedMovie","find","updatedSwipes","swipes","swipe","map","liked","updatedMovie","SET_STAGE","TOGGLE_READY","ready","USER_NAME_CHANGE","userId","Error","LS_KEY","RoomProvider","useReducer","rooms","roomIdParam","split","Boolean","toastId","useRef","toastTimeoutId","changeOwnerTimeoutId","getLSRooms","setLocalStorage","socketId","onParticipantJoin","newParticipant","clearTimeout","current","Success","newOwnerSocketId","setTimeout","onRoomOwnerChange","newOwnerId","Custom","once","onGetRoom","onMovieAdd","addedByUserId","title","onMovieRemove","movieId","onMovieSwipe","onToggleReady","userToToggle","onStartSwiper","SWIPER","onNameChange","affectedUser","oldName","removeAllListeners","isOwner","everyoneReady","length","every","dismiss","useViewportWidth","setWidth","useLayoutEffect","updateSize","innerWidth","addEventListener","removeEventListener","Modal","visible","onClose","maxWidth","height","styles","background","borderRadius","closeOnEsc","customStyles","animation","nav","Logo","NavContainer","NavLinks","StyledLink","NavLink","$active","UserButton","UserIcon","FaUserCircle","ModalContent","InputGroup","ChangeButton","Nav","show","forceShow","setVisible","newName","setNewName","username","slice","closeModal","to","activeStyle","fontWeight","onClick","onSubmit","e","preventDefault","htmlFor","onChange","Text","dotsAnimation","keyframes","LoadingDots","ProtectedRoute","Component","component","computedMatch","rest","history","useHistory","status","setStatus","params","path","url","console","log","replace","res","push","swipedAll","MoviePreviewContext","moviePreview","setMoviePreview","useMoviePreview","MoviePreviewProvider","CreateForm","initialInputs","disabled","setDisabled","inputs","setInputs","touched","setTouched","submitted","setSubmitted","errors","getErrors","isFormValid","Object","keys","disconnect","connect","newUser","randomColor","luminosity","hue","onBlur","Create","Expired","article","Headline","h3","Body","Instruction","headline","React","Children","toArray","child","isValidElement","body","Grid","iconStyles","css","UsersIcon","FaUsers","FilmIcon","FaFilm","PollIcon","FaPollH","instructions","icon","Explainer","i","Image","ButtonSection","InfoIcon","RiInformationLine","MovieCardDisplay","setMovie","setLoading","imageUrl","poster_path","a","axios","get","fetchMovie","MovieCardDisplayContainer","Content","Showcase","Cinema","CTA","MainTitle","Bold","GetStartedButton","br","Home","JoinForm","useParams","Join","margin","TextContainer","aside","InfoBox","text","List","ul","Item","li","Color","Name","wrap","MoreItems","LikeList","users","Card","ResultsArea","ImageContainer","motion","TotalLikes","MovieTitle","ResultsContainer","DetailButton","ExpandIcon","ResultCard","usersWhoLiked","toString","Empty","ResultList","Results","filteredMovies","likes","reduce","acc","sort","b","participantIds","allSwiped","swipeIds","getInfoBoxProps","useMovieManager","movieInList","addedByMe","movieActionHandler","removeMovie","addedMovie","buttonBackgroundColor","Overlay","ContentContainer","Tag","WrapContainer","Genre","Overview","Label","Divider","RatingText","GridCell","Star","AiFillStar","Video","iframe","ButtonContainer","BackButton","AddButton","BackIcon","IoIosArrowBack","PlusIcon","HiOutlinePlus","MinusIcon","HiMinus","DesktopAddButton","MovieDetail","setMovieDetail","details","setDetails","trailerData","videos","results","video","site","trailerUrl","inSelection","location","onEscPress","fetchMovieDetails","document","overflow","cancelToken","cancel","CancelToken","source","token","data-overlay","attributes","initial","opacity","animate","exit","transition","layoutId","delay","tagline","genres","genre","overview","vote_average","runtime","release_date","original_language","toUpperCase","frameBorder","allowFullScreen","y","label","InputContainer","CopyButton","InviteLink","inputRef","defaultValue","ref","select","readOnly","navigator","clipboard","writeText","position","FixedContainer","variants","UserCheck","FaUserCheck","FillCheckbox","RiCheckboxCircleFill","EmptyCheckbox","RiCheckboxCircleLine","PlayIcon","SiTinder","RiMovieFill","CrownIcon","FaCrown","FaUserAlt","MainButton","disable","ToggleReadyButton","ReadyButton","StartButton","ActionButton","groupModalVisible","setGroupModalVisible","swipeModalVisible","setSwipeModalVisible","owner","isUserReady","participantsReady","disableSwiping","timeoutId","undefined","stopPropagation","Loading","TabBar","Tab","selected","TabContent","Tabs","tabs","currentTab","setCurrentTab","tabName","index","changeTab","InfoContainer","GenreContainer","SmallGenre","SeeMoreButton","MovieListItem","allowActions","genre_ids","genreId","genreObjects","g","onMovieClick","role","MovieList","emptyResponse","page","total_results","total_pages","useFetchMovies","movieQuery","setError","query","setMovies","fetch","post","MovieCardSkeleton","zIndex","MovieCard","setZIndex","Gallery","MovieGallery","moviesOnDisplay","Array","from","n","FormField","StyledSelect","Select","colorStyles","control","option","isDisabled","isFocused","isSelected","cursor","multiValue","multiValueLabel","padding","multiValueRemove","MovieSearch","setGenres","setMovieQuery","genreOptions","allGenres","isMulti","options","MovieSelection","ownerText","participantText","Selection","Matches","matches","PreviewButton","Details","SwipeItem","showPreview","LikeButton","DislikeButton","LikeIcon","HiHeart","DislikeIcon","RiCloseFill","SwiperCore","use","Pagination","A11y","EffectCoverflow","EffectFade","coverFlowEffectProps","rotate","stretch","depth","modifier","slideShadows","paginationProps","clickable","progressbarFillClass","SwipeArea","swiper","setSwiper","swiped","enableButtons","disableButtons","handleSwipeEmit","onSlidePrevTransitionStart","movieIndex","previousIndex","nextIndex","activeIndex","slideTo","update","updateProgress","onSlideNextTransitionStart","onSlidePrevTransitionEnd","onSlideNextTransitionEnd","onProgress","actualProgress","documentElement","setProperty","onInit","initialSlide","speed","observer","grabCursor","centeredSlides","spaceBetween","effect","coverflowEffect","pagination","Swiper","numMatches","num","App","exact","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.3ad0b6df.chunk.js","sourcesContent":["import styled from 'styled-components';\r\n\r\nexport const Background = styled.main`\r\n    background: var(--blue-dark-bg);\r\n    color: var(--white);\r\n    flex: 1;\r\n`;\r\n","import { AddedMovie } from './movies';\r\n\r\nexport enum Stage {\r\n    SELECTION = 'selection',\r\n    SWIPER = 'swiper',\r\n    RESULTS = 'results',\r\n    NULL = 'null',\r\n}\r\n\r\nexport interface Room {\r\n    roomName: string | null;\r\n    roomId: string | null;\r\n    ownerId: string | null;\r\n    participants: Participant[];\r\n    movies: AddedMovie[];\r\n    stage: Stage;\r\n}\r\n\r\nexport interface Participant {\r\n    name: string;\r\n    id: string;\r\n    color: string;\r\n    ready?: boolean;\r\n}\r\n","import React from 'react';\r\nimport { Background } from './style';\r\n\r\ntype Props = {\r\n    children: React.ReactNode | React.ReactNode[];\r\n};\r\n\r\nconst AppContainer = ({ children }: Props) => {\r\n    return <Background>{children}</Background>;\r\n};\r\n\r\nexport default AppContainer;\r\n","export default __webpack_public_path__ + \"static/media/themoviedb-logo.caee7457.svg\";","import styled from 'styled-components';\r\n\r\nexport const Container = styled.footer<{ display: boolean }>`\r\n    /* background: #141d26; */\r\n    background: rgb(0 0 0 / 25%);\r\n    padding: 2rem;\r\n    display: ${(props) => (props.display ? 'block' : 'none')};\r\n\r\n    @media (min-width: 600px) {\r\n        display: block;\r\n    }\r\n`;\r\n\r\nexport const InnerContainer = styled.div`\r\n    max-width: 1100px;\r\n    margin: auto;\r\n`;\r\n\r\nexport const TheMovieDB = styled.img`\r\n    height: 10.5px;\r\n    margin-left: 0.5rem;\r\n`;\r\n\r\nexport const Attribution = styled.p`\r\n    font-size: 0.85rem;\r\n    text-transform: uppercase;\r\n    letter-spacing: 1px;\r\n    color: var(--white-muted);\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n`;\r\n","import React from 'react';\r\nimport { useLocation } from 'react-router';\r\nimport TheMovieDBLogo from '../../assets/themoviedb-logo.svg';\r\nimport { Stage } from '../../types/room';\r\nimport { Attribution, Container, InnerContainer, TheMovieDB } from './style';\r\n\r\nconst Footer = () => {\r\n    const { pathname } = useLocation();\r\n    const showFooter =\r\n        pathname === '/' ||\r\n        pathname.includes('/create') ||\r\n        pathname.includes('/join') ||\r\n        pathname.includes(Stage.RESULTS);\r\n\r\n    return (\r\n        <Container display={showFooter}>\r\n            <InnerContainer>\r\n                <Attribution>\r\n                    Powered by\r\n                    <a href=\"https://www.themoviedb.org/\" target=\"_blank\" rel=\"noreferrer\">\r\n                        <TheMovieDB src={TheMovieDBLogo} alt=\"The Movie DB.\" />\r\n                    </a>\r\n                </Attribution>\r\n            </InnerContainer>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Footer;\r\n","import io from 'socket.io-client';\r\n\r\nexport const socket = io();\r\n","import { socket } from '.';\r\nimport { AddedMovie } from '../types/movies';\r\nimport { SocketResponse } from '../types/socket';\r\nimport { Participant } from './../../../server/src/types/index';\r\n\r\nexport const createRoom = (\r\n    data: { roomId: string | null },\r\n    callback: (res: SocketResponse<{ roomId: string }>) => void,\r\n) => {\r\n    socket.emit('room:create', data, callback);\r\n};\r\n\r\nexport const checkRoom = (data: { roomId: string }, callback: (res: SocketResponse<{ roomId: string }>) => void) => {\r\n    socket.emit('room:check', data, callback);\r\n};\r\n\r\nexport const joinRoom = (\r\n    data: { roomId: string; user: Participant },\r\n    callback: (res: SocketResponse<{ roomId: string }>) => void,\r\n) => {\r\n    socket.emit('room:join', data, callback);\r\n};\r\n\r\nexport const changeRoomOwner = (data: { roomId: string; userId: string }) => {\r\n    socket.emit('room:owner-change', data);\r\n};\r\n\r\nexport const addMovie = (\r\n    data: { roomId: string; movie: AddedMovie },\r\n    callback: (res: SocketResponse<{ movieId: string }>) => void,\r\n) => {\r\n    socket.emit('movie:add', data, callback);\r\n};\r\n\r\nexport const removeMovie = (\r\n    data: { roomId: string; movieId: number },\r\n    callback: (res: SocketResponse<{ movieId: string }>) => void,\r\n) => {\r\n    socket.emit('movie:remove', data, callback);\r\n};\r\n\r\nexport const swipeMovie = (\r\n    data: { roomId: string; movieId: number; liked: boolean; user: Participant },\r\n    callback?: (res: SocketResponse<{ movieId: string }>) => void,\r\n) => {\r\n    socket.emit('movie:swipe', data, callback);\r\n};\r\n\r\nexport const toggleReady = (\r\n    data: { roomId: string; userId: string },\r\n    callback?: (res: SocketResponse<{ userId: string }>) => void,\r\n) => {\r\n    socket.emit('user:ready', data, callback);\r\n};\r\n\r\nexport const changeName = (data: { roomId: string; userId: string; name: string }) => {\r\n    socket.emit('user:name-change', data);\r\n};\r\n\r\nexport const startSwiper = (data: { roomId: string }, callback?: (res: SocketResponse<{ roomId: string }>) => void) => {\r\n    socket.emit('swiper:start', data, callback);\r\n};\r\n","import styled from 'styled-components';\r\n\r\nexport const MaxWidthContainer = styled.section`\r\n    max-width: 1100px;\r\n    margin: 0 auto;\r\n    padding: 3rem 1rem;\r\n\r\n    @media (min-width: 600px) {\r\n        padding: 4rem 1rem;\r\n    }\r\n\r\n    @media (min-width: 1100px) {\r\n        padding: 4rem 0rem;\r\n    }\r\n`;\r\n\r\nexport const FormPageContainer = styled(MaxWidthContainer)`\r\n    max-width: 600px;\r\n    margin: 0 auto;\r\n\r\n    h2 {\r\n        margin-bottom: 4rem;\r\n    }\r\n`;\r\n\r\nexport const StyledForm = styled.form`\r\n    label {\r\n        margin-bottom: 0.5rem;\r\n    }\r\n\r\n    input {\r\n        padding: 0.5rem;\r\n        border-radius: 4px;\r\n    }\r\n`;\r\n\r\nexport const ErrorMessage = styled.div`\r\n    margin-top: 0.5rem;\r\n    padding: 0.5rem;\r\n    background: var(--accent-light);\r\n    border-radius: 4px;\r\n    font-size: 0.875rem;\r\n`;\r\n\r\nexport const Title = styled.h1`\r\n    font-size: 2rem;\r\n    margin: 0 0 1rem;\r\n    font-family: 'Merienda One', 'Rubik', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',\r\n        'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\r\n`;\r\n\r\nexport const Subtitle = styled.h2`\r\n    font-size: 1rem;\r\n    font-weight: 400;\r\n    line-height: 1.4;\r\n    margin-bottom: 2rem;\r\n    color: var(--white-muted);\r\n`;\r\n\r\nexport const Button = styled.button`\r\n    padding: 1.5rem 1rem;\r\n    flex: 1;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    text-transform: uppercase;\r\n    letter-spacing: 1px;\r\n    border-radius: 4px;\r\n    color: white;\r\n    cursor: pointer;\r\n`;\r\n\r\nexport const FormButton = styled(Button)<{ $disabled?: boolean }>`\r\n    width: 100%;\r\n    background: ${(props) => (props.$disabled ? '#808080' : 'var(--blue-action)')};\r\n    color: ${(props) => props.$disabled && '#cbc8c8'};\r\n    padding: 1rem 1.5rem;\r\n`;\r\n\r\nexport const FontWeight600 = styled.span`\r\n    font-weight: 600;\r\n`;\r\n","import { AddedMovie } from './movies';\r\nimport { Participant, Room, Stage } from './room';\r\n\r\nexport enum ActionType {\r\n    INITIALIZE_ROOM = 'initialize_room',\r\n    GET_ROOM = 'get_room',\r\n    JOIN = 'join',\r\n    LEAVE = 'leave',\r\n    CHANGE_OWNER = 'change_owner',\r\n    ADD_MOVIE = 'add_movie',\r\n    REMOVE_MOVIE = 'remove_movie',\r\n    SWIPE_MOVIE = 'swipe_movie',\r\n    TOGGLE_READY = 'toggle_ready',\r\n    SET_STAGE = 'set_stage',\r\n    USER_NAME_CHANGE = 'user_name_change',\r\n}\r\n\r\nexport interface GetRoomAction {\r\n    type: ActionType.GET_ROOM;\r\n    payload: { room: Room };\r\n}\r\n\r\nexport interface InitializeRoomAction {\r\n    type: ActionType.INITIALIZE_ROOM;\r\n    payload: { roomName: string; roomId: string; ownerId: string; participant: Participant };\r\n}\r\n\r\nexport interface JoinAction {\r\n    type: ActionType.JOIN;\r\n    payload: { participant: Participant };\r\n}\r\n\r\nexport interface LeaveAction {\r\n    type: ActionType.LEAVE;\r\n    payload: { id: string };\r\n}\r\n\r\nexport interface ChangeOwnerAction {\r\n    type: ActionType.CHANGE_OWNER;\r\n    payload: { ownerId: string };\r\n}\r\n\r\nexport interface AddMovieAction {\r\n    type: ActionType.ADD_MOVIE;\r\n    payload: { movie: AddedMovie };\r\n}\r\n\r\nexport interface RemoveMovieAction {\r\n    type: ActionType.REMOVE_MOVIE;\r\n    payload: { id: number };\r\n}\r\n\r\nexport interface SwipeMovieAction {\r\n    type: ActionType.SWIPE_MOVIE;\r\n    payload: { id: number; liked: boolean; user: Participant };\r\n}\r\n\r\nexport interface ToggleReadyAction {\r\n    type: ActionType.TOGGLE_READY;\r\n    payload: { id: string };\r\n}\r\n\r\nexport interface SetStageAction {\r\n    type: ActionType.SET_STAGE;\r\n    payload: { stage: Stage.SELECTION | Stage.SWIPER };\r\n}\r\n\r\nexport interface UserNameChangeAction {\r\n    type: ActionType.USER_NAME_CHANGE;\r\n    payload: { userId: string; name: string };\r\n}\r\n\r\nexport type Action =\r\n    | JoinAction\r\n    | LeaveAction\r\n    | ChangeOwnerAction\r\n    | AddMovieAction\r\n    | RemoveMovieAction\r\n    | SwipeMovieAction\r\n    | InitializeRoomAction\r\n    | GetRoomAction\r\n    | ToggleReadyAction\r\n    | SetStageAction\r\n    | UserNameChangeAction;\r\n","export default __webpack_public_path__ + \"static/media/poster_unavailable.0646537b.png\";","import toast from 'react-hot-toast';\r\nimport { Renderable, Toast, ToastOptions, ValueOrFunction } from 'react-hot-toast/dist/core/types';\r\nimport PosterUnavailable from '../assets/poster_unavailable.png';\r\n\r\n// eslint-disable-next-line @typescript-eslint/no-explicit-any\r\nexport const checkIfIncluded = (list: any[], object: { [key: string]: number | string }): boolean => {\r\n    if (!list.length) {\r\n        return false;\r\n    }\r\n\r\n    const key = Object.keys(object)[0];\r\n\r\n    return Boolean(list.find((element) => element[key] === object[key]));\r\n};\r\n\r\nexport const generateImageUrl = (imageSrc: string | null, width: 'w342' | 'w500'): string => {\r\n    if (!imageSrc) {\r\n        return PosterUnavailable;\r\n    }\r\n\r\n    return `https://image.tmdb.org/t/p/${width}${imageSrc}`;\r\n};\r\n\r\nexport enum ToastType {\r\n    Success = 'success',\r\n    Error = 'error',\r\n    Loading = 'loading',\r\n    Custom = 'custom',\r\n}\r\n\r\ninterface ToastParams {\r\n    type: ToastType;\r\n    message: ValueOrFunction<Renderable, Toast>;\r\n    duration?: number;\r\n}\r\n\r\nexport const useToast = ({ type, message, duration }: ToastParams) => {\r\n    const successOptions: ToastOptions = {\r\n        duration: duration || 2000,\r\n        style: {\r\n            backgroundColor: 'var(--blue-active)',\r\n            color: '#FFF',\r\n        },\r\n        iconTheme: {\r\n            primary: 'hsl(213deg 24% 53%)',\r\n            secondary: '#FFF',\r\n        },\r\n    };\r\n\r\n    const errorOptions: ToastOptions = {\r\n        duration: duration || 4000,\r\n        style: {\r\n            backgroundColor: 'hsl(0deg 56% 27%)',\r\n            color: '#FFF',\r\n        },\r\n        iconTheme: {\r\n            primary: '#a23636',\r\n            secondary: '#FFF',\r\n        },\r\n    };\r\n\r\n    const loadingOptions: ToastOptions = {\r\n        duration: duration || 30000,\r\n        style: {\r\n            backgroundColor: 'var(--blue-active)',\r\n            color: '#FFF',\r\n        },\r\n        iconTheme: {\r\n            primary: 'hsl(213deg 24% 53%)',\r\n            secondary: '#FFF',\r\n        },\r\n    };\r\n    switch (type) {\r\n        case 'success':\r\n            return toast.success(message, successOptions);\r\n        case 'error':\r\n            return toast.error(message, errorOptions);\r\n        case 'loading':\r\n            return toast.loading(message, loadingOptions);\r\n        case 'custom':\r\n            return toast(message, successOptions);\r\n        default:\r\n            return toast(message, successOptions);\r\n    }\r\n};\r\n","import React, { createContext, ReactNode, useContext, useEffect } from 'react';\r\nimport { useLocalStorage } from '../hooks/useLocalStorage';\r\nimport { socket } from '../sockets';\r\nimport { onConnection } from '../sockets/listeners';\r\nimport { Participant } from '../types/room';\r\n\r\ntype Props = {\r\n    children: ReactNode;\r\n};\r\n\r\ninterface ContextProps {\r\n    user: Participant;\r\n    setUser: (value: Participant) => void;\r\n}\r\nexport const UserContext = createContext<ContextProps>({ user: {} as Participant, setUser: () => ({}) });\r\n\r\nexport const useUser = () => {\r\n    return useContext(UserContext);\r\n};\r\n\r\nconst UserProvider = ({ children }: Props) => {\r\n    const [user, setUser] = useLocalStorage('user', {} as Participant);\r\n\r\n    useEffect(() => {\r\n        onConnection(() => {\r\n            if (!user.id) {\r\n                setUser({ name: user.name, color: user.color, id: socket.id });\r\n                socket.emit('user:new', { ...user, id: socket.id });\r\n            } else {\r\n                socket.emit('user:new', user);\r\n            }\r\n        });\r\n    }, []);\r\n\r\n    return <UserContext.Provider value={{ user, setUser }}>{children}</UserContext.Provider>;\r\n};\r\n\r\nexport default UserProvider;\r\n","import { useState } from 'react';\r\n\r\nexport const useLocalStorage = <T>(key: string, initialValue: T): [typeof initialValue, typeof setValue] => {\r\n    const [storedValue, setStoredValue] = useState(() => {\r\n        try {\r\n            const item = window.localStorage.getItem(key);\r\n            return item ? JSON.parse(item) : initialValue;\r\n        } catch (error) {\r\n            return initialValue;\r\n        }\r\n    });\r\n\r\n    const setValue = (value: T): void => {\r\n        try {\r\n            const valueToStore = value instanceof Function ? value(storedValue) : value;\r\n            setStoredValue(valueToStore);\r\n            window.localStorage.setItem(key, JSON.stringify(valueToStore));\r\n        } catch (error) {}\r\n    };\r\n\r\n    return [storedValue, setValue];\r\n};\r\n","import { socket } from '.';\r\nimport { AddedMovie } from '../types/movies';\r\nimport { Room } from '../types/room';\r\nimport { Participant } from './../../../server/src/types/index';\r\n\r\nexport const onTest = () => {\r\n    return socket.on('test', () => {\r\n        console.log('this is a test');\r\n    });\r\n};\r\n\r\nexport const onConnection = (callback: (socketId: string) => void) => {\r\n    return socket.on('connect', callback);\r\n};\r\n\r\nexport const onParticipantJoin = (room: Room, callback: (user: Participant) => void) => {\r\n    return socket.on('room:new-join', (data: { socketId: string; user: Participant }) => {\r\n        socket.emit('room:send', { socketId: data.socketId, room });\r\n        callback(data.user);\r\n    });\r\n};\r\n\r\nexport const onParticipantLeave = (callback: (data: { socketId: string; newOwnerSocketId: string }) => void) => {\r\n    return socket.on('room:leave', callback);\r\n};\r\n\r\nexport const onRoomOwnerChange = (callback: (data: { newOwnerId: string }) => void) => {\r\n    return socket.on('room:owner-change', callback);\r\n};\r\n\r\nexport const onGetRoom = (callback: (data: { room: Room }) => void) => {\r\n    return socket.once('room:get', callback);\r\n};\r\n\r\nexport const onMovieAdd = (callback: (movie: AddedMovie) => void) => {\r\n    return socket.on('movie:add', (data: { movie: AddedMovie }) => {\r\n        callback(data.movie);\r\n    });\r\n};\r\n\r\nexport const onMovieRemove = (callback: (data: { movieId: number }) => void) => {\r\n    return socket.on('movie:remove', callback);\r\n};\r\n\r\nexport const onMovieSwipe = (callback: (data: { movieId: number; liked: boolean; user: Participant }) => void) => {\r\n    return socket.on('movie:swipe', callback);\r\n};\r\n\r\nexport const onToggleReady = (callback: (data: { userId: string }) => void) => {\r\n    return socket.on('user:ready', callback);\r\n};\r\n\r\nexport const onStartSwiper = (callback: (data: { roomId: string }) => void) => {\r\n    return socket.on('swiper:start', callback);\r\n};\r\n\r\nexport const onNameChange = (callback: (data: { userId: string; name: string }) => void) => {\r\n    return socket.on('user:name-change', callback);\r\n};\r\n","/* eslint-disable react/display-name */\r\nimport React, { createContext, ReactNode, useContext, useEffect, useReducer, useRef } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { Participant } from '../../../server/src/types';\r\nimport { socket } from '../sockets';\r\nimport { changeRoomOwner } from '../sockets/emitters';\r\nimport {\r\n    onGetRoom,\r\n    onMovieAdd,\r\n    onMovieRemove,\r\n    onMovieSwipe,\r\n    onNameChange,\r\n    onParticipantJoin,\r\n    onParticipantLeave,\r\n    onRoomOwnerChange,\r\n    onStartSwiper,\r\n    onToggleReady,\r\n} from '../sockets/listeners';\r\nimport { FontWeight600 } from '../styles';\r\nimport { Action, ActionType } from '../types/actions';\r\nimport { AddedMovie } from '../types/movies';\r\nimport { Room, Stage } from '../types/room';\r\nimport { ToastType, useToast } from '../utils';\r\nimport { useUser } from './UserContext';\r\n\r\ntype Props = {\r\n    children: ReactNode;\r\n};\r\n\r\nconst initialState: Room = {\r\n    roomName: null,\r\n    roomId: null,\r\n    ownerId: null,\r\n    participants: [],\r\n    movies: [],\r\n    stage: Stage.NULL,\r\n};\r\n\r\ninterface ContextProps {\r\n    room: Room;\r\n    dispatch: (action: Action) => void;\r\n}\r\nexport const RoomContext = createContext<ContextProps>({ room: initialState, dispatch: () => ({}) });\r\n\r\nexport const useRoom = () => {\r\n    return useContext(RoomContext);\r\n};\r\n\r\nconst reducer = (state: Room, action: Action): Room => {\r\n    switch (action.type) {\r\n        case ActionType.INITIALIZE_ROOM:\r\n            return {\r\n                ...initialState,\r\n                roomName: action.payload.roomName,\r\n                roomId: action.payload.roomId,\r\n                ownerId: action.payload.ownerId,\r\n                participants: [action.payload.participant],\r\n                stage: Stage.SELECTION,\r\n            };\r\n        case ActionType.GET_ROOM:\r\n            return {\r\n                ...action.payload.room,\r\n            };\r\n        case ActionType.JOIN:\r\n            const participants = [\r\n                ...state.participants.filter((p) => p.id !== action.payload.participant.id),\r\n                action.payload.participant,\r\n            ];\r\n            return { ...state, participants };\r\n        case ActionType.LEAVE:\r\n            return {\r\n                ...state,\r\n                participants: state.participants.filter((p) => p.id !== action.payload.id),\r\n            };\r\n        case ActionType.CHANGE_OWNER:\r\n            return {\r\n                ...state,\r\n                ownerId: action.payload.ownerId,\r\n            };\r\n        case ActionType.ADD_MOVIE:\r\n            return {\r\n                ...state,\r\n                movies: [...state.movies.filter((m) => m.id !== action.payload.movie.id), action.payload.movie],\r\n            };\r\n        case ActionType.REMOVE_MOVIE:\r\n            return { ...state, movies: state.movies.filter((m) => m.id !== action.payload.id) };\r\n        case ActionType.SWIPE_MOVIE:\r\n            const swipedMovie = state.movies.find((m) => m.id === action.payload.id) as AddedMovie;\r\n            const alreadySwiped = swipedMovie.swipes.find((swipe) => swipe.user.id === action.payload.user.id);\r\n            const updatedSwipes = alreadySwiped\r\n                ? swipedMovie.swipes.map((swipe) =>\r\n                      swipe.user.id === action.payload.user.id ? { ...swipe, liked: action.payload.liked } : swipe,\r\n                  )\r\n                : [...swipedMovie.swipes, { user: action.payload.user, liked: action.payload.liked }];\r\n            const updatedMovie: AddedMovie = { ...swipedMovie, swipes: updatedSwipes };\r\n            return {\r\n                ...state,\r\n                movies: state.movies.map((m) => (m.id === updatedMovie.id ? updatedMovie : m)),\r\n            };\r\n        case ActionType.SET_STAGE:\r\n            return { ...state, stage: action.payload.stage };\r\n        case ActionType.TOGGLE_READY:\r\n            return {\r\n                ...state,\r\n                participants: state.participants.map((p) =>\r\n                    p.id === action.payload.id ? { ...p, ready: !p.ready } : p,\r\n                ),\r\n            };\r\n        case ActionType.USER_NAME_CHANGE:\r\n            return {\r\n                ...state,\r\n                participants: state.participants.map((p) =>\r\n                    p.id === action.payload.userId ? { ...p, name: action.payload.name } : p,\r\n                ),\r\n            };\r\n        default:\r\n            throw new Error('Action not defined.');\r\n    }\r\n};\r\n\r\nconst LS_KEY = 'rooms';\r\n\r\nconst RoomProvider = ({ children }: Props) => {\r\n    const { pathname } = useLocation();\r\n    const { user } = useUser();\r\n    const [room, dispatch] = useReducer(reducer, initialState, getLocalStorage);\r\n    const toastId = useRef<string>();\r\n    const toastTimeoutId = useRef<number>();\r\n    const changeOwnerTimeoutId = useRef<number>();\r\n\r\n    function getLSRooms(): { [key: string]: Room } | null {\r\n        const item = localStorage.getItem(LS_KEY);\r\n        if (!item) return null;\r\n        return JSON.parse(item);\r\n    }\r\n\r\n    function getLocalStorage(initialState: Room) {\r\n        const item = localStorage.getItem(LS_KEY);\r\n        if (!item) return initialState;\r\n\r\n        const rooms: { [key: string]: Room } = JSON.parse(item);\r\n        const roomIdParam = pathname.split('/').filter(Boolean)[1];\r\n        const room = rooms[roomIdParam];\r\n        return room ? room : initialState;\r\n    }\r\n\r\n    function setLocalStorage(rooms: { [key: string]: Room }) {\r\n        localStorage.setItem(LS_KEY, JSON.stringify(rooms));\r\n    }\r\n\r\n    useEffect(() => {\r\n        const rooms = getLSRooms();\r\n        if (room.roomId) {\r\n            const updatedRooms = { ...rooms, [room.roomId as string]: room };\r\n            setLocalStorage(updatedRooms);\r\n        }\r\n    }, [room]);\r\n\r\n    useEffect(() => {\r\n        onParticipantJoin(room, (newParticipant) => {\r\n            if (newParticipant.id === room.ownerId) {\r\n                clearTimeout(changeOwnerTimeoutId.current);\r\n            }\r\n            useToast({\r\n                type: ToastType.Success,\r\n                message: () => (\r\n                    <span>\r\n                        <FontWeight600>{newParticipant.name}</FontWeight600> {' joined.'}\r\n                    </span>\r\n                ),\r\n            });\r\n            dispatch({ type: ActionType.JOIN, payload: { participant: { ...newParticipant, ready: false } } });\r\n        });\r\n        onParticipantLeave(({ socketId, newOwnerSocketId }) => {\r\n            dispatch({ type: ActionType.LEAVE, payload: { id: socketId } });\r\n            if (socketId === room.ownerId && newOwnerSocketId === socket.id) {\r\n                changeOwnerTimeoutId.current = window.setTimeout(() => {\r\n                    changeRoomOwner({ roomId: room.roomId as string, userId: user.id });\r\n                }, 10000);\r\n            }\r\n        });\r\n        onRoomOwnerChange(({ newOwnerId }) => {\r\n            dispatch({ type: ActionType.CHANGE_OWNER, payload: { ownerId: newOwnerId } });\r\n            if (newOwnerId === user.id) {\r\n                useToast({\r\n                    type: ToastType.Custom,\r\n                    message: () => (\r\n                        <span>\r\n                            You are the new room owner. <br />\r\n                            Tap on <FontWeight600>&quot;Start Swiping&quot;</FontWeight600> to begin.\r\n                        </span>\r\n                    ),\r\n                    duration: 8000,\r\n                });\r\n            }\r\n        });\r\n        onGetRoom(({ room }) => {\r\n            const user: Participant = JSON.parse(localStorage.getItem('user') || '');\r\n            /* Remove duplicate user */\r\n            let participants: Participant[] = room.participants.filter((p) => p.id !== user.id);\r\n            if (user) {\r\n                participants = [...participants, { ...user, ready: false } as Participant];\r\n            }\r\n            dispatch({ type: ActionType.GET_ROOM, payload: { room: { ...room, participants } } });\r\n        });\r\n        onMovieAdd((movie) => {\r\n            const addedByOtherUser = movie.addedByUserId !== user.id;\r\n            if (addedByOtherUser) {\r\n                useToast({\r\n                    type: ToastType.Success,\r\n                    message: () => (\r\n                        <span>\r\n                            Someone added <FontWeight600>{movie.title}</FontWeight600>.\r\n                        </span>\r\n                    ),\r\n                });\r\n            }\r\n            dispatch({ type: ActionType.ADD_MOVIE, payload: { movie } });\r\n        });\r\n        onMovieRemove(({ movieId }) => {\r\n            dispatch({ type: ActionType.REMOVE_MOVIE, payload: { id: movieId } });\r\n        });\r\n        onMovieSwipe(({ movieId, liked, user }) => {\r\n            dispatch({ type: ActionType.SWIPE_MOVIE, payload: { id: movieId, liked, user } });\r\n        });\r\n        onToggleReady(({ userId }) => {\r\n            const userToToggle = room.participants.find((p) => p.id === userId);\r\n            if (userToToggle && !userToToggle.ready && user.id !== userToToggle.id) {\r\n                useToast({\r\n                    type: ToastType.Success,\r\n                    message: () => (\r\n                        <span>\r\n                            <FontWeight600>{userToToggle.name}</FontWeight600> is ready.\r\n                        </span>\r\n                    ),\r\n                });\r\n            }\r\n            dispatch({ type: ActionType.TOGGLE_READY, payload: { id: userId } });\r\n        });\r\n        onStartSwiper(({ roomId }) => {\r\n            if (roomId !== room.roomId) return;\r\n            dispatch({ type: ActionType.SET_STAGE, payload: { stage: Stage.SWIPER } });\r\n        });\r\n        onNameChange(({ userId, name }) => {\r\n            const affectedUser = room.participants.find((p) => p.id === userId);\r\n            if (affectedUser && affectedUser.id !== user.id) {\r\n                const oldName = affectedUser?.name;\r\n                useToast({\r\n                    type: ToastType.Success,\r\n                    message: () => (\r\n                        <span>\r\n                            <FontWeight600>{oldName}</FontWeight600> {' has changed their name to '}{' '}\r\n                            <FontWeight600>{name}.</FontWeight600>\r\n                        </span>\r\n                    ),\r\n                });\r\n            }\r\n            dispatch({ type: ActionType.USER_NAME_CHANGE, payload: { userId, name } });\r\n        });\r\n\r\n        return () => {\r\n            socket.removeAllListeners();\r\n        };\r\n    }, [socket, room, dispatch]);\r\n\r\n    useEffect(() => {\r\n        const isOwner = user.id === room.ownerId;\r\n        const participants = room.participants.filter((p) => p.id !== user.id);\r\n        const everyoneReady = participants.length > 0 && participants.every((p) => p.ready);\r\n        if (!everyoneReady && toastTimeoutId.current) {\r\n            clearTimeout(toastTimeoutId.current);\r\n            toast.dismiss(toastId.current);\r\n        }\r\n        if (isOwner && everyoneReady) {\r\n            toastTimeoutId.current = window.setTimeout(\r\n                () =>\r\n                    (toastId.current = useToast({\r\n                        type: ToastType.Success,\r\n                        message: () => (\r\n                            <span>\r\n                                Everyone is ready to start.\r\n                                <br />\r\n                                Tap on <FontWeight600>&quot;Start Swiping&quot;.</FontWeight600>\r\n                            </span>\r\n                        ),\r\n                        duration: 99999,\r\n                    })),\r\n                2500,\r\n            );\r\n        }\r\n    }, [room.participants]);\r\n\r\n    useEffect(() => {\r\n        clearTimeout(toastTimeoutId.current);\r\n        if (toastId.current) {\r\n            toast.dismiss(toastId.current);\r\n        }\r\n    }, [pathname]);\r\n\r\n    return <RoomContext.Provider value={{ room, dispatch }}>{children}</RoomContext.Provider>;\r\n};\r\n\r\nexport default RoomProvider;\r\n","import { useLayoutEffect, useState } from 'react';\r\n\r\nconst useViewportWidth = () => {\r\n    const [width, setWidth] = useState(0);\r\n    useLayoutEffect(() => {\r\n        function updateSize() {\r\n            setWidth(window.innerWidth);\r\n        }\r\n        window.addEventListener('resize', updateSize);\r\n        updateSize();\r\n        return () => window.removeEventListener('resize', updateSize);\r\n    }, []);\r\n    return { width };\r\n};\r\n\r\nexport default useViewportWidth;\r\n","import React from 'react';\r\nimport Rodal from 'rodal';\r\nimport 'rodal/lib/rodal.css';\r\n\r\ninterface Props {\r\n    children: JSX.Element | JSX.Element[] | Element | Element[];\r\n    visible: boolean;\r\n    onClose?: () => void;\r\n    width?: number | string;\r\n    maxWidth?: number | string;\r\n    height?: number | string;\r\n}\r\n\r\nconst Modal = ({ visible, onClose, width = '90%', maxWidth = 500, height = 500, children }: Props) => {\r\n    const styles = {\r\n        height,\r\n        width,\r\n        maxWidth,\r\n        background: 'var(--blue-active)',\r\n        borderRadius: '8px',\r\n    };\r\n\r\n    return (\r\n        <Rodal visible={visible} onClose={onClose} closeOnEsc={true} customStyles={styles} animation=\"slideUp\">\r\n            {children}\r\n        </Rodal>\r\n    );\r\n};\r\n\r\nexport default Modal;\r\n","import { FaUserCircle } from 'react-icons/fa';\r\nimport { NavLink } from 'react-router-dom';\r\nimport styled from 'styled-components';\r\nimport { Button } from '../../styles';\r\n\r\nexport const Container = styled.nav`\r\n    background: rgb(0 0 0 / 25%);\r\n    padding: 1rem;\r\n\r\n    @media screen and (min-width: 700px) {\r\n        padding: 1.5rem 1rem;\r\n    }\r\n`;\r\n\r\nexport const InnerContainer = styled.div`\r\n    max-width: 1100px;\r\n    margin: auto;\r\n    display: flex;\r\n    justify-content: space-between;\r\n    align-items: center;\r\n`;\r\n\r\nexport const Logo = styled.div`\r\n    color: var(--white);\r\n    font-size: 1.25rem;\r\n    font-family: 'Merienda One', 'Rubik', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',\r\n        'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\r\n`;\r\n\r\nexport const NavContainer = styled.section``;\r\n\r\nexport const NavLinks = styled.div`\r\n    display: flex;\r\n    align-items: center;\r\n    list-style: none;\r\n\r\n    & > *:not(:last-child) {\r\n        margin-right: 0.75rem;\r\n    }\r\n\r\n    @media screen and (min-width: 450px) {\r\n        & > *:not(:last-child) {\r\n            margin-right: 1.5rem;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const StyledLink = styled(NavLink)<{ $active: boolean }>`\r\n    font-weight: ${(props) => props.$active && 700};\r\n`;\r\n\r\nexport const UserButton = styled.button`\r\n    display: flex;\r\n    align-items: center;\r\n    cursor: pointer;\r\n\r\n    span {\r\n        margin-right: 0.75rem;\r\n    }\r\n`;\r\n\r\nexport const UserIcon = styled(FaUserCircle)`\r\n    font-size: 1.25rem;\r\n    width: 20px;\r\n`;\r\n\r\nexport const ModalContent = styled.section`\r\n    padding: 0 1rem;\r\n\r\n    h2 {\r\n        font-size: 1.5rem;\r\n        font-weight: 600;\r\n        margin-bottom: 1rem;\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n`;\r\n\r\nexport const InputGroup = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-bottom: 2rem;\r\n`;\r\n\r\nexport const ChangeButton = styled(Button)`\r\n    background: var(--blue-action);\r\n    padding: 0.75rem 1rem;\r\n    width: 100%;\r\n`;\r\n","/* eslint-disable react/display-name */\r\nimport React, { useState } from 'react';\r\nimport { NavLink, useLocation } from 'react-router-dom';\r\nimport { useRoom } from '../../context/RoomContext';\r\nimport { useUser } from '../../context/UserContext';\r\nimport useViewportWidth from '../../hooks/useViewportWidth';\r\nimport { changeName } from '../../sockets/emitters';\r\nimport { FontWeight600, StyledForm } from '../../styles';\r\nimport { ToastType, useToast } from '../../utils';\r\nimport Modal from '../Modal';\r\nimport {\r\n    ChangeButton,\r\n    Container,\r\n    InnerContainer,\r\n    InputGroup,\r\n    Logo,\r\n    ModalContent,\r\n    NavContainer,\r\n    NavLinks,\r\n    StyledLink,\r\n    UserButton,\r\n    UserIcon,\r\n} from './style';\r\n\r\ninterface Props {\r\n    forceShow?: boolean;\r\n}\r\n\r\nconst Nav = ({ forceShow: show }: Props) => {\r\n    const { width } = useViewportWidth();\r\n    const { room } = useRoom();\r\n    const { user, setUser } = useUser();\r\n    const { pathname } = useLocation();\r\n    const [visible, setVisible] = useState(false);\r\n    const [newName, setNewName] = useState(user.name);\r\n    const username = user.name?.length > 8 ? `${user.name.slice(0, 8)}...` : user.name;\r\n\r\n    const closeModal = () => {\r\n        setVisible(false);\r\n    };\r\n\r\n    const confirmNameChange = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        setUser({ ...user, name: newName });\r\n        closeModal();\r\n        useToast({\r\n            type: ToastType.Success,\r\n            message: () => (\r\n                <span>\r\n                    {'Name changed to'} <FontWeight600>{newName}.</FontWeight600>\r\n                </span>\r\n            ),\r\n        });\r\n\r\n        if (room.roomId) {\r\n            changeName({ roomId: room.roomId, userId: user.id, name: newName });\r\n        }\r\n    };\r\n\r\n    if (pathname === '/' && !show) return null;\r\n\r\n    return (\r\n        <Container>\r\n            <InnerContainer>\r\n                <Logo>\r\n                    <NavLink to=\"/\">Movie Swiper </NavLink>\r\n                </Logo>\r\n                <NavContainer>\r\n                    <NavLinks>\r\n                        <StyledLink $active={pathname.includes('create')} to=\"/create\">\r\n                            Create\r\n                        </StyledLink>\r\n                        {room.roomId && (\r\n                            <StyledLink\r\n                                to={`/${room.stage}/${room.roomId}`}\r\n                                activeStyle={{\r\n                                    fontWeight: 700,\r\n                                }}\r\n                                $active={['selection', 'swiper', 'results'].includes(\r\n                                    pathname.split('/').filter(Boolean)[0],\r\n                                )}\r\n                            >\r\n                                Room\r\n                            </StyledLink>\r\n                        )}\r\n                        {user.name && (\r\n                            <UserButton onClick={() => setVisible(true)}>\r\n                                {width > 450 && <span>{username}</span>}\r\n                                <UserIcon />\r\n                            </UserButton>\r\n                        )}\r\n                    </NavLinks>\r\n                </NavContainer>\r\n            </InnerContainer>\r\n            <Modal visible={visible} onClose={closeModal} height={225} maxWidth={400}>\r\n                <ModalContent>\r\n                    <h2>Change name</h2>\r\n                    <StyledForm onSubmit={confirmNameChange}>\r\n                        <InputGroup>\r\n                            <label htmlFor=\"newName\">Name</label>\r\n                            <input\r\n                                type=\"text\"\r\n                                name=\"newName\"\r\n                                id=\"newName\"\r\n                                value={newName}\r\n                                onChange={(e) => setNewName(e.target.value)}\r\n                            />\r\n                        </InputGroup>\r\n                        <ChangeButton type=\"submit\">Change name</ChangeButton>\r\n                    </StyledForm>\r\n                </ModalContent>\r\n            </Modal>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Nav;\r\n","import styled, { keyframes } from 'styled-components';\r\nimport { MaxWidthContainer } from '../../styles';\r\nimport { Title } from './../../styles/index';\r\n\r\nexport const Container = styled(MaxWidthContainer)`\r\n    height: 500px;\r\n    display: flex;\r\n    flex-direction: column;\r\n    justify-content: center;\r\n    align-items: center;\r\n`;\r\n\r\nexport const Text = styled(Title)`\r\n    text-align: center;\r\n    font-size: 1.125rem;\r\n    margin-bottom: 1rem;\r\n`;\r\n\r\nconst dotsAnimation = keyframes`\r\n20%{background-position:0%   0%, 50%  50%,100%  50%}\r\n    40%{background-position:0% 100%, 50%   0%,100%  50%}\r\n    60%{background-position:0%  50%, 50% 100%,100%   0%}\r\n    80%{background-position:0%  50%, 50%  50%,100% 100%}\r\n`;\r\n\r\nexport const LoadingDots = styled.div`\r\n    width: 60px;\r\n    height: 24px;\r\n    background: radial-gradient(circle closest-side, currentColor 90%, #0000) 0% 50%,\r\n        radial-gradient(circle closest-side, currentColor 90%, #0000) 50% 50%,\r\n        radial-gradient(circle closest-side, currentColor 90%, #0000) 100% 50%;\r\n    background-size: calc(100% / 3) 12px;\r\n    background-repeat: no-repeat;\r\n    animation: ${dotsAnimation} 1s infinite linear;\r\n`;\r\n","import React, { useEffect, useState } from 'react';\r\nimport { RouteProps, useHistory } from 'react-router-dom';\r\nimport { useRoom } from '../../context/RoomContext';\r\nimport { useUser } from '../../context/UserContext';\r\nimport { checkRoom, createRoom, joinRoom } from '../../sockets/emitters';\r\nimport { ActionType } from '../../types/actions';\r\nimport { Stage } from '../../types/room';\r\nimport * as S from './style';\r\n\r\ninterface Props {\r\n    component: React.ElementType;\r\n    computedMatch?: any;\r\n    location?: RouteProps['location'];\r\n    path?: RouteProps['path'];\r\n}\r\n\r\nconst ProtectedRoute = ({ component: Component, computedMatch, ...rest }: Props) => {\r\n    const { room, dispatch } = useRoom();\r\n    const { user } = useUser();\r\n    const history = useHistory();\r\n    const [status, setStatus] = useState<'loading' | 'error' | 'success'>('loading');\r\n    const roomId = computedMatch.params.id;\r\n    const path = computedMatch.url.split('/')[1];\r\n\r\n    useEffect(() => {\r\n        try {\r\n            console.log(room.roomId, roomId);\r\n            if (!roomId) return history.replace('/expired');\r\n            /* Check if room exists */\r\n            checkRoom({ roomId }, (res) => {\r\n                if (res.success) {\r\n                    /* If username is already set, join room */\r\n                    if (user.name) {\r\n                        joinRoom({ roomId, user }, (res) => {\r\n                            if (res.success) {\r\n                                setStatus('success');\r\n                            } else {\r\n                                setStatus('error');\r\n                            }\r\n                        });\r\n                        /* If username is not set, go to Join screen to set it */\r\n                    } else {\r\n                        return history.replace(`/join/${roomId}`);\r\n                    }\r\n                } else {\r\n                    if (!room.roomId) return history.replace('/create');\r\n\r\n                    createRoom({ roomId }, (res) => {\r\n                        if (!res.success) return;\r\n\r\n                        dispatch({\r\n                            type: ActionType.GET_ROOM,\r\n                            payload: { room },\r\n                        });\r\n                        return history.push(`/selection/${roomId}`);\r\n                    });\r\n                }\r\n            });\r\n            setStatus('success');\r\n        } catch (error) {\r\n            console.log(error);\r\n            setStatus('error');\r\n        }\r\n    }, [computedMatch.params.id, user]);\r\n\r\n    useEffect(() => {\r\n        const swipedAll =\r\n            room.movies.length > 0 &&\r\n            room.movies.every((movie) => movie.swipes.find((swipe) => swipe.user.id === user.id));\r\n        if (room.roomId && swipedAll) {\r\n            history.replace(`/${Stage.RESULTS}/${roomId}`);\r\n            return;\r\n        }\r\n\r\n        if (room.roomId && path !== room.stage) {\r\n            history.replace(`/${room.stage}/${roomId}`);\r\n        }\r\n    }, [room.stage]);\r\n\r\n    if (status === 'loading') {\r\n        return (\r\n            <S.Container>\r\n                <S.Text>Joining room</S.Text>\r\n                <S.LoadingDots />\r\n            </S.Container>\r\n        );\r\n    }\r\n\r\n    if (status === 'error') {\r\n        return (\r\n            <S.Container>\r\n                <S.Text>Could not join room. Refresh the page to try again.</S.Text>\r\n            </S.Container>\r\n        );\r\n    }\r\n\r\n    return <Component {...computedMatch} {...rest} />;\r\n};\r\n\r\nexport default ProtectedRoute;\r\n","import React, { createContext, useContext, useState } from 'react';\r\nimport { ReactNode } from 'react';\r\nimport { Movie } from '../types/movies';\r\n\r\ntype Props = {\r\n    children: ReactNode;\r\n};\r\n\r\ninterface ContextProps {\r\n    moviePreview: Movie | null;\r\n    setMoviePreview: (value: Movie | null) => void;\r\n}\r\nexport const MoviePreviewContext = createContext<ContextProps>({\r\n    moviePreview: null,\r\n    setMoviePreview: () => ({}),\r\n});\r\n\r\nexport const useMoviePreview = () => {\r\n    return useContext(MoviePreviewContext);\r\n};\r\n\r\nconst MoviePreviewProvider = ({ children }: Props) => {\r\n    const [moviePreview, setMoviePreview] = useState<Movie | null>(null);\r\n\r\n    return (\r\n        <MoviePreviewContext.Provider value={{ moviePreview, setMoviePreview }}>\r\n            {children}\r\n        </MoviePreviewContext.Provider>\r\n    );\r\n};\r\n\r\nexport default MoviePreviewProvider;\r\n","import styled from 'styled-components';\r\n\r\nexport const InputGroup = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-bottom: 1rem;\r\n\r\n    &:last-of-type {\r\n        margin-bottom: 4rem;\r\n    }\r\n`;\r\n","import randomColor from 'randomcolor';\r\nimport React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useRoom } from '../../../context/RoomContext';\r\nimport { useUser } from '../../../context/UserContext';\r\nimport { socket } from '../../../sockets';\r\nimport { createRoom } from '../../../sockets/emitters';\r\nimport { ErrorMessage, FormButton, StyledForm } from '../../../styles';\r\nimport { ActionType } from '../../../types/actions';\r\nimport { InputGroup } from './style';\r\n\r\ninterface Errors {\r\n    name?: string;\r\n    roomName?: string;\r\n}\r\n\r\nconst CreateForm = () => {\r\n    const history = useHistory();\r\n    const { room, dispatch } = useRoom();\r\n    const { user, setUser } = useUser();\r\n    const initialInputs = {\r\n        name: user.name || '',\r\n        roomName: '',\r\n    };\r\n    const [disabled, setDisabled] = useState(false);\r\n    const [inputs, setInputs] = useState(initialInputs);\r\n    const [touched, setTouched] = useState<Errors>({});\r\n    const [submitted, setSubmitted] = useState(false);\r\n\r\n    const errors = getErrors();\r\n    const isFormValid = !Object.keys(errors).length;\r\n\r\n    const initializeRoomAndUser = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        setSubmitted(true);\r\n\r\n        if (!isFormValid) return;\r\n\r\n        setDisabled(true);\r\n        if (room.roomId) {\r\n            socket.disconnect();\r\n            socket.connect();\r\n        }\r\n\r\n        const newUser = {\r\n            ...user,\r\n            name: inputs.name,\r\n            color: randomColor({\r\n                luminosity: 'light',\r\n                hue: 'blue',\r\n            }),\r\n        };\r\n        setUser(newUser);\r\n        createRoom({ roomId: null }, (res) => {\r\n            if (!res.success) {\r\n                return;\r\n            }\r\n\r\n            const roomId = res.data.roomId;\r\n            dispatch({\r\n                type: ActionType.INITIALIZE_ROOM,\r\n                payload: { roomName: inputs.roomName, roomId, ownerId: newUser.id, participant: newUser },\r\n            });\r\n            history.push(`/selection/${roomId}`);\r\n        });\r\n    };\r\n\r\n    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { name, value } = e.target;\r\n        setInputs((inputs) => ({ ...inputs, [name]: value }));\r\n    };\r\n\r\n    const onBlur = (e: React.FocusEvent<HTMLInputElement>) => {\r\n        const { name } = e.target;\r\n        setTouched((touched) => ({ ...touched, [name]: true }));\r\n    };\r\n\r\n    function getErrors() {\r\n        const errors: Errors = {};\r\n        if (!inputs.name) errors.name = 'Name is required.';\r\n        // if (!inputs.roomName) errors.roomName = 'Group name is required.';\r\n\r\n        return errors;\r\n    }\r\n\r\n    return (\r\n        <StyledForm onSubmit={initializeRoomAndUser}>\r\n            <InputGroup>\r\n                <label htmlFor=\"name\">Your name</label>\r\n                <input type=\"text\" name=\"name\" id=\"name\" value={inputs.name} onChange={onChange} onBlur={onBlur} />\r\n                {(touched.name || submitted) && errors.name && <ErrorMessage>{errors.name}</ErrorMessage>}\r\n            </InputGroup>\r\n            {/* <InputGroup>\r\n                <label htmlFor=\"roomName\">Group name</label>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"roomName\"\r\n                    id=\"roomName\"\r\n                    value={inputs.roomName}\r\n                    onChange={onChange}\r\n                    onBlur={onBlur}\r\n                />\r\n                {(touched.roomName || submitted) && errors.roomName && <ErrorMessage>{errors.roomName}</ErrorMessage>}\r\n            </InputGroup> */}\r\n            <FormButton $disabled={disabled} disabled={disabled}>\r\n                Get Started\r\n            </FormButton>\r\n        </StyledForm>\r\n    );\r\n};\r\n\r\nexport default CreateForm;\r\n","import React from 'react';\r\nimport { FormPageContainer, Subtitle, Title } from '../../../styles';\r\nimport CreateForm from '../CreateForm';\r\n\r\nconst Create = () => {\r\n    return (\r\n        <FormPageContainer>\r\n            <Title>Create New Group</Title>\r\n            <Subtitle>Enter your name before proceeding to movie selection.</Subtitle>\r\n            <CreateForm />\r\n        </FormPageContainer>\r\n    );\r\n};\r\n\r\nexport default Create;\r\n","import styled from 'styled-components';\r\nimport { MaxWidthContainer } from '../../../styles';\r\n\r\nexport const Container = styled(MaxWidthContainer)``;\r\n","import React from 'react';\r\nimport { Container } from './style';\r\nimport { Subtitle, Title } from '../../../styles/index';\r\n\r\nconst Expired = () => {\r\n    return (\r\n        <Container>\r\n            <Title>Not Found</Title>\r\n            <Subtitle>Sorry, the room you&apos;re trying to join does not exist or has expired.</Subtitle>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Expired;\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.article`\r\n    padding: 1.5rem;\r\n    background-color: var(--blue-active);\r\n    border-radius: 4px;\r\n    box-shadow: 0px 5px 15px 5px rgb(24 38 53 / 55%);\r\n`;\r\n\r\nexport const Headline = styled.h3`\r\n    text-transform: uppercase;\r\n    letter-spacing: 1px;\r\n    color: var(--gray);\r\n    font-weight: 400;\r\n    font-size: 0.875rem;\r\n    margin-bottom: 0.5rem;\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\n\r\nexport const Body = styled.p`\r\n    line-height: 1.5;\r\n    @media screen and (min-width: 500px) {\r\n        font-size: 1.125rem;\r\n    }\r\n`;\r\n","import React from 'react';\r\nimport * as S from './style';\r\n\r\ninterface Prop {\r\n    children: React.ReactNode;\r\n}\r\n\r\nconst Headline = ({ children }: Prop) => <S.Headline>{children}</S.Headline>;\r\nconst Body = ({ children }: Prop) => <S.Body>{children}</S.Body>;\r\n\r\nconst Instruction = ({ children }: Prop) => {\r\n    const headline = React.Children.toArray(children).filter(\r\n        (child) => React.isValidElement(child) && child.type === Headline,\r\n    );\r\n    const body = React.Children.toArray(children).filter((child) => React.isValidElement(child) && child.type === Body);\r\n\r\n    return (\r\n        <S.Container>\r\n            {headline}\r\n            {body}\r\n        </S.Container>\r\n    );\r\n};\r\n\r\nInstruction.Headline = Headline;\r\nInstruction.Body = Body;\r\n\r\nexport default Instruction;\r\n","import { FaFilm, FaPollH, FaUsers } from 'react-icons/fa';\r\nimport styled, { css } from 'styled-components';\r\n\r\nexport const Grid = styled.section`\r\n    max-width: 1100px;\r\n    display: grid;\r\n    grid-template-columns: 1fr;\r\n    grid-gap: 1rem;\r\n    margin: 4rem 1.5rem;\r\n    position: relative;\r\n    z-index: 3;\r\n    position: relative;\r\n\r\n    &::after {\r\n        content: '';\r\n        position: absolute;\r\n        height: 2px;\r\n        background: var(--blue-muted);\r\n        width: 100%;\r\n        bottom: -4rem;\r\n        left: 0;\r\n    }\r\n\r\n    @media screen and (min-width: 750px) {\r\n        grid-template-columns: repeat(3, 1fr);\r\n        grid-gap: 2rem;\r\n        margin-top: -5rem;\r\n    }\r\n\r\n    @media screen and (min-width: 1100px) {\r\n        margin: -5rem auto 4rem auto;\r\n    }\r\n`;\r\n\r\nconst iconStyles = css`\r\n    font-size: 1.25rem;\r\n    margin-right: 0.75rem;\r\n`;\r\n\r\nexport const UsersIcon = styled(FaUsers)`\r\n    ${iconStyles}\r\n    margin-right: 0.5rem;\r\n`;\r\n\r\nexport const FilmIcon = styled(FaFilm)`\r\n    ${iconStyles}\r\n`;\r\n\r\nexport const PollIcon = styled(FaPollH)`\r\n    ${iconStyles}\r\n`;\r\n","import React from 'react';\r\nimport Instruction from '../Instruction';\r\nimport * as S from './style';\r\n\r\nconst instructions = [\r\n    {\r\n        headline: 'Invite your friends',\r\n        body: 'Create a room, copy the link and share it with others.',\r\n        icon: <S.UsersIcon />,\r\n    },\r\n    {\r\n        headline: 'Pick your movies',\r\n        body: 'Browse by genre or find the exact movie you have in mind, then add it to the shared list.',\r\n        icon: <S.FilmIcon />,\r\n    },\r\n    {\r\n        headline: 'Swipe to vote',\r\n        body: 'Like a movie? Swipe right. Dislike a movie? Swipe left.',\r\n        icon: <S.PollIcon />,\r\n    },\r\n];\r\n\r\nconst Explainer = () => {\r\n    return (\r\n        <S.Grid>\r\n            {instructions.map((i) => (\r\n                <Instruction key={i.headline}>\r\n                    <Instruction.Headline>\r\n                        {i.icon} {i.headline}\r\n                    </Instruction.Headline>\r\n                    <Instruction.Body>{i.body}</Instruction.Body>\r\n                </Instruction>\r\n            ))}\r\n        </S.Grid>\r\n    );\r\n};\r\n\r\nexport default Explainer;\r\n","import { RiInformationLine } from 'react-icons/ri';\r\nimport styled from 'styled-components';\r\n\r\nexport const Button = styled.button`\r\n    width: 225px;\r\n    padding: 1rem 1rem 0;\r\n    border-radius: 4px;\r\n    cursor: pointer;\r\n    background-color: var(--blue-active);\r\n    display: flex;\r\n    flex-direction: column;\r\n`;\r\n\r\nexport const Image = styled.img`\r\n    display: block;\r\n    object-fit: cover;\r\n    height: 100%;\r\n    width: 100%;\r\n    border-radius: 4px;\r\n`;\r\n\r\nexport const ButtonSection = styled.div`\r\n    padding: 1rem 0;\r\n    background: var(--blue-active);\r\n    text-transform: uppercase;\r\n    letter-spacing: 1px;\r\n    text-align: center;\r\n    border-radius: 0 0 4px 4px;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    width: 100%;\r\n`;\r\n\r\nexport const InfoIcon = styled(RiInformationLine)`\r\n    font-size: 1.25rem;\r\n    margin-right: 0.5rem;\r\n`;\r\n","import axios from 'axios';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useMoviePreview } from '../../../context/MoviePreviewContext';\r\nimport { Movie } from '../../../types/movies';\r\nimport { generateImageUrl } from '../../../utils';\r\nimport * as S from './style';\r\n\r\nconst placeholderMovie = {\r\n    adult: false,\r\n    backdrop_path: '/inJjDhCjfhh3RtrJWBmmDqeuSYC.jpg',\r\n    genre_ids: [28, 878],\r\n    id: 399566,\r\n    original_language: 'en',\r\n    original_title: 'Godzilla vs. Kong',\r\n    overview:\r\n        'In a time when monsters walk the Earth, humanitys fight for its future sets Godzilla and Kong on a collision course that will see the two most powerful forces of nature on the planet collide in a spectacular battle for the ages.',\r\n    popularity: 4459.297,\r\n    poster_path: '/pgqgaUx1cJb5oZQQ5v0tNARCeBp.jpg',\r\n    release_date: '2021-03-24',\r\n    title: 'Godzilla vs. Kong',\r\n    video: false,\r\n    vote_average: 8.3,\r\n    vote_count: 4838,\r\n};\r\n\r\nconst MovieCardDisplay = () => {\r\n    const [movie, setMovie] = useState<Movie | null>(null);\r\n    const [loading, setLoading] = useState(true);\r\n    const imageUrl = movie && generateImageUrl(movie.poster_path, 'w342');\r\n    const { setMoviePreview } = useMoviePreview();\r\n\r\n    useEffect(() => {\r\n        const fetchMovie = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const res = await axios.get('/movies/random');\r\n\r\n                if (res.status === 200) {\r\n                    setMovie(res.data);\r\n                }\r\n            } catch (error) {\r\n                console.log(error);\r\n                setMovie(null);\r\n            } finally {\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetchMovie();\r\n    }, []);\r\n\r\n    if (!movie || !imageUrl) return null;\r\n\r\n    return (\r\n        <S.Button onClick={() => setMoviePreview(movie)}>\r\n            <S.Image src={imageUrl} alt={`Movie poster for ${movie?.title}.`} />\r\n            <S.ButtonSection>\r\n                <S.InfoIcon />\r\n                See Details\r\n            </S.ButtonSection>\r\n        </S.Button>\r\n    );\r\n};\r\n\r\nexport default MovieCardDisplay;\r\n","import styled from 'styled-components';\r\nimport { MaxWidthContainer } from '../../../styles';\r\nimport { Button as MovieCardDisplayContainer } from '../MovieCardDisplay/style';\r\n\r\nexport const Container = styled(MaxWidthContainer)`\r\n    padding: 4rem 1.5rem 4rem;\r\n    max-width: 700px;\r\n\r\n    & ${MovieCardDisplayContainer} {\r\n        flex: 0 0 200px;\r\n    }\r\n\r\n    @media screen and (min-width: 600px) {\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        margin: 0 auto;\r\n    }\r\n`;\r\n\r\nexport const Content = styled.div`\r\n    max-width: 350px;\r\n    h2 {\r\n        font-size: 1.5rem;\r\n        font-weight: 500;\r\n        margin-bottom: 1rem;\r\n        text-transform: uppercase;\r\n    }\r\n\r\n    p {\r\n        color: var(--white-muted);\r\n        line-height: 1.5;\r\n        margin-bottom: 0.5rem;\r\n\r\n        &:nth-last-of-type(2) {\r\n            margin-bottom: 1rem;\r\n        }\r\n\r\n        &:last-of-type {\r\n            margin-bottom: 2rem;\r\n        }\r\n\r\n        @media screen and (min-width: 600px) {\r\n            &:last-of-type {\r\n                margin-bottom: 0;\r\n            }\r\n        }\r\n    }\r\n\r\n    ul {\r\n        list-style-position: inside;\r\n        margin-bottom: 2rem;\r\n\r\n        & > li + li {\r\n            margin-top: 0.5rem;\r\n        }\r\n    }\r\n`;\r\n","import React from 'react';\r\nimport MovieCardDisplay from '../MovieCardDisplay';\r\nimport * as S from './style';\r\n\r\nconst Showcase = () => {\r\n    return (\r\n        <S.Container>\r\n            <S.Content>\r\n                <h2>See movie details</h2>\r\n                <p>Want to learn more about a movie before casting your vote? No problem.</p>\r\n                <p>Tap on a movie to see more details, including:</p>\r\n                <ul>\r\n                    <li>Description</li>\r\n                    <li>Duration</li>\r\n                    <li>Genres</li>\r\n                    <li>Trailer</li>\r\n                </ul>\r\n                <p>Try it out, tap on the movie card.</p>\r\n            </S.Content>\r\n            <MovieCardDisplay />\r\n        </S.Container>\r\n    );\r\n};\r\n\r\nexport default Showcase;\r\n","export default __webpack_public_path__ + \"static/media/movie-posters.0e940876.jpg\";","import styled from 'styled-components';\r\nimport Cinema from '../../../assets/movie-posters.jpg';\r\nimport { Button } from '../../../styles';\r\n\r\nexport const Container = styled.section`\r\n    position: relative;\r\n    z-index: 1;\r\n    overflow: hidden;\r\n\r\n    &:before {\r\n        content: '';\r\n        position: absolute;\r\n        top: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: -2;\r\n        background-image: url(${Cinema});\r\n        background-size: cover;\r\n        background-position: top;\r\n        background-repeat: no-repeat;\r\n    }\r\n\r\n    &:after {\r\n        content: '';\r\n        position: absolute;\r\n        top: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        background: hsl(211deg 43% 13% / 90%);\r\n        width: 100%;\r\n        height: 100%;\r\n        z-index: -1;\r\n    }\r\n`;\r\n\r\nexport const CTA = styled.section`\r\n    position: relative;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    padding: 4rem 1.5rem;\r\n    min-height: 500px;\r\n\r\n    @media (min-width: 450px) {\r\n        margin: auto;\r\n    }\r\n\r\n    @media (min-width: 700px) {\r\n        align-items: flex-start;\r\n        min-height: 600px;\r\n    }\r\n\r\n    @media (min-width: 1500px) {\r\n        padding: 6rem 1rem;\r\n        min-height: 700px;\r\n    }\r\n`;\r\n\r\nexport const MainTitle = styled.h1`\r\n    display: flex;\r\n    flex-direction: column;\r\n    font-size: 2rem;\r\n    max-width: 650px;\r\n    letter-spacing: 1px;\r\n    line-height: 1.4;\r\n    color: #b3c4d8;\r\n    margin: 0 0 4rem;\r\n    font-weight: 400;\r\n    text-align: center;\r\n    text-transform: uppercase;\r\n    position: relative;\r\n\r\n    &::after {\r\n        /* content: ''; */\r\n        position: absolute;\r\n        height: 2px;\r\n        background: #cecece54;\r\n        background: #aaaaaa;\r\n        width: 100%;\r\n        bottom: -0.5rem;\r\n        left: 0;\r\n    }\r\n\r\n    @media (min-width: 700px) {\r\n        font-size: 2.25rem;\r\n    }\r\n`;\r\n\r\nexport const Bold = styled.span`\r\n    color: var(--white);\r\n    font-weight: 700;\r\n    font-size: 2.75rem;\r\n    text-transform: none;\r\n    line-height: 1.2;\r\n\r\n    @media (min-width: 700px) {\r\n        font-size: 3.5rem;\r\n    }\r\n`;\r\n\r\nexport const Subtitle = styled.h2`\r\n    text-transform: uppercase;\r\n    font-size: 1rem;\r\n    font-weight: 500;\r\n    color: #d8d8d8;\r\n    margin-bottom: 1rem;\r\n    letter-spacing: 2px;\r\n    margin-right: auto;\r\n    position: relative;\r\n    text-align: center;\r\n`;\r\n\r\nexport const BR = styled.br`\r\n    display: inline;\r\n    @media (min-width: 500px) {\r\n        display: none;\r\n    }\r\n`;\r\n\r\nexport const GetStartedButton = styled(Button)`\r\n    flex: 0;\r\n    background: var(--blue-action);\r\n    padding: 1rem 3rem;\r\n    font-weight: 500;\r\n    transition: background 100ms ease-in;\r\n    width: 100%;\r\n    margin: auto;\r\n\r\n    &:hover {\r\n        background: var(--blue-action-90);\r\n    }\r\n`;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport Nav from '../../../components/Nav';\r\nimport Explainer from '../Explainer';\r\nimport Showcase from '../Showcase';\r\nimport { Bold, Container, CTA, GetStartedButton, MainTitle, Subtitle } from './style';\r\n\r\nconst Home = () => {\r\n    const history = useHistory();\r\n    const navigate = () => {\r\n        history.push('/create');\r\n    };\r\n    return (\r\n        <>\r\n            <Container>\r\n                <Nav forceShow />\r\n                <CTA>\r\n                    <div>\r\n                        <MainTitle>\r\n                            Movie night?\r\n                            <Bold>Put it to a vote</Bold>\r\n                        </MainTitle>\r\n                        <Subtitle>Find the right movie</Subtitle>\r\n                        <GetStartedButton onClick={navigate}>Get Started</GetStartedButton>\r\n                    </div>\r\n                </CTA>\r\n            </Container>\r\n            <Explainer />\r\n            <Showcase />\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Home;\r\n","import styled from 'styled-components';\r\n\r\nexport const InputGroup = styled.div`\r\n    display: flex;\r\n    flex-direction: column;\r\n    margin-bottom: 1rem;\r\n\r\n    &:last-of-type {\r\n        margin-bottom: 4rem;\r\n    }\r\n`;\r\n","import randomColor from 'randomcolor';\r\nimport React, { useState } from 'react';\r\nimport { useHistory, useParams } from 'react-router-dom';\r\nimport { useUser } from '../../../context/UserContext';\r\nimport { ErrorMessage, FormButton, StyledForm } from '../../../styles';\r\nimport { InputGroup } from './style';\r\n\r\ninterface Errors {\r\n    name?: string;\r\n}\r\n\r\nconst initialInputs = {\r\n    name: '',\r\n};\r\n\r\nconst JoinForm = () => {\r\n    const history = useHistory();\r\n    const { id: roomId }: { [key: string]: string } = useParams();\r\n    const { user, setUser } = useUser();\r\n    const [inputs, setInputs] = useState(initialInputs);\r\n    const [touched, setTouched] = useState<Errors>({});\r\n    const [submitted, setSubmitted] = useState(false);\r\n\r\n    const errors = getErrors();\r\n    const isFormValid = !Object.keys(errors).length;\r\n\r\n    const onChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        const { name, value } = e.target;\r\n        setInputs((inputs) => ({ ...inputs, [name]: value }));\r\n    };\r\n\r\n    const onBlur = (e: React.FocusEvent<HTMLInputElement>) => {\r\n        const { name } = e.target;\r\n        setTouched((touched) => ({ ...touched, [name]: true }));\r\n    };\r\n\r\n    function getErrors() {\r\n        const errors: Errors = {};\r\n        if (!inputs.name) errors.name = 'Name is required.';\r\n\r\n        return errors;\r\n    }\r\n\r\n    const onSubmit = (e: React.FormEvent<HTMLFormElement>) => {\r\n        e.preventDefault();\r\n        setSubmitted(true);\r\n\r\n        if (!isFormValid) return;\r\n\r\n        const newUser = {\r\n            ...user,\r\n            name: inputs.name,\r\n            color: randomColor({\r\n                luminosity: 'light',\r\n                hue: 'blue',\r\n            }),\r\n        };\r\n        setUser(newUser);\r\n        history.push(`/selection/${roomId}`);\r\n    };\r\n\r\n    return (\r\n        <StyledForm onSubmit={onSubmit}>\r\n            <InputGroup>\r\n                <label>Your name</label>\r\n                <input type=\"text\" name=\"name\" onChange={onChange} onBlur={onBlur} />\r\n                {(touched.name || submitted) && errors.name && <ErrorMessage>{errors.name}</ErrorMessage>}\r\n            </InputGroup>\r\n            <FormButton>Get Started</FormButton>\r\n        </StyledForm>\r\n    );\r\n};\r\n\r\nexport default JoinForm;\r\n","import React from 'react';\r\nimport { FormPageContainer, Subtitle, Title } from '../../../styles';\r\nimport JoinForm from '../JoinForm';\r\n\r\nconst Join = () => {\r\n    return (\r\n        <FormPageContainer>\r\n            <Title>Enter Your Name</Title>\r\n            <Subtitle>Enter your name before proceeding to movie selection.</Subtitle>\r\n            <JoinForm />\r\n        </FormPageContainer>\r\n    );\r\n};\r\n\r\nexport default Join;\r\n","import styled from 'styled-components';\r\n\r\nexport const Container = styled.div<{ margin: string | undefined; backgroundColor: string | undefined }>`\r\n    padding: 0.75rem;\r\n    margin: ${(props) => props.margin || ''};\r\n    border-radius: 4px;\r\n    display: inline-block;\r\n    max-width: 500px;\r\n    background: ${(props) => props.backgroundColor || 'var(--accent-active)'};\r\n    color: hsl(340deg 38% 94%);\r\n`;\r\n\r\nexport const Text = styled.p`\r\n    line-height: 1.3;\r\n`;\r\n\r\nexport const TextContainer = styled.aside``;\r\n","import React from 'react';\r\nimport { Container, Text, TextContainer } from './style';\r\n\r\ninterface Props {\r\n    text: string;\r\n    margin?: string;\r\n    backgroundColor?: string;\r\n    children?: React.ReactNode;\r\n}\r\n\r\nconst InfoBox = ({ text, margin, backgroundColor, children }: Props) => {\r\n    if (children) {\r\n        return (\r\n            <Container margin={margin} backgroundColor={backgroundColor}>\r\n                <TextContainer>{children}</TextContainer>\r\n            </Container>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Container margin={margin} backgroundColor={backgroundColor}>\r\n            <Text>{text}</Text>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default InfoBox;\r\n","import styled, { css } from 'styled-components';\r\n\r\nexport const List = styled.ul`\r\n    list-style: none;\r\n    margin-top: 0.5rem;\r\n    padding: 0.5rem 0;\r\n\r\n    & > * + * {\r\n        margin-top: 0.5rem;\r\n    }\r\n`;\r\n\r\nexport const Item = styled.li`\r\n    display: flex;\r\n    align-items: center;\r\n    color: var(--white-muted);\r\n`;\r\n\r\nexport const Color = styled.div<{ color: string }>`\r\n    background-color: ${(props) => props.color};\r\n    width: 12.5px;\r\n    height: 12.5px;\r\n    border-radius: 50%;\r\n    margin-right: 0.5rem;\r\n    flex-shrink: 0;\r\n`;\r\n\r\nexport const Name = styled.p<{ wrap: number }>`\r\n    white-space: ${(props) => props.wrap === 0 && 'nowrap'};\r\n    overflow: ${(props) => props.wrap === 0 && 'hidden'};\r\n    text-overflow: ${(props) => props.wrap === 0 && 'ellipsis'};\r\n    max-width: ${(props) => props.wrap === 0 && '110px'}; ;\r\n`;\r\n\r\nexport const MoreItems = styled.p`\r\n    margin-top: 0.5rem;\r\n    color: var(--white-muted);\r\n\r\n    span {\r\n        margin-right: 0.25rem;\r\n    }\r\n`;\r\n\r\nexport const ModalContent = styled.section`\r\n    h2 {\r\n    }\r\n`;\r\n","import React, { useState } from 'react';\r\nimport Modal from '../../../components/Modal';\r\nimport { Participant } from '../../../types/room';\r\nimport { Color, Item, List, ModalContent, MoreItems, Name } from './styled';\r\n\r\ninterface Props {\r\n    users: Participant[];\r\n}\r\n\r\nconst LikeList = ({ users }: Props) => {\r\n    const [visible, setVisible] = useState(false);\r\n\r\n    const maxNumber = 5;\r\n    if (users.length > maxNumber) {\r\n        return (\r\n            <>\r\n                <List>\r\n                    {users.slice(0, maxNumber).map((user) => (\r\n                        <Item key={user.id}>\r\n                            <Color color={user.color} />\r\n                            <Name wrap={0}>{user.name}</Name>\r\n                        </Item>\r\n                    ))}\r\n                    <Item>\r\n                        <MoreItems onClick={() => setVisible(true)}>\r\n                            <button>\r\n                                <span>+{users.length - maxNumber}</span> More\r\n                            </button>\r\n                        </MoreItems>\r\n                    </Item>\r\n                </List>\r\n                <Modal visible={visible} onClose={() => setVisible(false)} height={300}>\r\n                    <ModalContent>\r\n                        <h2>Likes</h2>\r\n                        <List>\r\n                            {users.map((user) => (\r\n                                <Item key={user.id}>\r\n                                    <Color color={user.color} />\r\n                                    <Name wrap={1}>{user.name}</Name>\r\n                                </Item>\r\n                            ))}\r\n                        </List>\r\n                    </ModalContent>\r\n                </Modal>\r\n            </>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <List>\r\n            {users.map((user) => (\r\n                <Item key={user.id}>\r\n                    <Color color={user.color} />\r\n                    <Name wrap={0}>{user.name}</Name>\r\n                </Item>\r\n            ))}\r\n        </List>\r\n    );\r\n};\r\n\r\nexport default LikeList;\r\n","import { motion } from 'framer-motion';\r\nimport { RiInformationLine } from 'react-icons/ri';\r\nimport styled from 'styled-components';\r\nimport { Button } from '../../../styles';\r\n\r\nexport const Card = styled.article`\r\n    border-right: 1px solid var(--blue-dark);\r\n    background: var(--blue-dark);\r\n`;\r\n\r\nexport const ResultsArea = styled.div`\r\n    display: flex;\r\n    position: relative;\r\n`;\r\n\r\nexport const ImageContainer = styled(motion.div)`\r\n    position: relative;\r\n`;\r\n\r\nexport const Image = styled(motion.img)`\r\n    height: 230px;\r\n    object-fit: cover;\r\n    display: block;\r\n    border-radius: 4px;\r\n`;\r\n\r\nexport const TotalLikes = styled.p`\r\n    font-weight: 600;\r\n    font-size: 1.25rem;\r\n    text-align: center;\r\n    padding: 0.5rem 1rem;\r\n    background: hsl(213deg 47% 48% / 90%);\r\n    position: absolute;\r\n    top: -1rem;\r\n    left: 50%;\r\n    transform: translateX(-50%);\r\n    display: flex;\r\n    align-items: baseline;\r\n    border-radius: 4px;\r\n\r\n    span {\r\n        font-size: 1rem;\r\n        font-weight: 500;\r\n        text-transform: uppercase;\r\n        letter-spacing: 1px;\r\n        margin-left: 0.5rem;\r\n    }\r\n`;\r\n\r\nexport const MovieTitle = styled.h3`\r\n    font-size: 1.125rem;\r\n    font-weight: 600;\r\n    border-top-left-radius: 4px;\r\n    border-top-right-radius: 4px;\r\n    border-bottom: 1px solid var(--gray);\r\n    padding-bottom: 0.5rem;\r\n`;\r\n\r\nexport const ResultsContainer = styled.div`\r\n    width: 100%;\r\n    background: var(--blue-dark);\r\n    padding: 1rem 1.5rem;\r\n`;\r\n\r\nexport const DetailButton = styled(Button)`\r\n    background: var(--blue-active);\r\n    width: 100%;\r\n    padding: 1rem;\r\n    border-top-left-radius: 0;\r\n    border-top-right-radius: 0;\r\n`;\r\n\r\nexport const ExpandIcon = styled(RiInformationLine)`\r\n    font-size: 1rem;\r\n    margin-right: 0.5rem;\r\n`;\r\n","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useMoviePreview } from '../../../context/MoviePreviewContext';\r\nimport { AddedMovie } from '../../../types/movies';\r\nimport { generateImageUrl } from '../../../utils';\r\nimport LikeList from '../LikeList';\r\nimport {\r\n    Card,\r\n    DetailButton,\r\n    ExpandIcon,\r\n    Image,\r\n    ImageContainer,\r\n    MovieTitle,\r\n    ResultsArea,\r\n    ResultsContainer,\r\n    TotalLikes,\r\n} from './style';\r\n\r\ninterface Props {\r\n    movie: AddedMovie;\r\n}\r\n\r\nconst ResultCard = ({ movie }: Props) => {\r\n    const { setMoviePreview } = useMoviePreview();\r\n    const { pathname } = useLocation();\r\n    const usersWhoLiked = movie.swipes.filter((swipe) => swipe.liked).map((swipe) => swipe.user);\r\n    const colors = usersWhoLiked.map((user) => user?.color) as string[];\r\n\r\n    const onMovieClick = () => {\r\n        if (pathname.includes(movie.id.toString())) {\r\n            setMoviePreview(null);\r\n        } else {\r\n            setMoviePreview(movie);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Card>\r\n            <ResultsArea>\r\n                <ImageContainer>\r\n                    <TotalLikes>\r\n                        {usersWhoLiked.length} <span>likes</span>\r\n                    </TotalLikes>\r\n                    <Image src={generateImageUrl(movie.poster_path, 'w500')} />\r\n                </ImageContainer>\r\n                <ResultsContainer>\r\n                    <MovieTitle>{movie.title}</MovieTitle>\r\n                    <LikeList users={usersWhoLiked} />\r\n                </ResultsContainer>\r\n            </ResultsArea>\r\n            <DetailButton onClick={onMovieClick}>\r\n                <ExpandIcon />\r\n                Movie Details\r\n            </DetailButton>\r\n            {/* <LikeCountBar colors={colors} /> */}\r\n        </Card>\r\n    );\r\n};\r\n\r\nexport default ResultCard;\r\n","import styled from 'styled-components';\r\n\r\nexport const List = styled.section`\r\n    display: grid;\r\n    gap: 4rem;\r\n    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\r\n`;\r\n\r\nexport const Empty = styled.p`\r\n    text-align: center;\r\n`;\r\n","import React from 'react';\r\nimport { AddedMovie } from '../../../types/movies';\r\nimport ResultCard from '../ResultCard';\r\nimport { List, Empty } from './style';\r\n\r\ninterface Props {\r\n    movies: AddedMovie[];\r\n}\r\n\r\nconst ResultList = ({ movies }: Props) => {\r\n    if (!movies.length) {\r\n        return <Empty>No matches yet.</Empty>;\r\n    }\r\n\r\n    return (\r\n        <List>\r\n            {movies.map((movie) => (\r\n                <ResultCard key={movie.id} movie={movie} />\r\n            ))}\r\n        </List>\r\n    );\r\n};\r\n\r\nexport default ResultList;\r\n","import styled from 'styled-components';\r\nimport { MaxWidthContainer } from '../../../styles';\r\n\r\nexport const Container = styled(MaxWidthContainer)``;\r\n","import React from 'react';\r\nimport InfoBox from '../../../components/InfoBox';\r\nimport { useRoom } from '../../../context/RoomContext';\r\nimport { Subtitle, Title } from '../../../styles';\r\nimport ResultList from '../ResultList';\r\nimport { Container } from './style';\r\n\r\nconst Results = () => {\r\n    const { room } = useRoom();\r\n    const sortedMovies = room.movies\r\n        .map((movie) => {\r\n            const likes = movie.swipes.reduce((acc, swipe) => (swipe.liked ? acc + 1 : acc), 0);\r\n            return { ...movie, likes };\r\n        })\r\n        .sort((a, b) => b.likes - a.likes);\r\n    const filteredMovies = sortedMovies.filter((movie) => movie.likes > 1);\r\n\r\n    const getInfoBoxProps = () => {\r\n        const participantIds = room.participants.map((p) => p.id);\r\n        const allSwiped = room.movies.reduce((allSwiped, movie) => {\r\n            const swipeIds = movie.swipes.map((swipe) => swipe.user.id);\r\n            allSwiped =\r\n                movie.swipes.length >= participantIds.length && participantIds.every((id) => swipeIds.includes(id));\r\n            return allSwiped;\r\n        }, true);\r\n\r\n        if (!allSwiped) {\r\n            return {\r\n                text: 'Others are still swiping. Results may change.',\r\n                backgroundColor: 'hsla(0, 0%, 49.4%, 0.5)',\r\n            };\r\n        }\r\n\r\n        return {\r\n            text: \"Everyone's done swiping. See the final results below.\",\r\n            backgroundColor: 'var(--accent-purple)',\r\n        };\r\n    };\r\n    const { text, backgroundColor } = getInfoBoxProps();\r\n\r\n    return (\r\n        <Container>\r\n            <Title>Final Results</Title>\r\n            <Subtitle>Only movies that 2 or more participants liked will show up here.</Subtitle>\r\n            <InfoBox text={text} margin=\"0 0 4rem\" backgroundColor={backgroundColor} />\r\n            <ResultList movies={filteredMovies} />\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Results;\r\n","/* eslint-disable react/display-name */\r\nimport React from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport { useRoom } from '../context/RoomContext';\r\nimport { useUser } from '../context/UserContext';\r\nimport { addMovie, removeMovie } from '../sockets/emitters';\r\nimport { FontWeight600 } from '../styles';\r\nimport { AddedMovie, Movie } from '../types/movies';\r\nimport { ToastType, useToast } from '../utils';\r\n\r\nconst useMovieManager = (movie: Movie) => {\r\n    const { room } = useRoom();\r\n    const { user } = useUser();\r\n    const movieInList = room.movies.find((m) => m.id === movie.id);\r\n    const addedByMe = movieInList?.addedByUserId === user.id;\r\n\r\n    const movieActionHandler = () => {\r\n        if (!movieInList) {\r\n            const addedMovie: AddedMovie = { ...movie, addedByUserId: user.id, swipes: [] };\r\n            addMovie({ roomId: room.roomId as string, movie: addedMovie }, (res) => {\r\n                if (res.success) {\r\n                    useToast({\r\n                        type: ToastType.Success,\r\n                        message: () => (\r\n                            <>\r\n                                <span>\r\n                                    You added <FontWeight600>{movie.title}</FontWeight600>.\r\n                                </span>\r\n                            </>\r\n                        ),\r\n                    });\r\n                } else {\r\n                    useToast({\r\n                        type: ToastType.Error,\r\n                        message: () => (\r\n                            <>\r\n                                <span>\r\n                                    There was a problem adding <FontWeight600>{movie.title}</FontWeight600>.\r\n                                </span>\r\n                            </>\r\n                        ),\r\n                    });\r\n                    toast.error(`There was a problem adding ${movie.title}.`);\r\n                }\r\n            });\r\n        } else if (movieInList && !addedByMe) {\r\n            useToast({\r\n                type: ToastType.Custom,\r\n                message: () => (\r\n                    <span>\r\n                        <FontWeight600>{movie.title}</FontWeight600> can only be removed by the person who added it.\r\n                    </span>\r\n                ),\r\n            });\r\n            return;\r\n        } else {\r\n            removeMovie({ roomId: room.roomId as string, movieId: movie.id }, (res) => {\r\n                if (!res.success) {\r\n                    toast.error(`There was a problem removing ${movie.title}.`);\r\n                }\r\n            });\r\n        }\r\n    };\r\n\r\n    const getButtonBackgroundColor = (): string => {\r\n        if (!movieInList) {\r\n            return 'hsl(213deg 40% 49%)';\r\n        } else if (movieInList && !addedByMe) {\r\n            return 'hsl(213deg 6% 37% / 90%)';\r\n        } else {\r\n            return 'var(--accent-dark-90)';\r\n        }\r\n    };\r\n\r\n    return { movieActionHandler, buttonBackgroundColor: getButtonBackgroundColor(), movieInList };\r\n};\r\n\r\nexport default useMovieManager;\r\n","import { motion } from 'framer-motion';\r\nimport { AiFillStar } from 'react-icons/ai';\r\nimport { HiMinus, HiOutlinePlus } from 'react-icons/hi';\r\nimport { IoIosArrowBack } from 'react-icons/io';\r\nimport styled, { css } from 'styled-components';\r\nimport { Button } from '../../../styles';\r\n\r\nexport const Overlay = styled(motion.div)`\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n    background: rgba(0, 0, 0, 0);\r\n    will-change: opacity;\r\n    z-index: 6;\r\n\r\n    @media screen and (min-width: 600px) {\r\n        background: rgba(0, 0, 0, 0.5);\r\n    }\r\n`;\r\n\r\nexport const Container = styled(motion.section)<{ imageUrl?: string | null }>`\r\n    height: 100%;\r\n    width: 100%;\r\n    position: fixed;\r\n    top: 0;\r\n    bottom: 0;\r\n    will-change: opacity;\r\n    z-index: 7;\r\n    overflow-y: scroll;\r\n\r\n    @media screen and (min-width: 600px) {\r\n        max-width: 800px;\r\n        max-height: 500px;\r\n        left: 0;\r\n        right: 0;\r\n        margin: auto;\r\n        background: rgba(0, 0, 0, 0.5);\r\n        border-radius: 4px;\r\n    }\r\n`;\r\n\r\nexport const Image = styled(motion.img)`\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    display: block;\r\n    object-fit: cover;\r\n    filter: brightness(0.25);\r\n    z-index: -1;\r\n\r\n    @media screen and (min-width: 600px) {\r\n        height: auto;\r\n    }\r\n`;\r\n\r\nexport const ContentContainer = styled(motion.article)`\r\n    height: auto;\r\n    min-height: 100%;\r\n    width: 100%;\r\n    position: relative;\r\n    padding: 2rem 2rem 6rem;\r\n\r\n    @media screen and (min-width: 600px) {\r\n        max-width: 800px;\r\n        max-height: 500px;\r\n        left: 0;\r\n        right: 0;\r\n        margin: auto;\r\n        border-radius: 4px;\r\n        padding: 3rem;\r\n    }\r\n`;\r\n\r\nexport const Title = styled(motion.h3)`\r\n    font-size: 3rem;\r\n    margin-bottom: 0.5rem;\r\n`;\r\n\r\nexport const Tag = styled.p`\r\n    margin-bottom: 1rem;\r\n    color: var(--white-muted);\r\n`;\r\n\r\nexport const WrapContainer = styled.div`\r\n    display: flex;\r\n    flex-wrap: wrap;\r\n    margin-bottom: 2rem;\r\n\r\n    & > * {\r\n        margin-top: 0.5rem;\r\n        margin-right: 0.5rem;\r\n    }\r\n`;\r\n\r\nexport const Genre = styled.p`\r\n    background: #495768;\r\n    color: var(--white);\r\n    padding: 0.125rem 0.75rem;\r\n    border-radius: 99px;\r\n`;\r\n\r\nexport const Overview = styled.p`\r\n    line-height: 1.7;\r\n    margin-bottom: 2rem;\r\n`;\r\n\r\nexport const Label = styled.p`\r\n    font-size: 1.25rem;\r\n    font-weight: 600;\r\n    margin-bottom: 0.5rem;\r\n`;\r\n\r\nexport const Divider = styled.p`\r\n    text-transform: uppercase;\r\n    letter-spacing: 1px;\r\n    padding-bottom: 0.5rem;\r\n    margin-bottom: 1rem;\r\n    color: var(--gray);\r\n    border-bottom: 1px solid;\r\n    font-size: 0.875rem;\r\n`;\r\n\r\nexport const RatingText = styled.p`\r\n    display: flex;\r\n    align-items: center;\r\n`;\r\n\r\nexport const Grid = styled.div`\r\n    display: grid;\r\n    grid-gap: 1rem;\r\n    margin-bottom: 2rem;\r\n\r\n    @media screen and (min-width: 350px) {\r\n        grid-template-columns: repeat(2, minmax(130px, 200px));\r\n    }\r\n`;\r\n\r\nexport const GridCell = styled.div`\r\n    p {\r\n        display: flex;\r\n    }\r\n`;\r\n\r\nexport const Star = styled(AiFillStar)`\r\n    margin-left: 0.5rem;\r\n    color: #dada1b;\r\n`;\r\n\r\nexport const Video = styled.iframe`\r\n    width: 100%;\r\n\r\n    @media screen and (min-width: 450px) {\r\n        height: 275px;\r\n    }\r\n\r\n    @media screen and (min-width: 600px) {\r\n        height: 500px;\r\n        margin-bottom: 3rem;\r\n    }\r\n`;\r\n\r\nexport const ButtonContainer = styled(motion.div)`\r\n    display: flex;\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: 0;\r\n    background: hsl(213deg 23% 25%);\r\n    box-shadow: 0 -2px 10px -1px rgb(0 0 0 / 30%);\r\n    margin-top: auto;\r\n\r\n    @media screen and (min-width: 600px) {\r\n        display: none;\r\n    }\r\n`;\r\n\r\nexport const BackButton = styled(Button)``;\r\n\r\nexport const AddButton = styled(Button)<{ backgroundColor: string }>`\r\n    background: ${(props) => props.backgroundColor || 'var(--blue-action)'};\r\n    border-top-left-radius: 0;\r\n`;\r\n\r\nconst iconStyles = css`\r\n    margin-right: 1rem;\r\n    font-size: 1.125rem;\r\n`;\r\n\r\nexport const BackIcon = styled(IoIosArrowBack)`\r\n    ${iconStyles}\r\n`;\r\n\r\nexport const PlusIcon = styled(HiOutlinePlus)`\r\n    ${iconStyles}\r\n`;\r\n\r\nexport const MinusIcon = styled(HiMinus)`\r\n    ${iconStyles}\r\n`;\r\n\r\nexport const DesktopAddButton = styled(Button)<{ backgroundColor: string }>`\r\n    display: none;\r\n    max-width: 300px;\r\n    background: ${(props) => props.backgroundColor || 'var(--blue-action)'};\r\n    padding: 0.5rem 1rem;\r\n    border-radius: 4px;\r\n    margin-bottom: 2rem;\r\n\r\n    @media screen and (min-width: 600px) {\r\n        display: flex;\r\n    }\r\n`;\r\n","import axios from 'axios';\r\nimport { AnimatePresence, motion } from 'framer-motion';\r\nimport React, { useEffect, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useMoviePreview } from '../../../context/MoviePreviewContext';\r\nimport { useRoom } from '../../../context/RoomContext';\r\nimport useMovieManager from '../../../hooks/useMovieManager';\r\nimport { Movie, MovieDetails } from '../../../types/movies';\r\nimport { Stage } from '../../../types/room';\r\nimport { generateImageUrl } from '../../../utils';\r\nimport {\r\n    AddButton,\r\n    BackButton,\r\n    BackIcon,\r\n    ButtonContainer,\r\n    Container,\r\n    ContentContainer,\r\n    DesktopAddButton,\r\n    Divider,\r\n    Genre,\r\n    Grid,\r\n    GridCell,\r\n    Image,\r\n    Label,\r\n    MinusIcon,\r\n    Overlay,\r\n    Overview,\r\n    PlusIcon,\r\n    RatingText,\r\n    Star,\r\n    Tag,\r\n    Title,\r\n    Video,\r\n    WrapContainer,\r\n} from './style';\r\n\r\ninterface Props {\r\n    movie: Movie;\r\n}\r\n\r\nconst MovieDetail = ({ movie }: Props) => {\r\n    const history = useHistory();\r\n    const { room } = useRoom();\r\n    const { movieActionHandler, buttonBackgroundColor, movieInList } = useMovieManager(movie);\r\n    const { setMoviePreview: setMovieDetail } = useMoviePreview();\r\n\r\n    const [details, setDetails] = useState<MovieDetails | null>(null);\r\n    const [loading, setLoading] = useState(false);\r\n\r\n    const imageUrl = generateImageUrl(movie.poster_path, 'w500');\r\n    const trailerData =\r\n        details && details?.videos?.results?.find((video) => video.type === 'Trailer' && video.site === 'YouTube');\r\n    const trailerUrl = `https://www.youtube.com/embed/${trailerData?.key}`;\r\n    const inSelection = history.location.pathname.includes(Stage.SELECTION);\r\n\r\n    const onOverlayClick = (e: any) => {\r\n        if (e.target.attributes['data-overlay']) {\r\n            setMovieDetail(null);\r\n        }\r\n    };\r\n\r\n    const backToSelection = () => {\r\n        setMovieDetail(null);\r\n    };\r\n\r\n    useEffect(() => {\r\n        const onEscPress = (e: KeyboardEvent) => {\r\n            if (e.key === 'Escape') {\r\n                history.push(`/selection/${room.roomId}`);\r\n            }\r\n        };\r\n\r\n        window.addEventListener('keydown', onEscPress);\r\n\r\n        return window.removeEventListener('keydown', onEscPress);\r\n    }, []);\r\n\r\n    useEffect(() => {\r\n        fetchMovieDetails();\r\n        document.body.style.overflow = 'hidden';\r\n        return () => {\r\n            cancelToken.cancel('Component got unmounted');\r\n            document.body.style.overflow = 'unset';\r\n        };\r\n    }, [movie]);\r\n\r\n    const cancelToken = axios.CancelToken.source();\r\n\r\n    const fetchMovieDetails = async () => {\r\n        try {\r\n            setLoading(true);\r\n            const res = await axios.get(`/movies/${movie.id}`, {\r\n                cancelToken: cancelToken.token,\r\n            });\r\n            if (res.status === 200) {\r\n                setDetails(res.data);\r\n            }\r\n            setLoading(false);\r\n        } catch (error) {\r\n            cancelToken.cancel('Error in try catch block.');\r\n            console.log(error);\r\n            setLoading(false);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Overlay\r\n            data-overlay={true}\r\n            onClick={onOverlayClick}\r\n            initial={{ opacity: 0 }}\r\n            animate={{ opacity: 1 }}\r\n            exit={{ opacity: 0, transition: { duration: 0 } }}\r\n        >\r\n            <Container>\r\n                <ContentContainer initial={{ opacity: 0 }} animate={{ opacity: 1 }} layoutId={`image-${movie.id}`}>\r\n                    <Image src={imageUrl} />\r\n                    <AnimatePresence>\r\n                        {details && (\r\n                            <motion.div\r\n                                initial={{ opacity: 0 }}\r\n                                animate={{ opacity: 1 }}\r\n                                transition={{ duration: 0.2, delay: 0.25 }}\r\n                            >\r\n                                {inSelection && (\r\n                                    <DesktopAddButton\r\n                                        onClick={movieActionHandler}\r\n                                        backgroundColor={buttonBackgroundColor}\r\n                                    >\r\n                                        {' '}\r\n                                        {!movieInList && (\r\n                                            <>\r\n                                                <PlusIcon /> Add Movie\r\n                                            </>\r\n                                        )}\r\n                                        {movieInList && (\r\n                                            <>\r\n                                                <MinusIcon /> Remove Movie\r\n                                            </>\r\n                                        )}\r\n                                    </DesktopAddButton>\r\n                                )}\r\n                                <Title>{details.title}</Title>\r\n                                <Tag>{details.tagline}</Tag>\r\n\r\n                                <WrapContainer>\r\n                                    {details.genres?.map((genre) => (\r\n                                        <Genre key={genre.id}>{genre.name}</Genre>\r\n                                    ))}\r\n                                </WrapContainer>\r\n                                <Label>Overview</Label>\r\n                                <Overview>{details.overview}</Overview>\r\n                                <Divider>Details</Divider>\r\n                                <Grid>\r\n                                    <GridCell>\r\n                                        <Label>Rating</Label>\r\n                                        <RatingText>\r\n                                            {details.vote_average} <Star />\r\n                                        </RatingText>\r\n                                    </GridCell>\r\n                                    <GridCell>\r\n                                        <Label>Runtime</Label>\r\n                                        <p>{details.runtime} min</p>\r\n                                    </GridCell>\r\n                                    <GridCell>\r\n                                        <Label>Released</Label>\r\n                                        <p>{details.release_date}</p>\r\n                                    </GridCell>\r\n                                    <GridCell>\r\n                                        <Label>Language</Label>\r\n                                        <p>{details.original_language.toUpperCase()}</p>\r\n                                    </GridCell>\r\n                                </Grid>\r\n                                {trailerData && (\r\n                                    <>\r\n                                        <Divider>Trailer</Divider>\r\n                                        <Video src={trailerUrl} frameBorder=\"0\" allowFullScreen></Video>\r\n                                    </>\r\n                                )}\r\n                                <ButtonContainer\r\n                                    initial={{ opacity: 0, y: 50 }}\r\n                                    animate={{\r\n                                        opacity: 1,\r\n                                        y: 0,\r\n                                        transition: {\r\n                                            duration: 0.75,\r\n                                        },\r\n                                    }}\r\n                                >\r\n                                    <BackButton onClick={backToSelection}>\r\n                                        <BackIcon />\r\n                                        Go Back\r\n                                    </BackButton>\r\n                                    {inSelection && (\r\n                                        <AddButton onClick={movieActionHandler} backgroundColor={buttonBackgroundColor}>\r\n                                            {!movieInList && (\r\n                                                <>\r\n                                                    <PlusIcon /> Add Movie\r\n                                                </>\r\n                                            )}\r\n                                            {movieInList && (\r\n                                                <>\r\n                                                    <MinusIcon /> Remove\r\n                                                </>\r\n                                            )}\r\n                                        </AddButton>\r\n                                    )}\r\n                                </ButtonContainer>\r\n                            </motion.div>\r\n                        )}\r\n                    </AnimatePresence>\r\n                </ContentContainer>\r\n            </Container>\r\n        </Overlay>\r\n    );\r\n};\r\n\r\nexport default MovieDetail;\r\n","import styled from 'styled-components';\r\nimport { Button } from '../../styles';\r\n\r\nexport const Container = styled.aside`\r\n    margin-bottom: 2rem;\r\n\r\n    @media (min-width: 800px) {\r\n        max-width: 400px;\r\n    }\r\n`;\r\n\r\nexport const Label = styled.label`\r\n    color: var(--white-muted);\r\n    text-transform: uppercase;\r\n    letter-spacing: 1px;\r\n    font-size: 0.875rem;\r\n    margin-bottom: 0.5rem;\r\n    display: inline-block;\r\n`;\r\n\r\nexport const InputContainer = styled.div`\r\n    display: flex;\r\n\r\n    input {\r\n        padding: 0.5rem;\r\n        border-radius: 4px;\r\n        flex-basis: 65%;\r\n        text-overflow: ellipsis;\r\n        border-top-right-radius: 0;\r\n        border-bottom-right-radius: 0;\r\n    }\r\n`;\r\n\r\nexport const CopyButton = styled(Button)`\r\n    background: var(--blue-action);\r\n    padding: 0.5rem 1.25rem;\r\n    border-top-left-radius: 0;\r\n    border-bottom-left-radius: 0;\r\n`;\r\n","import React, { useRef } from 'react';\r\nimport { ToastType, useToast } from '../../utils';\r\nimport { Container, CopyButton, InputContainer, Label } from './style';\r\n\r\nconst InviteLink = () => {\r\n    const inputRef = useRef<HTMLInputElement | null>(null);\r\n\r\n    const onClick = () => {\r\n        inputRef.current?.select();\r\n    };\r\n\r\n    const copyToClipboard = () => {\r\n        navigator.clipboard.writeText(window.location.href);\r\n        useToast({ type: ToastType.Custom, message: 'Copied to clipboard.' });\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <Label>Invite Link</Label>\r\n            <InputContainer>\r\n                <input\r\n                    type=\"text\"\r\n                    name=\"link\"\r\n                    defaultValue={window.location.href}\r\n                    ref={inputRef}\r\n                    onClick={onClick}\r\n                    readOnly\r\n                />\r\n                <CopyButton onClick={copyToClipboard}>Copy</CopyButton>\r\n            </InputContainer>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default InviteLink;\r\n","import styled from 'styled-components';\r\nimport { motion } from 'framer-motion';\r\n\r\nexport const Container = styled(motion.div)<{ position?: string }>`\r\n    position: ${(props) => props.position || 'fixed'};\r\n    left: 0;\r\n    right: 0;\r\n    bottom: -3px;\r\n    display: flex;\r\n    box-shadow: 0 -2px 10px -1px rgb(0 0 0 / 30%);\r\n    width: 100%;\r\n    z-index: 4;\r\n\r\n    @media screen and (min-width: 600px) {\r\n        margin: auto;\r\n        width: fit-content;\r\n        bottom: 1rem;\r\n    }\r\n`;\r\n","import React, { ReactNode } from 'react';\r\nimport { Container } from './style';\r\n\r\ninterface Props {\r\n    position: string;\r\n    children: ReactNode | ReactNode[];\r\n}\r\n\r\nconst animation = {\r\n    initial: {\r\n        y: 75,\r\n        opacity: 0,\r\n    },\r\n    animate: {\r\n        y: 0,\r\n        opacity: 1,\r\n        transition: {\r\n            duration: 0.5,\r\n            delay: 1,\r\n        },\r\n    },\r\n};\r\n\r\nconst FixedContainer = ({ position, children }: Props) => {\r\n    return (\r\n        <Container variants={animation} initial=\"initial\" animate=\"animate\" position={position}>\r\n            {children}\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default FixedContainer;\r\n","import { FaCrown, FaUserAlt, FaUserCheck } from 'react-icons/fa';\r\nimport { RiCheckboxCircleFill, RiCheckboxCircleLine, RiMovieFill } from 'react-icons/ri';\r\nimport { SiTinder } from 'react-icons/si';\r\nimport styled, { css } from 'styled-components';\r\nimport { Button } from '../../../styles/index';\r\n\r\nexport const FixedContainer = styled.div`\r\n    position: fixed;\r\n    left: 0;\r\n    right: 0;\r\n    bottom: -3px;\r\n    display: flex;\r\n    box-shadow: 0 -2px 10px -1px rgb(0 0 0 / 30%);\r\n    width: 100%;\r\n    z-index: 4;\r\n\r\n    @media screen and (min-width: 600px) {\r\n        margin: auto;\r\n        width: fit-content;\r\n        bottom: 1rem;\r\n    }\r\n`;\r\n\r\nconst iconStyles = css`\r\n    font-size: 1.25rem;\r\n    margin-right: 1rem;\r\n    width: 20px;\r\n`;\r\n\r\nexport const UserCheck = styled(FaUserCheck)`\r\n    ${iconStyles}\r\n    margin-right: 0.5rem;\r\n`;\r\n\r\nexport const FillCheckbox = styled(RiCheckboxCircleFill)`\r\n    ${iconStyles}\r\n`;\r\nexport const EmptyCheckbox = styled(RiCheckboxCircleLine)`\r\n    ${iconStyles}\r\n`;\r\n\r\nexport const TinderIcon = styled(SiTinder)`\r\n    ${iconStyles}\r\n`;\r\nexport const PlayIcon = styled(RiMovieFill)`\r\n    ${iconStyles}\r\n`;\r\n\r\nexport const CrownIcon = styled(FaCrown)`\r\n    ${iconStyles}\r\n`;\r\n\r\nexport const UserIcon = styled(FaUserAlt)`\r\n    ${iconStyles}\r\n    font-size: 1rem;\r\n`;\r\n\r\nexport const MainButton = styled(Button)<{ disable?: boolean }>`\r\n    background: ${(props) => (props.disable ? '#808080' : 'var(--accent-purple)')};\r\n    color: ${(props) => (props.disable ? '#cbc8c8' : 'var(--white)')};\r\n    transition: all ease-in 250ms;\r\n    flex: 70%;\r\n    outline: none;\r\n    border-radius: 0;\r\n    border-top-right-radius: 4px;\r\n    border-bottom-right-radius: 4px;\r\n\r\n    & ${PlayIcon} {\r\n        transition: all ease-in 250ms;\r\n        color: ${(props) => props.disable && '#a9a9a9'};\r\n    }\r\n\r\n    @media screen and (min-width: 600px) {\r\n        padding: 1rem 2rem;\r\n        white-space: nowrap;\r\n    }\r\n`;\r\n\r\nexport const ToggleReadyButton = styled(MainButton)`\r\n    background: var(--blue-active);\r\n`;\r\n\r\nexport const ReadyButton = styled(Button)`\r\n    flex: 30%;\r\n    background: var(--blue-dark-bg);\r\n    outline: none;\r\n    border-radius: 0;\r\n    border-top-left-radius: 4px;\r\n    border-bottom-left-radius: 4px;\r\n\r\n    span {\r\n        width: 20px;\r\n    }\r\n`;\r\n\r\nexport const NoParticipants = styled.p`\r\n    margin-bottom: 1rem;\r\n    color: var(--white-muted);\r\n`;\r\n\r\nexport const ModalContent = styled.div`\r\n    padding: 0 1rem;\r\n    h2 {\r\n        font-size: 1.5rem;\r\n        font-weight: 600;\r\n        margin-bottom: 1rem;\r\n        display: flex;\r\n        align-items: center;\r\n    }\r\n\r\n    ul {\r\n        margin-bottom: 2rem;\r\n        & > * + * {\r\n            margin-top: 1rem;\r\n        }\r\n    }\r\n\r\n    li {\r\n        list-style: none;\r\n        display: flex;\r\n        justify-content: space-between;\r\n        align-items: center;\r\n        font-size: 1.125rem;\r\n\r\n        div {\r\n            display: flex;\r\n            align-items: center;\r\n        }\r\n\r\n        p {\r\n            text-transform: uppercase;\r\n            letter-spacing: 1px;\r\n            font-size: 0.875rem;\r\n            color: var(--white-muted);\r\n        }\r\n    }\r\n`;\r\n\r\nexport const ReadyText = styled.p`\r\n    line-height: 1.3;\r\n    margin-bottom: 2rem;\r\n`;\r\n\r\nexport const StartButton = styled(Button)`\r\n    background: var(--accent-purple);\r\n    padding: 0.75rem 1rem;\r\n    width: 100%;\r\n    margin-top: 2rem;\r\n`;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport toast from 'react-hot-toast';\r\nimport { useHistory } from 'react-router-dom';\r\nimport FixedContainer from '../../../components/FixedContainer';\r\nimport Modal from '../../../components/Modal';\r\nimport { useRoom } from '../../../context/RoomContext';\r\nimport { useUser } from '../../../context/UserContext';\r\nimport { startSwiper, toggleReady } from '../../../sockets/emitters';\r\nimport { ToastType, useToast } from '../../../utils';\r\nimport {\r\n    CrownIcon,\r\n    EmptyCheckbox,\r\n    FillCheckbox,\r\n    MainButton,\r\n    ModalContent,\r\n    PlayIcon,\r\n    ReadyButton,\r\n    StartButton,\r\n    ToggleReadyButton,\r\n    UserCheck,\r\n    UserIcon,\r\n} from './style';\r\n\r\nconst ActionButton = () => {\r\n    const { room } = useRoom();\r\n    const { user } = useUser();\r\n    const history = useHistory();\r\n    const [groupModalVisible, setGroupModalVisible] = useState(false);\r\n    const [swipeModalVisible, setSwipeModalVisible] = useState(false);\r\n    const owner = room.participants.find((p) => p.id === room.ownerId);\r\n    const isUserReady = room.participants.find((p) => p.id === user.id)?.ready;\r\n    const participantsReady = room.participants.filter((p) => p.ready && p.id !== room.ownerId);\r\n    const disableSwiping = !room.movies.length || !participantsReady.length;\r\n    const toastId = useRef<string>();\r\n    const timeoutId = useRef<number>();\r\n\r\n    const toggleReadyHandler = () => {\r\n        if (toastId.current) {\r\n            toast.dismiss(toastId.current);\r\n        }\r\n        clearTimeout(timeoutId.current);\r\n        toggleReady({ roomId: room.roomId as string, userId: user.id }, (res) => {\r\n            if (res.success && !isUserReady) {\r\n                useToast({ type: ToastType.Success, message: 'The room owner has been notified.', duration: 2500 });\r\n                timeoutId.current = window.setTimeout(\r\n                    () =>\r\n                        (toastId.current = useToast({\r\n                            type: ToastType.Loading,\r\n                            message: 'Waiting for room owner to start.',\r\n                            duration: 99999,\r\n                        })),\r\n                    2500,\r\n                );\r\n            }\r\n        });\r\n    };\r\n\r\n    const confirmSwipeAction = () => {\r\n        startSwiper({ roomId: room.roomId as string });\r\n        history.replace(`/swiper/${room.roomId}`);\r\n    };\r\n\r\n    const startSwiping = () => {\r\n        if (!disableSwiping) {\r\n            setSwipeModalVisible(true);\r\n            return;\r\n        }\r\n\r\n        if (room.participants.length <= 1) {\r\n            useToast({ type: ToastType.Custom, message: 'Invite participants to start.' });\r\n            return;\r\n        }\r\n\r\n        if (!room.movies.length) {\r\n            useToast({ type: ToastType.Custom, message: 'Add movies to your list to start swiping.' });\r\n            return;\r\n        }\r\n\r\n        if (!participantsReady.length) {\r\n            useToast({ type: ToastType.Custom, message: 'Wait for participants to be ready.' });\r\n        }\r\n    };\r\n\r\n    const checkReady = (e: React.MouseEvent<HTMLButtonElement>) => {\r\n        e.stopPropagation();\r\n        setGroupModalVisible(true);\r\n    };\r\n\r\n    useEffect(() => {\r\n        return () => {\r\n            if (toastId.current) {\r\n                toast.dismiss(toastId.current);\r\n                toastId.current = undefined;\r\n            }\r\n        };\r\n    }, []);\r\n\r\n    return (\r\n        <>\r\n            <FixedContainer position=\"fixed\">\r\n                <ReadyButton onClick={checkReady}>\r\n                    <UserCheck /> <span>{participantsReady.length}</span>\r\n                </ReadyButton>\r\n                {owner && owner.id === user.id ? (\r\n                    <MainButton onClick={startSwiping} disable={disableSwiping}>\r\n                        <PlayIcon />\r\n                        Start Swiping\r\n                    </MainButton>\r\n                ) : (\r\n                    <ToggleReadyButton onClick={toggleReadyHandler}>\r\n                        {isUserReady ? <FillCheckbox /> : <EmptyCheckbox />}\r\n                        Ready To Swipe\r\n                    </ToggleReadyButton>\r\n                )}\r\n            </FixedContainer>\r\n            <Modal visible={groupModalVisible} onClose={() => setGroupModalVisible(false)} height={300} maxWidth={400}>\r\n                <ModalContent>\r\n                    <h2>Participants</h2>\r\n                    <ul>\r\n                        {room.participants.map((p) => {\r\n                            if (p.id === room.ownerId) {\r\n                                return (\r\n                                    <li key={p.id}>\r\n                                        <div>\r\n                                            <CrownIcon />\r\n                                            {p.name}\r\n                                        </div>\r\n                                        <p>Owner</p>\r\n                                    </li>\r\n                                );\r\n                            }\r\n\r\n                            return (\r\n                                <li key={p.id}>\r\n                                    <div>\r\n                                        <UserIcon /> {p.name}\r\n                                    </div>\r\n                                    {p.ready && <p>Ready</p>}\r\n                                </li>\r\n                            );\r\n                        })}\r\n                    </ul>\r\n                </ModalContent>\r\n            </Modal>\r\n            <Modal visible={swipeModalVisible} onClose={() => setSwipeModalVisible(false)} height={280} maxWidth={400}>\r\n                <ModalContent>\r\n                    <h2>Start Swiping</h2>\r\n                    <ol>\r\n                        <li>This action will move everyone in the group to the swiping stage.</li>\r\n                        <br />\r\n                        <li>Once in this stage, group members won&apos;t be allowed to go back and add more movies.</li>\r\n                    </ol>\r\n                    <StartButton onClick={confirmSwipeAction}>Start</StartButton>\r\n                </ModalContent>\r\n            </Modal>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default ActionButton;\r\n","import styled from 'styled-components';\r\n\r\nexport const TabBar = styled.nav`\r\n    display: flex;\r\n    margin-bottom: 2rem;\r\n\r\n    & > * {\r\n        flex: 1;\r\n    }\r\n`;\r\n\r\nexport const Tab = styled.button<{ selected: boolean }>`\r\n    background: none;\r\n    border: none;\r\n    cursor: pointer;\r\n    text-transform: uppercase;\r\n    letter-spacing: 1px;\r\n    font-size: 0.875rem;\r\n    font-weight: ${(props) => (props.selected ? 500 : 400)};\r\n    border-bottom: ${(props) => !props.selected && '2px solid var(--blue-active)'};\r\n    background: ${(props) => props.selected && 'var(--blue-active)'};\r\n    color: var(--white);\r\n    padding: 1rem;\r\n    border-top-left-radius: 4px;\r\n    border-top-right-radius: 4px;\r\n`;\r\n\r\nexport const TabContent = styled.section<{ show: boolean }>`\r\n    display: ${(props) => (props.show ? 'block' : 'none')};\r\n`;\r\n","import React, { ReactNode, useState } from 'react';\r\nimport { Tab, TabBar, TabContent } from './style';\r\n\r\ninterface Props {\r\n    tabs: string[];\r\n    children: ReactNode[];\r\n}\r\n\r\nconst Tabs = ({ tabs, children }: Props) => {\r\n    const [currentTab, setCurrentTab] = useState(0);\r\n\r\n    const changeTab = (index: number) => {\r\n        setCurrentTab(index);\r\n    };\r\n\r\n    return (\r\n        <>\r\n            <TabBar>\r\n                {tabs.map((tabName, index) => (\r\n                    <Tab key={index} selected={currentTab === index} onClick={(e) => changeTab(index)}>\r\n                        {tabName}\r\n                    </Tab>\r\n                ))}\r\n            </TabBar>\r\n\r\n            {children.map((component, index) => (\r\n                <TabContent key={index} show={currentTab === index}>\r\n                    {component}\r\n                </TabContent>\r\n            ))}\r\n        </>\r\n    );\r\n};\r\n\r\nexport default Tabs;\r\n","export const genres = [\r\n    {\r\n        id: 28,\r\n        name: 'Action',\r\n    },\r\n    {\r\n        id: 12,\r\n        name: 'Adventure',\r\n    },\r\n    {\r\n        id: 16,\r\n        name: 'Animation',\r\n    },\r\n    {\r\n        id: 35,\r\n        name: 'Comedy',\r\n    },\r\n    {\r\n        id: 80,\r\n        name: 'Crime',\r\n    },\r\n    {\r\n        id: 99,\r\n        name: 'Documentary',\r\n    },\r\n    {\r\n        id: 18,\r\n        name: 'Drama',\r\n    },\r\n    {\r\n        id: 10751,\r\n        name: 'Family',\r\n    },\r\n    {\r\n        id: 14,\r\n        name: 'Fantasy',\r\n    },\r\n    {\r\n        id: 36,\r\n        name: 'History',\r\n    },\r\n    {\r\n        id: 27,\r\n        name: 'Horror',\r\n    },\r\n    {\r\n        id: 10402,\r\n        name: 'Music',\r\n    },\r\n    {\r\n        id: 9648,\r\n        name: 'Mystery',\r\n    },\r\n    {\r\n        id: 10749,\r\n        name: 'Romance',\r\n    },\r\n    {\r\n        id: 878,\r\n        name: 'Science Fiction',\r\n    },\r\n    {\r\n        id: 10770,\r\n        name: 'TV Movie',\r\n    },\r\n    {\r\n        id: 53,\r\n        name: 'Thriller',\r\n    },\r\n    {\r\n        id: 10752,\r\n        name: 'War',\r\n    },\r\n    {\r\n        id: 37,\r\n        name: 'Western',\r\n    },\r\n];\r\n","import { motion } from 'framer-motion';\r\nimport { HiMinus, HiOutlinePlus } from 'react-icons/hi';\r\nimport { RiInformationLine } from 'react-icons/ri';\r\nimport styled from 'styled-components';\r\nimport { Button } from './../../../styles/index';\r\nimport { Genre } from './../MovieDetail/style';\r\n\r\nexport const Item = styled.article`\r\n    display: flex;\r\n    position: relative;\r\n    height: 250px;\r\n    cursor: pointer;\r\n\r\n    @media screen and (min-width: 800px) {\r\n        height: 300px;\r\n    }\r\n`;\r\n\r\nexport const Image = styled(motion.img)`\r\n    max-width: 30%;\r\n    object-fit: cover;\r\n    display: block;\r\n    border-radius: 4px;\r\n    margin-right: 1rem;\r\n\r\n    @media screen and (min-width: 600px) {\r\n        margin-right: 2rem;\r\n    }\r\n`;\r\n\r\nexport const InfoContainer = styled.article`\r\n    overflow: hidden;\r\n    position: relative;\r\n\r\n    &:after {\r\n        content: '';\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        top: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        background: linear-gradient(\r\n            to top,\r\n            hsl(210, 38%, 15%) 0%,\r\n            hsla(210, 38%, 15%, 0.941) 25%,\r\n            hsla(210, 38%, 15%, 0.881) 28%,\r\n            hsla(210, 38%, 15%, 0.819) 32%,\r\n            hsla(210, 38%, 15%, 0.756) 36%,\r\n            hsla(210, 38%, 15%, 0.692) 41.3%,\r\n            hsla(210, 38%, 15%, 0.626) 45.7%,\r\n            hsla(210, 38%, 15%, 0.56) 49.6%,\r\n            hsla(210, 38%, 15%, 0.492) 53.3%,\r\n            hsla(210, 38%, 15%, 0.424) 57.2%,\r\n            hsla(210, 38%, 15%, 0.355) 61.4%,\r\n            hsla(210, 38%, 15%, 0.285) 66.4%,\r\n            hsla(210, 38%, 15%, 0.214) 72.4%,\r\n            hsla(210, 38%, 15%, 0.143) 79.8%,\r\n            hsla(210, 38%, 15%, 0.072) 88.9%,\r\n            hsla(210, 38%, 15%, 0) 100%\r\n        );\r\n    }\r\n`;\r\n\r\nexport const Title = styled.h3`\r\n    font-size: 1.25rem;\r\n    margin-bottom: 0.5rem;\r\n\r\n    @media screen and (min-width: 800px) {\r\n        font-size: 2rem;\r\n    }\r\n`;\r\nexport const GenreContainer = styled.div`\r\n    display: flex;\r\n    margin-bottom: 0.5rem;\r\n\r\n    @media screen and (min-width: 800px) {\r\n        margin-bottom: 1rem;\r\n    }\r\n`;\r\n\r\nexport const SmallGenre = styled(Genre)`\r\n    font-size: 0.875rem;\r\n    margin-right: 0.5rem;\r\n\r\n    @media screen and (min-width: 800px) {\r\n        font-size: 1rem;\r\n        margin-right: 1rem;\r\n    }\r\n`;\r\n\r\nexport const Overview = styled.p`\r\n    line-height: 1.3;\r\n    position: relative;\r\n\r\n    /* &:after {\r\n        content: '';\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        top: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        background: linear-gradient(\r\n            to top,\r\n            hsl(210, 38%, 15%) 0%,\r\n            hsla(210, 38%, 15%, 1) 18.7%,\r\n            hsla(210, 38%, 15%, 1) 34.8%,\r\n            hsla(210, 38%, 15%, 1) 48.6%,\r\n            hsla(210, 38%, 15%, 1) 60.3%,\r\n            hsla(210, 38%, 15%, 1) 69.9%,\r\n            hsla(210, 38%, 15%, 0.626) 77.8%,\r\n            hsla(210, 38%, 15%, 0.562) 84.1%,\r\n            hsla(210, 38%, 15%, 0.497) 89%,\r\n            hsla(210, 38%, 15%, 0.431) 92.7%,\r\n            hsla(210, 38%, 15%, 0.364) 95.4%,\r\n            hsla(210, 38%, 15%, 0.295) 97.2%,\r\n            hsla(210, 38%, 15%, 0.224) 98.4%,\r\n            hsla(210, 38%, 15%, 0.151) 99.2%,\r\n            hsla(210, 38%, 15%, 0.077) 99.6%,\r\n            hsla(210, 38%, 15%, 0) 100%\r\n        );\r\n\r\n        linear-gradient(\r\n            to bottom,\r\n            hsla(210, 38%, 15%, 0) 0%,\r\n            hsla(210, 38%, 15%, 0.106) 8.1%,\r\n            hsla(210, 38%, 15%, 0.2) 14.7%,\r\n            hsla(210, 38%, 15%, 0.284) 20%,\r\n            hsla(210, 38%, 15%, 0.358) 24.4%,\r\n            hsla(210, 38%, 15%, 0.426) 28.1%,\r\n            hsla(210, 38%, 15%, 0.487) 31.6%,\r\n            hsla(210, 38%, 15%, 0.544) 35.1%,\r\n            hsla(210, 38%, 15%, 0.598) 38.8%,\r\n            hsla(210, 38%, 15%, 0.649) 43.2%,\r\n            hsla(210, 38%, 15%, 0.701) 48.5%,\r\n            hsla(210, 38%, 15%, 0.753) 55.1%,\r\n            hsla(210, 38%, 15%, 0.808) 63.2%,\r\n            hsla(210, 38%, 15%, 0.866) 73.2%,\r\n            hsla(210, 38%, 15%, 0.93) 85.3%,\r\n            hsl(210, 38%, 15%) 100%\r\n        );\r\n    } */\r\n`;\r\n\r\nexport const SeeMoreButton = styled(Button)`\r\n    font-size: 1rem;\r\n    width: 100%;\r\n    padding: 0.5rem 1rem;\r\n    background: #445970;\r\n    position: absolute;\r\n    bottom: 0rem;\r\n    left: 0;\r\n    right: 0;\r\n    margin: auto;\r\n    z-index: 1;\r\n`;\r\n\r\nexport const ButtonContainer = styled.button<{ backgroundColor: string }>`\r\n    position: absolute;\r\n    top: 1rem;\r\n    left: 1rem;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background: ${(props) => props.backgroundColor || '#4c7fbd'};\r\n    border-radius: 50%;\r\n    padding: 0.25rem;\r\n    box-shadow: 0 10px 20px rgb(0 0 0 / 19%), 0 6px 6px rgb(0 0 0 / 23%);\r\n    cursor: pointer;\r\n    z-index: 2;\r\n`;\r\n\r\nexport const PlusIcon = styled(HiOutlinePlus)`\r\n    font-size: 2rem;\r\n`;\r\n\r\nexport const MinusIcon = styled(HiMinus)`\r\n    font-size: 2rem;\r\n`;\r\n\r\nexport const InfoIcon = styled(RiInformationLine)`\r\n    font-size: 1.125rem;\r\n    margin-right: 0.5rem;\r\n`;\r\n","import React from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { useMoviePreview } from '../../../context/MoviePreviewContext';\r\nimport useMovieManager from '../../../hooks/useMovieManager';\r\nimport { AddedMovie } from '../../../types/movies';\r\nimport { generateImageUrl } from '../../../utils';\r\nimport { genres as genreObjects } from '../MovieSearch/genres';\r\nimport {\r\n    ButtonContainer,\r\n    GenreContainer,\r\n    Image,\r\n    InfoContainer,\r\n    InfoIcon,\r\n    Item,\r\n    MinusIcon,\r\n    Overview,\r\n    PlusIcon,\r\n    SeeMoreButton,\r\n    SmallGenre,\r\n    Title,\r\n} from './styled';\r\n\r\ninterface Props {\r\n    movie: AddedMovie;\r\n    allowActions: boolean;\r\n}\r\n\r\nconst MovieListItem = ({ movie, allowActions }: Props) => {\r\n    const { setMoviePreview } = useMoviePreview();\r\n    const history = useHistory();\r\n    const { movieInList, movieActionHandler, buttonBackgroundColor } = useMovieManager(movie);\r\n    const genres = movie.genre_ids.map((genreId) => genreObjects.find((g) => g.id === genreId));\r\n\r\n    const onMovieAction = (e: React.MouseEvent<HTMLElement, MouseEvent>) => {\r\n        e.stopPropagation();\r\n        movieActionHandler();\r\n    };\r\n\r\n    const onMovieClick = () => {\r\n        const { pathname } = history.location;\r\n        if (pathname.includes(movie.id.toString())) {\r\n            setMoviePreview(null);\r\n        } else {\r\n            setMoviePreview(movie);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Item onClick={onMovieClick} role=\"button\">\r\n            {allowActions && (\r\n                <ButtonContainer onClick={onMovieAction} backgroundColor={buttonBackgroundColor}>\r\n                    {!movieInList && <PlusIcon />}\r\n                    {movieInList && <MinusIcon />}\r\n                </ButtonContainer>\r\n            )}\r\n            <Image src={generateImageUrl(movie.poster_path, 'w342')} alt={movie.title} />{' '}\r\n            <InfoContainer>\r\n                <Title>{movie.title}</Title>\r\n                <GenreContainer>\r\n                    {genres?.slice(0, 2).map((genre) => (\r\n                        <SmallGenre key={genre?.id}>{genre?.name}</SmallGenre>\r\n                    ))}\r\n                </GenreContainer>\r\n                <Overview>{movie.overview}</Overview>\r\n                <SeeMoreButton onClick={onMovieClick}>\r\n                    <InfoIcon />\r\n                    See More\r\n                </SeeMoreButton>\r\n            </InfoContainer>\r\n        </Item>\r\n    );\r\n};\r\n\r\nexport default MovieListItem;\r\n","import styled from 'styled-components';\r\n\r\nexport const List = styled.section`\r\n    display: grid;\r\n    gap: 2rem;\r\n    margin-bottom: 4rem;\r\n\r\n    & > *:not(:last-child) {\r\n        padding-bottom: 2rem;\r\n        border-bottom: 1px solid hsl(212deg 22% 43% / 38%);\r\n    }\r\n\r\n    @media screen and (min-width: 800px) {\r\n        grid-template-columns: repeat(2, 1fr);\r\n        gap: 4rem;\r\n\r\n        & > *:not(:last-child) {\r\n            padding-bottom: 0;\r\n            border-bottom: none;\r\n        }\r\n    }\r\n`;\r\n\r\nexport const Empty = styled.p`\r\n    text-align: center;\r\n\r\n    @media (min-width: 700px) {\r\n        font-size: 1.25rem;\r\n    }\r\n`;\r\n","import React from 'react';\r\nimport { AddedMovie } from '../../../types/movies';\r\nimport MovieListItem from '../MovieListItem';\r\nimport { Empty, List } from './styled';\r\n\r\ninterface Props {\r\n    movies: AddedMovie[];\r\n    allowActions: boolean;\r\n}\r\n\r\nconst MovieList = ({ movies, allowActions }: Props) => {\r\n    if (!movies.length) {\r\n        return <Empty>No movies in the list.</Empty>;\r\n    }\r\n\r\n    return (\r\n        <List>\r\n            {movies.map((movie) => (\r\n                <MovieListItem key={movie.id} movie={movie} allowActions={allowActions} />\r\n            ))}\r\n        </List>\r\n    );\r\n};\r\n\r\nexport default MovieList;\r\n","import axios from 'axios';\r\nimport { useEffect, useState } from 'react';\r\nimport { MovieResponse } from '../types/movies';\r\n\r\ninterface Props {\r\n    genres: number[];\r\n    movieQuery: string;\r\n}\r\n\r\ninterface FetchedMovies {\r\n    query: MovieResponse;\r\n    genres: MovieResponse;\r\n}\r\n\r\nconst emptyResponse: MovieResponse = {\r\n    page: 0,\r\n    results: [],\r\n    total_results: 0,\r\n    total_pages: 0,\r\n};\r\n\r\nconst useFetchMovies = ({ genres, movieQuery }: Props) => {\r\n    const [loading, setLoading] = useState(false);\r\n    const [error, setError] = useState<true | null>(null);\r\n    const [movies, setMovies] = useState<FetchedMovies>({ query: emptyResponse, genres: emptyResponse });\r\n    const cancelToken = axios.CancelToken.source();\r\n\r\n    const fetchMovieQuery = async (url: string) => {\r\n        try {\r\n            const res = await axios.get(url, {\r\n                cancelToken: cancelToken.token,\r\n            });\r\n            if (res.status === 200) {\r\n                return res.data;\r\n            }\r\n        } catch (error) {\r\n            cancelToken.cancel('Error in try catch block.');\r\n        }\r\n    };\r\n\r\n    useEffect(() => {\r\n        const fetch = async () => {\r\n            if (movieQuery) {\r\n                try {\r\n                    setLoading(true);\r\n                    const res = await axios.get(`/movies/query/${movieQuery}`, {\r\n                        cancelToken: cancelToken.token,\r\n                    });\r\n                    if (res.status === 200) {\r\n                        setMovies({ ...movies, query: res.data });\r\n                    }\r\n                    setLoading(false);\r\n                } catch (error) {\r\n                    cancelToken.cancel('Error in try catch block.');\r\n                    setError(true);\r\n                    setLoading(false);\r\n                }\r\n            }\r\n        };\r\n\r\n        fetch();\r\n\r\n        return () => {\r\n            cancelToken.cancel('Component got unmounted');\r\n        };\r\n    }, [movieQuery]);\r\n\r\n    useEffect(() => {\r\n        const fetch = async () => {\r\n            try {\r\n                setLoading(true);\r\n                const res = await axios.post('/movies/genres', {\r\n                    genres,\r\n                    cancelToken: cancelToken.token,\r\n                });\r\n\r\n                if (res.status === 200) {\r\n                    setMovies({ ...movies, genres: res.data });\r\n                }\r\n                setLoading(false);\r\n            } catch (error) {\r\n                cancelToken.cancel('Error in try catch block.');\r\n                setError(true);\r\n                setLoading(false);\r\n            }\r\n        };\r\n\r\n        fetch();\r\n\r\n        return () => {\r\n            cancelToken.cancel('Component got unmounted');\r\n        };\r\n    }, [genres]);\r\n\r\n    return { loading, error, movies };\r\n};\r\n\r\nexport default useFetchMovies;\r\n","import { HiOutlinePlus } from 'react-icons/hi';\r\nimport styled from 'styled-components';\r\n\r\nexport const Container = styled.div`\r\n    border-radius: 4px;\r\n    background: var(--blue-active);\r\n    position: relative;\r\n`;\r\n\r\nexport const ButtonContainer = styled.button`\r\n    position: absolute;\r\n    top: 1rem;\r\n    left: 1rem;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background: hsl(213deg 40% 49%);\r\n    border-radius: 50%;\r\n    padding: 0.25rem;\r\n    box-shadow: 0 10px 20px rgb(0 0 0 / 19%), 0 6px 6px rgb(0 0 0 / 23%);\r\n    cursor: pointer;\r\n`;\r\n\r\nexport const PlusIcon = styled(HiOutlinePlus)`\r\n    font-size: 2rem;\r\n`;\r\n","import React from 'react';\r\nimport { ButtonContainer, Container, PlusIcon } from './style';\r\n\r\nconst MovieCardSkeleton = () => {\r\n    return (\r\n        <Container>\r\n            <ButtonContainer>\r\n                <PlusIcon />\r\n            </ButtonContainer>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default MovieCardSkeleton;\r\n","import { motion } from 'framer-motion';\r\nimport { HiMinus, HiOutlinePlus } from 'react-icons/hi';\r\nimport styled from 'styled-components';\r\n\r\nexport const Container = styled.article`\r\n    position: relative;\r\n    border-radius: 4px;\r\n    height: 100%;\r\n`;\r\n\r\nexport const Card = styled(motion.button)<{ zIndex: number }>`\r\n    height: 100% !important;\r\n    width: 100%;\r\n    cursor: pointer;\r\n    z-index: ${(props) => props.zIndex || 0};\r\n\r\n    &:focus {\r\n        outline: none;\r\n    }\r\n\r\n    &:before {\r\n        content: '';\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n        top: 0;\r\n        bottom: 0;\r\n        left: 0;\r\n        right: 0;\r\n        background: linear-gradient(\r\n            to bottom,\r\n            hsla(0, 0%, 0%, 0) 0%,\r\n            hsla(0, 0%, 0%, 0.041) 7%,\r\n            hsla(0, 0%, 0%, 0.082) 13.5%,\r\n            hsla(0, 0%, 0%, 0.124) 19.4%,\r\n            hsla(0, 0%, 0%, 0.166) 25%,\r\n            hsla(0, 0%, 0%, 0.208) 30.4%,\r\n            hsla(0, 0%, 0%, 0.251) 35.6%,\r\n            hsla(0, 0%, 0%, 0.295) 40.9%,\r\n            hsla(0, 0%, 0%, 0.339) 46.4%,\r\n            hsla(0, 0%, 0%, 0.385) 52.1%,\r\n            hsla(0, 0%, 0%, 0.431) 58.3%,\r\n            hsla(0, 0%, 0%, 0.479) 65%,\r\n            hsla(0, 0%, 0%, 0.527) 72.4%,\r\n            hsla(0, 0%, 0%, 0.577) 80.6%,\r\n            hsla(0, 0%, 0%, 0.628) 89.8%,\r\n            hsla(0, 0%, 0%, 0.68) 100%\r\n        );\r\n        z-index: 1;\r\n    }\r\n`;\r\n\r\nexport const ContentContainer = styled(motion.div)`\r\n    height: 100%;\r\n    width: 100%;\r\n    position: relative;\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n`;\r\n\r\nexport const Image = styled(motion.img)`\r\n    border-radius: 4px;\r\n    position: absolute;\r\n    top: 0;\r\n    bottom: 0;\r\n    left: 0;\r\n    right: 0;\r\n    height: 100%;\r\n    width: 100%;\r\n    display: block;\r\n    object-fit: cover;\r\n    z-index: 0;\r\n`;\r\n\r\nexport const Title = styled(motion.h3)`\r\n    border-radius: 4px;\r\n    width: 100%;\r\n    padding: 1rem;\r\n    margin-top: auto;\r\n    font-weight: 500;\r\n    text-align: center;\r\n    line-height: 1.3;\r\n    background: #00000038;\r\n    background: linear-gradient(\r\n        to bottom,\r\n        hsla(0, 0%, 0%, 0) 0%,\r\n        hsla(0, 0%, 0%, 0.007) 7.9%,\r\n        hsla(0, 0%, 0%, 0.028) 15%,\r\n        hsla(0, 0%, 0%, 0.062) 21.4%,\r\n        hsla(0, 0%, 0%, 0.105) 27.3%,\r\n        hsla(0, 0%, 0%, 0.158) 32.8%,\r\n        hsla(0, 0%, 0%, 0.218) 38.1%,\r\n        hsla(0, 0%, 0%, 0.284) 43.3%,\r\n        hsla(0, 0%, 0%, 0.354) 48.5%,\r\n        hsla(0, 0%, 0%, 0.427) 54%,\r\n        hsla(0, 0%, 0%, 0.5) 59.9%,\r\n        hsla(0, 0%, 0%, 0.574) 66.2%,\r\n        hsla(0, 0%, 0%, 0.645) 73.3%,\r\n        hsla(0, 0%, 0%, 0.712) 81.2%,\r\n        hsla(0, 0%, 0%, 0.775) 90%,\r\n        hsla(0, 0%, 0%, 0.83) 100%\r\n    );\r\n    z-index: 1;\r\n`;\r\n\r\nexport const ButtonContainer = styled.button<{ backgroundColor: string }>`\r\n    position: absolute;\r\n    top: 1rem;\r\n    left: 1rem;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    background: ${(props) => props.backgroundColor || '#4c7fbd'};\r\n    border-radius: 50%;\r\n    padding: 0.25rem;\r\n    box-shadow: 0 10px 20px rgb(0 0 0 / 19%), 0 6px 6px rgb(0 0 0 / 23%);\r\n    cursor: pointer;\r\n    z-index: 2;\r\n`;\r\n\r\nexport const PlusIcon = styled(HiOutlinePlus)`\r\n    font-size: 2rem;\r\n`;\r\n\r\nexport const MinusIcon = styled(HiMinus)`\r\n    font-size: 2rem;\r\n`;\r\n","import React, { useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport { Movie } from '../../../../../server/src/types/movies';\r\nimport { useMoviePreview } from '../../../context/MoviePreviewContext';\r\nimport { useRoom } from '../../../context/RoomContext';\r\nimport useMovieManager from '../../../hooks/useMovieManager';\r\nimport { generateImageUrl } from '../../../utils';\r\nimport { ButtonContainer, Card, Container, ContentContainer, Image, MinusIcon, PlusIcon, Title } from './styled';\r\n\r\ninterface Props {\r\n    movie: Movie;\r\n}\r\n\r\nconst MovieCard = ({ movie }: Props) => {\r\n    const history = useHistory();\r\n    const { setMoviePreview: setMovieDetail } = useMoviePreview();\r\n    const { room } = useRoom();\r\n    const [zIndex, setZIndex] = useState(0);\r\n    const imageUrl = generateImageUrl(movie.poster_path, 'w342');\r\n    const { movieActionHandler, buttonBackgroundColor, movieInList } = useMovieManager(movie);\r\n\r\n    const onMovieClick = () => {\r\n        const currPathname = history.location.pathname;\r\n        if (currPathname.includes(movie.id.toString())) {\r\n            history.push(`/selection/${room.roomId}`);\r\n        } else {\r\n            setZIndex(2);\r\n            setMovieDetail(movie);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <Container>\r\n            <Card onClick={onMovieClick} layoutId={`image-${movie.id}`} zIndex={zIndex}>\r\n                <ContentContainer>\r\n                    <Image src={imageUrl} alt={`Movie poster for ${movie.title}.`} />\r\n                    <Title>{movie.title}</Title>\r\n                </ContentContainer>\r\n            </Card>\r\n            <ButtonContainer onClick={movieActionHandler} backgroundColor={buttonBackgroundColor}>\r\n                {!movieInList && <PlusIcon />}\r\n                {movieInList && <MinusIcon />}\r\n            </ButtonContainer>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default MovieCard;\r\n","import styled from 'styled-components';\r\n\r\nexport const Gallery = styled.div`\r\n    display: grid;\r\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\r\n    grid-gap: 0.5rem;\r\n\r\n    & > * {\r\n        min-height: 300px;\r\n    }\r\n\r\n    @media screen and (min-width: 700px) {\r\n        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\r\n\r\n        & > * {\r\n            min-height: 300px;\r\n        }\r\n    }\r\n`;\r\n","import React from 'react';\r\nimport MovieCardSkeleton from '../../../components/MovieCardSkeleton';\r\nimport { MovieResponse } from '../../../types/movies';\r\nimport MovieCard from '../MovieCard';\r\nimport { Gallery } from './style';\r\n\r\ninterface Props {\r\n    movies: MovieResponse;\r\n    loading: boolean;\r\n}\r\n\r\nconst MovieGallery = ({ movies, loading }: Props) => {\r\n    const moviesOnDisplay = movies.results || [];\r\n\r\n    if (loading) {\r\n        return (\r\n            <Gallery>\r\n                {Array.from(Array(20).keys()).map((n, index) => (\r\n                    <MovieCardSkeleton key={index} />\r\n                ))}\r\n            </Gallery>\r\n        );\r\n    }\r\n\r\n    return (\r\n        <Gallery>\r\n            {moviesOnDisplay.map((movie) => (\r\n                <MovieCard key={movie.id} movie={movie} />\r\n            ))}\r\n        </Gallery>\r\n    );\r\n};\r\n\r\nexport default MovieGallery;\r\n","import Select from 'react-select';\r\nimport styled from 'styled-components';\r\n\r\nexport const FormField = styled.div<{ show: boolean }>`\r\n    display: ${(props) => (props.show ? 'flex' : 'none')};\r\n    flex-direction: column;\r\n    margin-bottom: 1rem;\r\n\r\n    label {\r\n        margin-bottom: 1rem;\r\n    }\r\n\r\n    input {\r\n        padding: 0.5rem;\r\n        border-radius: 4px;\r\n    }\r\n\r\n    &:last-of-type {\r\n        margin-bottom: 2rem;\r\n    }\r\n`;\r\n\r\nexport const StyledSelect = styled(Select)`\r\n    z-index: 4;\r\n`;\r\n\r\nexport const colorStyles = {\r\n    control: (styles: any) => ({ ...styles, backgroundColor: 'white', color: 'var(--blue-dark-bg)' }),\r\n    option: (styles: { [x: string]: any }, { data, isDisabled, isFocused, isSelected }: any) => {\r\n        return {\r\n            ...styles,\r\n            backgroundColor: 'white',\r\n            color: 'var(--blue-dark-bg)',\r\n            cursor: isDisabled ? 'not-allowed' : 'default',\r\n        };\r\n    },\r\n    multiValue: (styles: any, { data }: any) => {\r\n        return {\r\n            ...styles,\r\n            backgroundColor: 'white',\r\n        };\r\n    },\r\n    multiValueLabel: (styles: any, { data }: any) => ({\r\n        ...styles,\r\n        color: 'white',\r\n        backgroundColor: 'var(--blue-dark-bg)',\r\n        padding: '4px 8px',\r\n        borderRadius: '4px',\r\n    }),\r\n    multiValueRemove: (styles: any, { data }: any) => ({\r\n        ...styles,\r\n        color: data.color,\r\n        ':hover': {\r\n            backgroundColor: 'white',\r\n            color: 'var(--blue-dark-bg)',\r\n        },\r\n    }),\r\n};\r\n","import React, { useState } from 'react';\r\nimport { OptionsType } from 'react-select';\r\nimport useFetchMovies from '../../../hooks/useFetchMovies';\r\nimport { Genre } from '../../../types/movies';\r\nimport MovieGallery from '../MovieGallery';\r\nimport { genres as allGenres } from './genres';\r\nimport { colorStyles, FormField, StyledSelect } from './style';\r\n\r\nconst MovieSearch = () => {\r\n    const [genres, setGenres] = useState<number[]>([]);\r\n    const [movieQuery, setMovieQuery] = useState('');\r\n    const { loading, error, movies } = useFetchMovies({ genres, movieQuery });\r\n    const genreOptions = allGenres.map((genre: Genre) => ({ value: genre.id, label: genre.name }));\r\n    const moviesOnDisplay = movieQuery ? movies.query : movies.genres;\r\n\r\n    const onQueryChange = (e: React.ChangeEvent<HTMLInputElement>) => {\r\n        setMovieQuery(e.target.value);\r\n    };\r\n\r\n    const onGenreChange = (\r\n        value: OptionsType<{\r\n            value: number;\r\n            label: string;\r\n        }>,\r\n    ) => {\r\n        setGenres(value.map((genre) => genre.value));\r\n    };\r\n\r\n    return (\r\n        <section>\r\n            {' '}\r\n            <form>\r\n                <FormField show={true}>\r\n                    <label>Search by name</label>\r\n                    <input type=\"text\" value={movieQuery} onChange={onQueryChange} />\r\n                </FormField>\r\n                <FormField show={movieQuery === ''}>\r\n                    <label>Search by genre</label>\r\n                    <StyledSelect\r\n                        isMulti\r\n                        name=\"genres\"\r\n                        options={genreOptions}\r\n                        styles={colorStyles}\r\n                        onChange={onGenreChange}\r\n                    />\r\n                </FormField>\r\n            </form>\r\n            <MovieGallery movies={moviesOnDisplay} loading={loading} />\r\n        </section>\r\n    );\r\n};\r\n\r\nexport default MovieSearch;\r\n","import React from 'react';\r\nimport Tabs from '../../../components/Tabs';\r\nimport { useRoom } from '../../../context/RoomContext';\r\nimport MovieList from '../MovieList';\r\nimport MovieSearch from '../MovieSearch';\r\n\r\nconst MovieSelection = () => {\r\n    const { room } = useRoom();\r\n    return (\r\n        <Tabs tabs={['Search', `Group List (${room.movies.length})`]}>\r\n            <MovieSearch />\r\n            <MovieList movies={room.movies} allowActions />\r\n        </Tabs>\r\n    );\r\n};\r\n\r\nexport default MovieSelection;\r\n","import styled from 'styled-components';\r\nimport { MaxWidthContainer } from '../../../styles';\r\n\r\nexport const Container = styled(MaxWidthContainer)`\r\n    margin-bottom: 2.5rem;\r\n`;\r\n","import React, { useEffect } from 'react';\r\nimport InviteLink from '../../../components/InviteLink';\r\nimport { useRoom } from '../../../context/RoomContext';\r\nimport { useUser } from '../../../context/UserContext';\r\nimport { FontWeight600, Subtitle, Title } from '../../../styles';\r\nimport { ToastType, useToast } from '../../../utils';\r\nimport ActionButton from '../ActionButton';\r\nimport MovieSelection from '../MovieSelection';\r\nimport { Container } from './style';\r\n\r\nconst ownerText = (\r\n    <>\r\n        Add movies you&apos;d want to watch. Once the list is complete and members are ready, tap on &quot;\r\n        <FontWeight600>Start Swiping</FontWeight600>.&quot;\r\n    </>\r\n);\r\nconst participantText = (\r\n    <>\r\n        Add movies you&apos;d want to watch. Once you&apos;re ready to start, tap on &quot;\r\n        <FontWeight600>Ready to Swipe</FontWeight600>.&quot;\r\n    </>\r\n);\r\n\r\nconst Selection = () => {\r\n    const { user } = useUser();\r\n    const { room } = useRoom();\r\n    const isOwner = room.ownerId === user.id;\r\n\r\n    useEffect(() => {\r\n        useToast({\r\n            type: ToastType.Custom,\r\n            message: 'Invite others by sharing the link to this page.',\r\n            duration: 8000,\r\n        });\r\n    }, []);\r\n\r\n    return (\r\n        <Container>\r\n            <Title>Pick Your Movies</Title>\r\n            <Subtitle>{isOwner ? ownerText : participantText}</Subtitle>\r\n            <InviteLink />\r\n            <MovieSelection />\r\n            <ActionButton />\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Selection;\r\n","import React from 'react';\r\nimport { useLocation } from 'react-router-dom';\r\nimport { useRoom } from '../../../context/RoomContext';\r\nimport { useUser } from '../../../context/UserContext';\r\nimport { AddedMovie } from '../../../types/movies';\r\nimport MovieList from '../../selection/MovieList';\r\n\r\nconst Matches = () => {\r\n    const { room } = useRoom();\r\n    const { user } = useUser();\r\n\r\n    const matches = room.movies.reduce((matches: AddedMovie[], movie: AddedMovie) => {\r\n        const matched =\r\n            movie.swipes.find((swipe) => swipe.user.id === user.id && swipe.liked) &&\r\n            movie.swipes.find((swipe) => swipe.liked && swipe.user.id !== user.id);\r\n\r\n        if (matched) {\r\n            matches.push(movie);\r\n        }\r\n\r\n        return matches;\r\n    }, []);\r\n\r\n    return <MovieList movies={matches} allowActions={false} />;\r\n};\r\n\r\nexport default Matches;\r\n","import { motion } from 'framer-motion';\r\nimport styled from 'styled-components';\r\nimport { Button } from '../../../styles';\r\nimport { RiInformationLine } from 'react-icons/ri';\r\n\r\nexport const Container = styled.article`\r\n    margin: auto;\r\n    margin-bottom: 2.5rem;\r\n    max-width: 600px;\r\n    max-width: 350px;\r\n\r\n    @media screen and (min-width: 600px) {\r\n        height: auto;\r\n    }\r\n`;\r\n\r\nexport const Image = styled(motion.img)`\r\n    display: block;\r\n    width: 100%;\r\n    height: 100%;\r\n    object-fit: cover;\r\n    margin: auto;\r\n`;\r\n\r\nexport const Title = styled(motion.h3)`\r\n    font-size: 1.25rem;\r\n    padding: 1.5rem 1rem 1rem;\r\n    border-radius: 4px;\r\n    margin-top: auto;\r\n    font-weight: 500;\r\n    text-align: center;\r\n    line-height: 1.3;\r\n    width: 100%;\r\n    text-transform: none;\r\n    background: var(--blue-dark);\r\n`;\r\n\r\nexport const PreviewButton = styled(Button)`\r\n    display: flex;\r\n    flex-direction: column;\r\n    width: 100%;\r\n    padding: 0;\r\n    background: hsl(211deg 43% 10%);\r\n    color: var(--white-muted);\r\n    border-top-left-radius: 0;\r\n    border-top-right-radius: 0;\r\n`;\r\n\r\nexport const Details = styled.p`\r\n    width: 100%;\r\n    font-size: 0.875rem;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    margin-top: 0.5rem;\r\n    background: #2e3f52;\r\n    padding: 1rem;\r\n`;\r\n\r\nexport const ExpandIcon = styled(RiInformationLine)`\r\n    font-size: 1rem;\r\n    margin-right: 0.5rem;\r\n`;\r\n","import React from 'react';\r\nimport { useMoviePreview } from '../../../context/MoviePreviewContext';\r\nimport { AddedMovie } from '../../../types/movies';\r\nimport { generateImageUrl } from '../../../utils';\r\nimport { Container, Details, ExpandIcon, Image, PreviewButton, Title } from './style';\r\n\r\ninterface Props {\r\n    movie: AddedMovie;\r\n}\r\n\r\nconst SwipeItem = ({ movie }: Props) => {\r\n    const { setMoviePreview } = useMoviePreview();\r\n    const imageSrc = generateImageUrl(movie.poster_path, 'w500');\r\n\r\n    const showPreview = () => {\r\n        setMoviePreview(movie);\r\n    };\r\n\r\n    return (\r\n        <Container onClick={showPreview}>\r\n            <PreviewButton onClick={showPreview}>\r\n                <Title>{movie.title}</Title>\r\n                <Details>\r\n                    <ExpandIcon /> Details\r\n                </Details>\r\n            </PreviewButton>\r\n            <Image src={imageSrc} alt={movie.title}></Image>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default SwipeItem;\r\n","import styled, { css } from 'styled-components';\r\nimport { Button } from '../../../styles';\r\nimport { RiCloseFill } from 'react-icons/ri';\r\nimport { HiHeart } from 'react-icons/hi';\r\n\r\nexport const LikeButton = styled(Button)`\r\n    background: var(--blue-active-90);\r\n    outline: none;\r\n    border-radius: 0;\r\n\r\n    @media screen and (min-width: 600px) {\r\n        padding: 1rem 2rem;\r\n        white-space: nowrap;\r\n    }\r\n`;\r\n\r\nexport const DislikeButton = styled(Button)`\r\n    background: var(--accent-dark-90);\r\n    outline: none;\r\n    border-radius: 0;\r\n\r\n    @media screen and (min-width: 600px) {\r\n        padding: 1rem 2rem;\r\n        white-space: nowrap;\r\n    }\r\n`;\r\n\r\nconst iconStyles = css`\r\n    font-size: 1.5rem;\r\n`;\r\n\r\nexport const LikeIcon = styled(HiHeart)`\r\n    ${iconStyles}\r\n    margin-right: 1rem;\r\n`;\r\n\r\nexport const DislikeIcon = styled(RiCloseFill)`\r\n    ${iconStyles}\r\n    margin-right: 0.5rem;\r\n`;\r\n","import React, { useEffect, useRef, useState } from 'react';\r\nimport { useHistory } from 'react-router-dom';\r\nimport SwiperCore, { A11y, EffectCoverflow, EffectFade, Pagination } from 'swiper';\r\nimport { Swiper, SwiperSlide } from 'swiper/react';\r\n// Swiper imports\r\nimport 'swiper/swiper-bundle.min.css';\r\nimport { CoverflowEffectOptions } from 'swiper/types/components/effect-coverflow';\r\nimport { PaginationOptions } from 'swiper/types/components/pagination';\r\nimport FixedContainer from '../../../components/FixedContainer';\r\nimport { useRoom } from '../../../context/RoomContext';\r\nimport { useUser } from '../../../context/UserContext';\r\nimport { swipeMovie } from '../../../sockets/emitters';\r\nimport { AddedMovie } from '../../../types/movies';\r\nimport SwipeItem from '../SwipeItem';\r\nimport { DislikeButton, DislikeIcon, LikeButton, LikeIcon } from './style';\r\n\r\nSwiperCore.use([Pagination, A11y, EffectCoverflow, EffectFade]);\r\n\r\nconst coverFlowEffectProps: CoverflowEffectOptions = {\r\n    rotate: 50,\r\n    stretch: 0,\r\n    depth: 200,\r\n    modifier: 1,\r\n    slideShadows: false,\r\n};\r\n\r\nconst paginationProps: PaginationOptions = {\r\n    clickable: false,\r\n    type: 'progressbar',\r\n    progressbarFillClass: 'swiper-pagination-progressbar-fill',\r\n};\r\n\r\ninterface MovieToSwipe extends AddedMovie {\r\n    swiped: boolean;\r\n}\r\n\r\nconst SwipeArea = () => {\r\n    const history = useHistory();\r\n    const { room } = useRoom();\r\n    const { user } = useUser();\r\n    const [swiper, setSwiper] = useState<SwiperCore>();\r\n    const movies = useRef<MovieToSwipe[]>([]);\r\n    const [disabled, setDisabled] = useState(false);\r\n\r\n    useEffect(() => {\r\n        movies.current = room.movies.map((movie) => ({ ...movie, swiped: false }));\r\n    }, [room.movies.length]);\r\n\r\n    const enableButtons = () => {\r\n        setDisabled(false);\r\n    };\r\n\r\n    const disableButtons = () => {\r\n        setDisabled(true);\r\n    };\r\n\r\n    const onLike = () => {\r\n        if (!swiper) {\r\n            return;\r\n        }\r\n\r\n        const nextIndex = swiper.activeIndex + 1;\r\n        swiper.slideTo(nextIndex);\r\n    };\r\n\r\n    const onDislike = () => {\r\n        if (!swiper) {\r\n            return;\r\n        }\r\n\r\n        const movieIndex = swiper.activeIndex - 1;\r\n        handleSwipeEmit({ index: movieIndex, liked: false });\r\n        const nextIndex = swiper.activeIndex + 1;\r\n        swiper.slideTo(nextIndex, 400);\r\n    };\r\n\r\n    const onSlideNextTransitionStart = (swiper: SwiperCore) => {\r\n        disableButtons();\r\n\r\n        /* Ignore slideNext on init */\r\n        if (!swiper || swiper.activeIndex === 1) {\r\n            return;\r\n        }\r\n\r\n        const movieIndex = swiper.previousIndex - 1;\r\n        handleSwipeEmit({ index: movieIndex, liked: true });\r\n\r\n        swiper.updateProgress();\r\n        swiper.update();\r\n    };\r\n\r\n    const onSlidePrevTransitionStart = (swiper: SwiperCore) => {\r\n        disableButtons();\r\n\r\n        if (!swiper) {\r\n            return;\r\n        }\r\n\r\n        const movieIndex = swiper.previousIndex - 1;\r\n        handleSwipeEmit({ index: movieIndex, liked: false });\r\n\r\n        const nextIndex = swiper.activeIndex + 2;\r\n        swiper.slideTo(nextIndex, 100);\r\n        swiper.update();\r\n        swiper.updateProgress();\r\n    };\r\n\r\n    const onSwiperInit = (swiper: SwiperCore) => {\r\n        const actualProgress = 1 / room.movies.length;\r\n        document.documentElement.style.setProperty('--swipe-progress', actualProgress.toString());\r\n        setSwiper(swiper);\r\n    };\r\n\r\n    const onProgress = (swiper: SwiperCore) => {\r\n        const actualProgress = (1 / room.movies.length) * swiper.activeIndex;\r\n        document.documentElement.style.setProperty('--swipe-progress', actualProgress.toString());\r\n    };\r\n\r\n    const handleSwipeEmit = ({ index, liked }: { index: number; liked: boolean }) => {\r\n        const movie = movies.current[index];\r\n        if (!movie || movie.swiped) {\r\n            return;\r\n        }\r\n\r\n        movies.current = movies.current.map((m) => (m.id === movie.id ? { ...m, swiped: true } : m));\r\n        swipeMovie({ roomId: room.roomId as string, movieId: movie.id, liked, user });\r\n    };\r\n\r\n    const onSlideNextTransitionEnd = (swiper: SwiperCore) => {\r\n        enableButtons();\r\n\r\n        if (swiper.activeIndex > room.movies.length) {\r\n            history.push(`/results/${room.roomId}`);\r\n        }\r\n    };\r\n\r\n    return (\r\n        <>\r\n            {!!room.movies.length && (\r\n                <Swiper\r\n                    onSlidePrevTransitionStart={onSlidePrevTransitionStart}\r\n                    onSlideNextTransitionStart={onSlideNextTransitionStart}\r\n                    onSlidePrevTransitionEnd={enableButtons}\r\n                    onSlideNextTransitionEnd={onSlideNextTransitionEnd}\r\n                    onProgress={onProgress}\r\n                    onInit={onSwiperInit}\r\n                    initialSlide={1}\r\n                    speed={400}\r\n                    observer\r\n                    grabCursor\r\n                    centeredSlides\r\n                    spaceBetween={5000}\r\n                    effect=\"coverflow\"\r\n                    coverflowEffect={coverFlowEffectProps}\r\n                    pagination={paginationProps}\r\n                >\r\n                    <SwiperSlide key=\"firstSlide\"></SwiperSlide>\r\n                    {room.movies.map((movie) => (\r\n                        <SwiperSlide key={movie.id}>\r\n                            <SwipeItem movie={movie} />\r\n                        </SwiperSlide>\r\n                    ))}\r\n                    <SwiperSlide key=\"lastSlide\"></SwiperSlide>\r\n                </Swiper>\r\n            )}\r\n            <FixedContainer position=\"fixed\">\r\n                <DislikeButton onClick={onDislike} disabled={disabled}>\r\n                    <DislikeIcon />\r\n                    Dislike\r\n                </DislikeButton>\r\n                <LikeButton onClick={onLike} disabled={disabled}>\r\n                    <LikeIcon />\r\n                    Like\r\n                </LikeButton>\r\n            </FixedContainer>\r\n        </>\r\n    );\r\n};\r\n\r\nexport default SwipeArea;\r\n","import styled from 'styled-components';\r\nimport { MaxWidthContainer } from '../../../styles';\r\n\r\nexport const Container = styled(MaxWidthContainer)`\r\n    max-width: 600px;\r\n    margin: auto;\r\n`;\r\n","import React from 'react';\r\nimport Tabs from '../../../components/Tabs';\r\nimport { useRoom } from '../../../context/RoomContext';\r\nimport { useUser } from '../../../context/UserContext';\r\nimport Matches from '../Matches';\r\nimport SwipeArea from '../SwipeArea';\r\nimport { Container } from './style';\r\n\r\nconst Swiper = () => {\r\n    const { room } = useRoom();\r\n    const { user } = useUser();\r\n    const numMatches = room.movies.reduce((num, movie) => {\r\n        const matched =\r\n            movie.swipes.find((swipe) => swipe.user.id === user.id && swipe.liked) &&\r\n            movie.swipes.find((swipe) => swipe.liked && swipe.user.id !== user.id);\r\n        if (matched) {\r\n            return num + 1;\r\n        }\r\n        return num;\r\n    }, 0);\r\n\r\n    return (\r\n        <Container>\r\n            <Tabs tabs={['Movie', `Matches (${numMatches})`]}>\r\n                <SwipeArea />\r\n                <Matches />\r\n            </Tabs>\r\n        </Container>\r\n    );\r\n};\r\n\r\nexport default Swiper;\r\n","import { AnimatePresence, AnimateSharedLayout } from 'framer-motion';\nimport React from 'react';\nimport { Toaster } from 'react-hot-toast';\nimport { Route, Switch } from 'react-router-dom';\nimport './App.css';\nimport AppContainer from './components/AppContainer';\nimport Footer from './components/Footer';\nimport Nav from './components/Nav';\nimport ProtectedRoute from './components/ProtectedRoute';\nimport { useMoviePreview } from './context/MoviePreviewContext';\nimport Create from './pages/create/Create';\nimport Expired from './pages/expired/Expired';\nimport Home from './pages/home/Home';\nimport Join from './pages/join/Join';\nimport Results from './pages/results/Results';\nimport MovieDetail from './pages/selection/MovieDetail';\nimport Selection from './pages/selection/Selection';\nimport Swiper from './pages/swiper/Swiper';\n\nconst App = () => {\n    const { moviePreview } = useMoviePreview();\n\n    return (\n        <AnimateSharedLayout type=\"crossfade\">\n            <AnimatePresence>{moviePreview && <MovieDetail movie={moviePreview} />}</AnimatePresence>\n            <Toaster />\n            <Nav />\n            <AppContainer>\n                <Switch>\n                    <Route path=\"/\" exact component={Home} />\n                    <Route path=\"/create\" component={Create} />\n                    <Route path=\"/join/:id\" component={Join} />\n                    <Route path=\"/expired\" component={Expired} />\n                    <ProtectedRoute path={['/selection/:id/:movieId', '/selection/:id']} component={Selection} />\n                    <ProtectedRoute path={['/swiper/:id/:movieId', '/swiper/:id']} component={Swiper} />\n                    <ProtectedRoute path={['/results/:id/:movieId', '/results/:id']} component={Results} />\n                    <Route component={Home} />\n                </Switch>\n            </AppContainer>\n            <Footer />\n        </AnimateSharedLayout>\n    );\n};\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport App from './App';\nimport MoviePreviewProvider from './context/MoviePreviewContext';\nimport RoomProvider from './context/RoomContext';\nimport UserProvider from './context/UserContext';\nimport './index.css';\n\nReactDOM.render(\n    <React.StrictMode>\n        <Router>\n            <UserProvider>\n                <RoomProvider>\n                    <MoviePreviewProvider>\n                        <App />\n                    </MoviePreviewProvider>\n                </RoomProvider>\n            </UserProvider>\n        </Router>\n    </React.StrictMode>,\n    document.getElementById('root'),\n);\n"],"sourceRoot":""}