(this["webpackJsonpmovie-swiper"]=this["webpackJsonpmovie-swiper"]||[]).push([[0],{129:function(n,e){},163:function(n,e,t){},164:function(n,e,t){"use strict";t.r(e);var r=t(1),i=t(2),c=t.n(i),o=t(36),a=t.n(o),u=t(16),s=t(12),d=t(15),l=t(14),b=(t(99),t(3)),j=t(4);function m(){var n=Object(b.a)(["\n    background: var(--blue-dark-bg);\n    color: var(--white);\n    flex: 1;\n"]);return m=function(){return n},n}var f,p=j.b.main(m()),h=function(n){var e=n.children;return Object(r.jsx)(p,{children:e})},O=t.p+"static/media/themoviedb-logo.caee7457.svg";function x(){var n=Object(b.a)(["\n    font-size: 0.85rem;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    color: var(--white-muted);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return x=function(){return n},n}function v(){var n=Object(b.a)(["\n    height: 10.5px;\n    margin-left: 0.5rem;\n"]);return v=function(){return n},n}function g(){var n=Object(b.a)(["\n    max-width: 1100px;\n    margin: auto;\n"]);return g=function(){return n},n}function w(){var n=Object(b.a)(["\n    background: rgb(0 0 0 / 25%);\n    padding: 2rem;\n    display: ",";\n\n    @media (min-width: 600px) {\n        display: block;\n    }\n"]);return w=function(){return n},n}!function(n){n.SELECTION="selection",n.SWIPER="swiper",n.RESULTS="results",n.NULL="null"}(f||(f={}));var y=j.b.footer(w(),(function(n){return n.$display?"block":"none"})),k=j.b.div(g()),S=j.b.img(v()),I=j.b.p(x()),C=function(){var n=Object(l.g)().pathname,e="/"===n||n.includes("/create")||n.includes("/join")||n.includes(f.RESULTS);return Object(r.jsx)(y,{$display:e,children:Object(r.jsx)(k,{children:Object(r.jsxs)(I,{children:["Powered by",Object(r.jsx)("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noreferrer",children:Object(r.jsx)(S,{src:O,alt:"The Movie DB."})})]})})})},E=t(5),z=t(8),T=t(25),M=t(40),R=t(18),_=t(85),N=t.n(_)()({reconnection:!0}),F=function(n,e){N.emit("room:create",n,e)};function A(){var n=Object(b.a)(["\n    font-weight: 600;\n"]);return A=function(){return n},n}function L(){var n=Object(b.a)(["\n    width: 100%;\n    background: ",";\n    color: ",";\n    padding: 1rem 1.5rem;\n"]);return L=function(){return n},n}function P(){var n=Object(b.a)(["\n    padding: 1.5rem 1rem;\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    border-radius: 4px;\n    color: white;\n    cursor: pointer;\n"]);return P=function(){return n},n}function D(){var n=Object(b.a)(["\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.4;\n    margin-bottom: 2rem;\n    color: var(--white-muted);\n"]);return D=function(){return n},n}function G(){var n=Object(b.a)(["\n    font-size: 2rem;\n    margin: 0 0 1rem;\n    font-family: 'Merienda One', 'Rubik', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',\n        'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n"]);return G=function(){return n},n}function B(){var n=Object(b.a)(["\n    margin-top: 0.5rem;\n    padding: 0.5rem;\n    background: var(--accent-light);\n    border-radius: 4px;\n    font-size: 0.875rem;\n"]);return B=function(){return n},n}function U(){var n=Object(b.a)(["\n    label {\n        margin-bottom: 0.5rem;\n    }\n\n    input {\n        padding: 0.5rem;\n        border-radius: 4px;\n    }\n"]);return U=function(){return n},n}function V(){var n=Object(b.a)(["\n    max-width: 600px;\n    margin: 0 auto;\n\n    h2 {\n        margin-bottom: 4rem;\n    }\n"]);return V=function(){return n},n}function W(){var n=Object(b.a)(["\n    max-width: 1100px;\n    margin: 0 auto;\n    padding: 3rem 1rem;\n\n    @media (min-width: 600px) {\n        padding: 4rem 1rem;\n    }\n\n    @media (min-width: 1100px) {\n        padding: 4rem 0rem;\n    }\n"]);return W=function(){return n},n}var H,J=j.b.section(W()),Y=Object(j.b)(J)(V()),$=j.b.form(U()),q=j.b.div(B()),Z=j.b.h1(G()),Q=j.b.h2(D()),X=j.b.button(P()),K=Object(j.b)(X)(L(),(function(n){return n.$disabled?"#808080":"var(--blue-action)"}),(function(n){return n.$disabled&&"#cbc8c8"})),nn=j.b.span(A());!function(n){n.INITIALIZE_ROOM="initialize_room",n.GET_ROOM="get_room",n.JOIN="join",n.LEAVE="leave",n.CHANGE_OWNER="change_owner",n.ADD_MOVIE="add_movie",n.REMOVE_MOVIE="remove_movie",n.SWIPE_MOVIE="swipe_movie",n.TOGGLE_READY="toggle_ready",n.SET_STAGE="set_stage",n.USER_NAME_CHANGE="user_name_change"}(H||(H={}));var en,tn=t.p+"static/media/poster_unavailable.0646537b.png",rn=function(n,e){return n?"https://image.tmdb.org/t/p/".concat(e).concat(n):tn};!function(n){n.Success="success",n.Error="error",n.Loading="loading",n.Custom="custom"}(en||(en={}));var cn=function(n){var e=n.type,t=n.message,r=n.duration,i=n.icon,c=(n.id,{duration:r||2e3,style:{backgroundColor:"var(--blue-active)",color:"#FFF"},icon:i,iconTheme:{primary:"hsl(213deg 24% 53%)",secondary:"#FFF"}}),o={duration:r||4e3,style:{backgroundColor:"hsl(0deg 56% 27%)",color:"#FFF"},icon:i,iconTheme:{primary:"#a23636",secondary:"#FFF"}},a={duration:r||3e4,style:{backgroundColor:"var(--blue-active)",color:"#FFF"},icon:i,iconTheme:{primary:"hsl(213deg 24% 53%)",secondary:"#FFF"}};switch(e){case"success":return d.b.success(t,c);case"error":return d.b.error(t,o);case"loading":return d.b.loading(t,a);case"custom":default:return Object(d.b)(t,c)}},on=Object(i.createContext)({user:{},setUser:function(){return{}}}),an=function(){return Object(i.useContext)(on)},un=function(n){var e=n.children,t=function(n,e){var t=Object(i.useState)((function(){try{var t=window.localStorage.getItem(n);return t?JSON.parse(t):e}catch(r){return e}})),r=Object(z.a)(t,2),c=r[0],o=r[1];return[c,function(e){try{var t=e instanceof Function?e(c):e;o(t),window.localStorage.setItem(n,JSON.stringify(t))}catch(r){}}]}("user",{}),c=Object(z.a)(t,2),o=c[0],a=c[1];return Object(i.useEffect)((function(){var n;n=function(){o.id?N.emit("user:new",o):(a({name:o.name,color:o.color,id:N.id}),N.emit("user:new",Object(E.a)(Object(E.a)({},o),{},{id:N.id})))},N.on("connect",n)}),[]),Object(r.jsx)(on.Provider,{value:{user:o,setUser:a},children:e})},sn={roomName:null,roomId:null,ownerId:null,participants:[],movies:[],stage:f.NULL},dn=Object(i.createContext)({room:sn,dispatch:function(){return{}}}),ln=function(){return Object(i.useContext)(dn)},bn=function(n,e){switch(e.type){case H.INITIALIZE_ROOM:return Object(E.a)(Object(E.a)({},sn),{},{roomName:e.payload.roomName,roomId:e.payload.roomId,ownerId:e.payload.ownerId,participants:[e.payload.participant],stage:f.SELECTION});case H.GET_ROOM:return Object(E.a)({},e.payload.room);case H.JOIN:var t=[].concat(Object(M.a)(n.participants.filter((function(n){return n.id!==e.payload.participant.id}))),[e.payload.participant]);return Object(E.a)(Object(E.a)({},n),{},{participants:t});case H.LEAVE:return Object(E.a)(Object(E.a)({},n),{},{participants:n.participants.filter((function(n){return n.id!==e.payload.id}))});case H.CHANGE_OWNER:return Object(E.a)(Object(E.a)({},n),{},{ownerId:e.payload.ownerId});case H.ADD_MOVIE:return Object(E.a)(Object(E.a)({},n),{},{movies:[].concat(Object(M.a)(n.movies.filter((function(n){return n.id!==e.payload.movie.id}))),[e.payload.movie])});case H.REMOVE_MOVIE:return Object(E.a)(Object(E.a)({},n),{},{movies:n.movies.filter((function(n){return n.id!==e.payload.id}))});case H.SWIPE_MOVIE:var r=n.movies.find((function(n){return n.id===e.payload.id})),i=r.swipes.find((function(n){return n.user.id===e.payload.user.id}))?r.swipes.map((function(n){return n.user.id===e.payload.user.id?Object(E.a)(Object(E.a)({},n),{},{liked:e.payload.liked}):n})):[].concat(Object(M.a)(r.swipes),[{user:e.payload.user,liked:e.payload.liked}]),c=Object(E.a)(Object(E.a)({},r),{},{swipes:i});return Object(E.a)(Object(E.a)({},n),{},{movies:n.movies.map((function(n){return n.id===c.id?c:n}))});case H.SET_STAGE:return Object(E.a)(Object(E.a)({},n),{},{stage:e.payload.stage});case H.TOGGLE_READY:return Object(E.a)(Object(E.a)({},n),{},{participants:n.participants.map((function(n){return n.id===e.payload.id?Object(E.a)(Object(E.a)({},n),{},{ready:!n.ready}):n}))});case H.USER_NAME_CHANGE:return Object(E.a)(Object(E.a)({},n),{},{participants:n.participants.map((function(n){return n.id===e.payload.userId?Object(E.a)(Object(E.a)({},n),{},{name:e.payload.name}):n}))});default:throw new Error("Action not defined.")}},jn="rooms",mn=function(n){var e=n.children,t=Object(l.g)().pathname,c=an().user,o=Object(i.useReducer)(bn,sn,(function(n){var e=localStorage.getItem(jn);if(!e)return n;var r=JSON.parse(e),i=t.split("/").filter(Boolean)[1],c=r[i];return c||n})),a=Object(z.a)(o,2),u=a[0],s=a[1],b=Object(i.useRef)(),j=Object(i.useRef)(),m=Object(i.useRef)();return Object(i.useEffect)((function(){var n=function(){var n=localStorage.getItem(jn);return n?JSON.parse(n):null}();u.roomId&&function(n){localStorage.setItem(jn,JSON.stringify(n))}(Object(E.a)(Object(E.a)({},n),{},Object(T.a)({},u.roomId,u)))}),[u]),Object(i.useEffect)((function(){var n;return function(n,e){N.on("room:new-join",(function(t){N.emit("room:send",{socketId:t.socketId,room:n}),e(t.user)}))}(u,(function(n){n.id===u.ownerId&&clearTimeout(m.current),cn({type:en.Success,message:function(){return Object(r.jsxs)("span",{children:[Object(r.jsx)(nn,{children:n.name})," "," joined."]})},icon:Object(r.jsx)(R.d,{})}),s({type:H.JOIN,payload:{participant:Object(E.a)(Object(E.a)({},n),{},{ready:!1})}})})),n=function(n){var e=n.socketId,t=n.newOwnerSocketId;s({type:H.LEAVE,payload:{id:e}}),e===u.ownerId&&t===N.id&&(m.current=window.setTimeout((function(){var n;n={roomId:u.roomId,userId:c.id},N.emit("room:owner-change",n)}),1e4))},N.on("room:leave",n),function(n){N.on("room:owner-change",n)}((function(n){var e=n.newOwnerId;s({type:H.CHANGE_OWNER,payload:{ownerId:e}}),e===c.id&&cn({type:en.Custom,message:function(){return Object(r.jsxs)("span",{children:["You are the new room owner. ",Object(r.jsx)("br",{}),"Tap on ",Object(r.jsx)(nn,{children:"Start Swiping"})," to begin."]})},duration:8e3})})),function(n){N.once("room:get",n)}((function(n){var e=n.room,t=JSON.parse(localStorage.getItem("user")||""),r=e.participants.filter((function(n){return n.id!==t.id}));t&&(r=[].concat(Object(M.a)(r),[Object(E.a)(Object(E.a)({},t),{},{ready:!1})])),s({type:H.GET_ROOM,payload:{room:Object(E.a)(Object(E.a)({},e),{},{participants:r})}})})),function(n){N.on("movie:add",(function(e){n(e.movie)}))}((function(n){n.addedByUserId!==c.id&&cn({type:en.Success,message:function(){return Object(r.jsxs)("span",{children:["Someone added ",Object(r.jsx)(nn,{children:n.title}),"."]})},icon:Object(r.jsx)(R.b,{})}),s({type:H.ADD_MOVIE,payload:{movie:n}})})),function(n){N.on("movie:remove",n)}((function(n){var e=n.movieId;s({type:H.REMOVE_MOVIE,payload:{id:e}})})),function(n){N.on("movie:swipe",n)}((function(n){var e=n.movieId,t=n.liked,r=n.user;s({type:H.SWIPE_MOVIE,payload:{id:e,liked:t,user:r}})})),function(n){N.on("user:ready",n)}((function(n){var e=n.userId,t=u.participants.find((function(n){return n.id===e}));t&&!t.ready&&c.id!==t.id&&cn({type:en.Success,message:function(){return Object(r.jsxs)("span",{children:[Object(r.jsx)(nn,{children:t.name})," is ready."]})},icon:Object(r.jsx)(R.f,{})}),s({type:H.TOGGLE_READY,payload:{id:e}})})),function(n){N.on("swiper:start",n)}((function(n){n.roomId===u.roomId&&s({type:H.SET_STAGE,payload:{stage:f.SWIPER}})})),function(n){N.on("user:name-change",n)}((function(n){var e=n.userId,t=n.name,i=u.participants.find((function(n){return n.id===e}));if(i&&i.id!==c.id){var o=null===i||void 0===i?void 0:i.name;cn({type:en.Success,message:function(){return Object(r.jsxs)("span",{children:[Object(r.jsx)(nn,{children:o})," "," has changed their name to "," ",Object(r.jsxs)(nn,{children:[t,"."]})]})}})}s({type:H.USER_NAME_CHANGE,payload:{userId:e,name:t}})})),function(){N.removeAllListeners()}}),[N,u,s]),Object(i.useEffect)((function(){var n=c.id===u.ownerId,e=u.participants.filter((function(n){return n.id!==c.id})),t=e.length>0&&e.every((function(n){return n.ready}));!t&&j.current&&(clearTimeout(j.current),d.b.dismiss(b.current)),n&&t&&(j.current=window.setTimeout((function(){return b.current=cn({type:en.Success,message:function(){return Object(r.jsxs)("span",{children:["Everyone is ready to start.",Object(r.jsx)("br",{}),"Tap on ",Object(r.jsx)(nn,{children:"Start Swiping."})]})},duration:99999})}),2500))}),[u.participants]),Object(i.useEffect)((function(){clearTimeout(j.current),b.current&&d.b.dismiss(b.current)}),[t]),Object(r.jsx)(dn.Provider,{value:{room:u,dispatch:s},children:e})},fn=function(){var n=Object(i.useState)(0),e=Object(z.a)(n,2),t=e[0],r=e[1];return Object(i.useLayoutEffect)((function(){function n(){r(window.innerWidth)}return window.addEventListener("resize",n),n(),function(){return window.removeEventListener("resize",n)}}),[]),{width:t}},pn=t(86),hn=(t(132),function(n){var e=n.visible,t=n.onClose,i=n.width,c=void 0===i?"90%":i,o=n.maxWidth,a=void 0===o?500:o,u=n.height,s=void 0===u?500:u,d=n.children,l={height:s,width:c,maxWidth:a,background:"var(--blue-active)",borderRadius:"8px"};return Object(r.jsx)(pn.a,{visible:e,onClose:t,closeOnEsc:!0,customStyles:l,animation:"slideUp",children:d})});function On(){var n=Object(b.a)(["\n    background: var(--blue-action);\n    padding: 0.75rem 1rem;\n    width: 100%;\n"]);return On=function(){return n},n}function xn(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 2rem;\n"]);return xn=function(){return n},n}function vn(){var n=Object(b.a)(["\n    padding: 0 1rem;\n\n    h2 {\n        font-size: 1.5rem;\n        font-weight: 600;\n        margin-bottom: 1rem;\n        display: flex;\n        align-items: center;\n    }\n"]);return vn=function(){return n},n}function gn(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    width: 20px;\n"]);return gn=function(){return n},n}function wn(){var n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n\n    span {\n        margin-right: 0.75rem;\n    }\n"]);return wn=function(){return n},n}function yn(){var n=Object(b.a)(["\n    font-weight: ",";\n"]);return yn=function(){return n},n}function kn(){var n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    list-style: none;\n\n    & > *:not(:last-child) {\n        margin-right: 0.75rem;\n    }\n\n    @media screen and (min-width: 450px) {\n        & > *:not(:last-child) {\n            margin-right: 1.5rem;\n        }\n    }\n"]);return kn=function(){return n},n}function Sn(){var n=Object(b.a)([""]);return Sn=function(){return n},n}function In(){var n=Object(b.a)(["\n    color: var(--white);\n    font-size: 1.25rem;\n    font-family: 'Merienda One', 'Rubik', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',\n        'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n"]);return In=function(){return n},n}function Cn(){var n=Object(b.a)(["\n    max-width: 1100px;\n    margin: auto;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]);return Cn=function(){return n},n}function En(){var n=Object(b.a)(["\n    background: rgb(0 0 0 / 25%);\n    padding: 1rem;\n\n    @media screen and (min-width: 700px) {\n        padding: 1.5rem 1rem;\n    }\n"]);return En=function(){return n},n}var zn=j.b.nav(En()),Tn=j.b.div(Cn()),Mn=j.b.div(In()),Rn=j.b.section(Sn()),_n=j.b.div(kn()),Nn=Object(j.b)(u.b)(yn(),(function(n){return n.$active&&700})),Fn=j.b.button(wn()),An=Object(j.b)(R.g)(gn()),Ln=j.b.section(vn()),Pn=j.b.div(xn()),Dn=Object(j.b)(X)(On()),Gn=function(n){var e,t=n.forceShow,c=fn().width,o=ln().room,a=an(),s=a.user,d=a.setUser,b=Object(l.g)().pathname,j=Object(i.useState)(!1),m=Object(z.a)(j,2),f=m[0],p=m[1],h=Object(i.useState)(s.name),O=Object(z.a)(h,2),x=O[0],v=O[1],g=(null===(e=s.name)||void 0===e?void 0:e.length)>8?"".concat(s.name.slice(0,8),"..."):s.name,w=function(){p(!1)};return"/"!==b||t?Object(r.jsxs)(zn,{children:[Object(r.jsxs)(Tn,{children:[Object(r.jsx)(Mn,{children:Object(r.jsx)(u.b,{to:"/",children:"Movie Swiper "})}),Object(r.jsx)(Rn,{children:Object(r.jsxs)(_n,{children:[Object(r.jsx)(Nn,{$active:b.includes("create"),to:"/create",children:"Create"}),o.roomId&&Object(r.jsx)(Nn,{to:"/".concat(o.stage,"/").concat(o.roomId),activeStyle:{fontWeight:700},$active:["selection","swiper","results"].includes(b.split("/").filter(Boolean)[0]),children:"Room"}),s.name&&Object(r.jsxs)(Fn,{onClick:function(){return p(!0)},children:[c>450&&Object(r.jsx)("span",{children:g}),Object(r.jsx)(An,{})]})]})})]}),Object(r.jsx)(hn,{visible:f,onClose:w,height:225,maxWidth:400,children:Object(r.jsxs)(Ln,{children:[Object(r.jsx)("h2",{children:"Change name"}),Object(r.jsxs)($,{onSubmit:function(n){var e;n.preventDefault(),d(Object(E.a)(Object(E.a)({},s),{},{name:x})),w(),cn({type:en.Success,message:function(){return Object(r.jsxs)("span",{children:["Name changed to"," ",Object(r.jsxs)(nn,{children:[x,"."]})]})}}),o.roomId&&(e={roomId:o.roomId,userId:s.id,name:x},N.emit("user:name-change",e))},children:[Object(r.jsxs)(Pn,{children:[Object(r.jsx)("label",{htmlFor:"newName",children:"Name"}),Object(r.jsx)("input",{type:"text",name:"newName",id:"newName",value:x,onChange:function(n){return v(n.target.value)}})]}),Object(r.jsx)(Dn,{type:"submit",children:"Change name"})]})]})})]}):null},Bn=t(93);function Un(){var n=Object(b.a)(["\n    width: 60px;\n    height: 24px;\n    background: radial-gradient(circle closest-side, currentColor 90%, #0000) 0% 50%,\n        radial-gradient(circle closest-side, currentColor 90%, #0000) 50% 50%,\n        radial-gradient(circle closest-side, currentColor 90%, #0000) 100% 50%;\n    background-size: calc(100% / 3) 12px;\n    background-repeat: no-repeat;\n    animation: "," 1s infinite linear;\n"]);return Un=function(){return n},n}function Vn(){var n=Object(b.a)(["\n20%{background-position:0%   0%, 50%  50%,100%  50%}\n    40%{background-position:0% 100%, 50%   0%,100%  50%}\n    60%{background-position:0%  50%, 50% 100%,100%   0%}\n    80%{background-position:0%  50%, 50%  50%,100% 100%}\n"]);return Vn=function(){return n},n}function Wn(){var n=Object(b.a)(["\n    text-align: center;\n    font-size: 1.125rem;\n    margin-bottom: 1rem;\n"]);return Wn=function(){return n},n}function Hn(){var n=Object(b.a)(["\n    height: 500px;\n    display: flex;\n    flex-direction: column;\n    justify-content: center;\n    align-items: center;\n"]);return Hn=function(){return n},n}var Jn=Object(j.b)(J)(Hn()),Yn=Object(j.b)(Z)(Wn()),$n=Object(j.c)(Vn()),qn=j.b.div(Un(),$n),Zn=function(n){var e=n.component,t=n.computedMatch,c=Object(Bn.a)(n,["component","computedMatch"]),o=ln(),a=o.room,u=o.dispatch,s=an().user,d=Object(l.f)(),b=Object(i.useState)("loading"),j=Object(z.a)(b,2),m=j[0],p=j[1],h=t.params.id,O=t.url.split("/")[1];return Object(i.useEffect)((function(){try{if(!h)return d.replace("/expired");n={roomId:h},e=function(n){if(n.success){if(!s.name)return d.replace("/join/".concat(h));e={roomId:h,user:s},t=function(n){n.success?p("success"):p("error")},N.emit("room:join",e,t)}else{if(!a.roomId)return d.replace("/create");F({roomId:h},(function(n){if(n.success)return u({type:H.GET_ROOM,payload:{room:a}}),d.push("/selection/".concat(h))}))}var e,t},N.emit("room:check",n,e),p("success")}catch(t){console.log(t),p("error")}var n,e}),[t.params.id]),Object(i.useEffect)((function(){var n=a.movies.length>0&&a.movies.every((function(n){return n.swipes.find((function(n){return n.user.id===s.id}))}));a.roomId&&n?d.replace("/".concat(f.RESULTS,"/").concat(h)):a.roomId&&O!==a.stage&&d.replace("/".concat(a.stage,"/").concat(h))}),[a.stage]),"loading"===m?Object(r.jsxs)(Jn,{children:[Object(r.jsx)(Yn,{children:"Joining room"}),Object(r.jsx)(qn,{})]}):"error"===m?Object(r.jsx)(Jn,{children:Object(r.jsx)(Yn,{children:"Could not join room. Refresh the page to try again."})}):Object(r.jsx)(e,Object(E.a)(Object(E.a)({},t),c))},Qn=Object(i.createContext)({moviePreview:null,setMoviePreview:function(){return{}}}),Xn=function(){return Object(i.useContext)(Qn)},Kn=function(n){var e=n.children,t=Object(i.useState)(null),c=Object(z.a)(t,2),o=c[0],a=c[1];return Object(r.jsx)(Qn.Provider,{value:{moviePreview:o,setMoviePreview:a},children:e})},ne=t(24),ee=t(48),te=t.n(ee);function re(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 1rem;\n\n    &:last-of-type {\n        margin-bottom: 4rem;\n    }\n"]);return re=function(){return n},n}var ie=j.b.div(re()),ce=function(){var n=Object(l.f)(),e=ln(),t=e.room,c=e.dispatch,o=an(),a=o.user,u=o.setUser,s={name:a.name||"",roomName:""},d=Object(i.useState)(!1),b=Object(z.a)(d,2),j=b[0],m=b[1],f=Object(i.useState)(s),p=Object(z.a)(f,2),h=p[0],O=p[1],x=Object(i.useState)({}),v=Object(z.a)(x,2),g=v[0],w=v[1],y=Object(i.useState)(!1),k=Object(z.a)(y,2),S=k[0],I=k[1],C=function(){var n={};h.name||(n.name="Name is required.");return n}(),M=!Object.keys(C).length;return Object(r.jsxs)($,{onSubmit:function(e){if(e.preventDefault(),I(!0),M){m(!0),t.roomId&&(N.disconnect(),N.connect());var r=Object(E.a)(Object(E.a)({},a),{},{name:h.name,color:te()({luminosity:"light",hue:"blue"})});u(r),F({roomId:null},(function(e){if(e.success){var t=e.data.roomId;c({type:H.INITIALIZE_ROOM,payload:{roomName:h.roomName,roomId:t,ownerId:r.id,participant:r}}),n.push("/selection/".concat(t))}}))}},children:[Object(r.jsxs)(ie,{children:[Object(r.jsx)("label",{htmlFor:"name",children:"Your name"}),Object(r.jsx)("input",{type:"text",name:"name",id:"name",value:h.name,onChange:function(n){var e=n.target,t=e.name,r=e.value;O((function(n){return Object(E.a)(Object(E.a)({},n),{},Object(T.a)({},t,r))}))},onBlur:function(n){var e=n.target.name;w((function(n){return Object(E.a)(Object(E.a)({},n),{},Object(T.a)({},e,!0))}))}}),(g.name||S)&&C.name&&Object(r.jsx)(q,{children:C.name})]}),Object(r.jsx)(K,{$disabled:j,disabled:j,children:"Get Started"})]})},oe=function(){return Object(r.jsxs)(Y,{children:[Object(r.jsx)(ne.a,{children:Object(r.jsx)("title",{children:"Create | Movie Swiper"})}),Object(r.jsx)(Z,{children:"Create New Room"}),Object(r.jsx)(Q,{children:"Enter your name before proceeding to movie selection."}),Object(r.jsx)(ce,{})]})};function ae(){var n=Object(b.a)([""]);return ae=function(){return n},n}var ue=Object(j.b)(J)(ae()),se=function(){return Object(r.jsxs)(ue,{children:[Object(r.jsx)(Z,{children:"Not Found"}),Object(r.jsx)(Q,{children:"Sorry, the room you're trying to join does not exist or has expired."})]})};function de(){var n=Object(b.a)(["\n    line-height: 1.5;\n    @media screen and (min-width: 500px) {\n        font-size: 1.125rem;\n    }\n"]);return de=function(){return n},n}function le(){var n=Object(b.a)(["\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    color: var(--gray);\n    font-weight: 400;\n    font-size: 0.875rem;\n    margin-bottom: 0.5rem;\n    display: flex;\n    align-items: center;\n"]);return le=function(){return n},n}function be(){var n=Object(b.a)(["\n    padding: 1.5rem;\n    background-color: var(--blue-active);\n    border-radius: 4px;\n    box-shadow: 0px 5px 15px 5px rgb(24 38 53 / 55%);\n"]);return be=function(){return n},n}var je=j.b.article(be()),me=j.b.h3(le()),fe=j.b.p(de()),pe=function(n){var e=n.children;return Object(r.jsx)(me,{children:e})},he=function(n){var e=n.children;return Object(r.jsx)(fe,{children:e})},Oe=function(n){var e=n.children,t=c.a.Children.toArray(e).filter((function(n){return c.a.isValidElement(n)&&n.type===pe})),i=c.a.Children.toArray(e).filter((function(n){return c.a.isValidElement(n)&&n.type===he}));return Object(r.jsxs)(je,{children:[t,i]})};Oe.Headline=pe,Oe.Body=he;var xe=Oe;function ve(){var n=Object(b.a)(["\n    ","\n"]);return ve=function(){return n},n}function ge(){var n=Object(b.a)(["\n    ","\n"]);return ge=function(){return n},n}function we(){var n=Object(b.a)(["\n    ","\n    margin-right: 0.5rem;\n"]);return we=function(){return n},n}function ye(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    margin-right: 0.75rem;\n"]);return ye=function(){return n},n}function ke(){var n=Object(b.a)(["\n    max-width: 1100px;\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-gap: 1rem;\n    margin: 4rem 1.5rem;\n    position: relative;\n    z-index: 3;\n    position: relative;\n\n    &::after {\n        content: '';\n        position: absolute;\n        height: 2px;\n        background: var(--blue-muted);\n        width: 100%;\n        bottom: -4rem;\n        left: 0;\n    }\n\n    @media screen and (min-width: 750px) {\n        grid-template-columns: repeat(3, 1fr);\n        grid-gap: 2rem;\n        margin-top: -5rem;\n    }\n\n    @media screen and (min-width: 1100px) {\n        margin: -5rem auto 4rem auto;\n    }\n"]);return ke=function(){return n},n}var Se=j.b.section(ke()),Ie=Object(j.a)(ye()),Ce=Object(j.b)(R.h)(we(),Ie),Ee=Object(j.b)(R.b)(ge(),Ie),ze=Object(j.b)(R.c)(ve(),Ie),Te=[{headline:"Invite your friends",body:"Create a room, copy the link and share it with others.",icon:Object(r.jsx)(Ce,{})},{headline:"Pick your movies",body:"Browse by genre or find the exact movie you have in mind, then add it to the shared list.",icon:Object(r.jsx)(Ee,{})},{headline:"Swipe to vote",body:Object(r.jsxs)(r.Fragment,{children:["Like a movie? Swipe right. ",Object(r.jsx)("br",{}),"Dislike a movie? Swipe left."]}),icon:Object(r.jsx)(ze,{})}],Me=function(){return Object(r.jsx)(Se,{children:Te.map((function(n){return Object(r.jsxs)(xe,{children:[Object(r.jsxs)(xe.Headline,{children:[n.icon," ",n.headline]}),Object(r.jsx)(xe.Body,{children:n.body})]},n.headline)}))})},Re=t(23),_e=t.n(Re),Ne=t(30),Fe=t(27),Ae=t.n(Fe),Le=t(17);function Pe(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    margin-right: 0.5rem;\n"]);return Pe=function(){return n},n}function De(){var n=Object(b.a)(["\n    padding: 1rem 0;\n    background: var(--blue-active);\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    text-align: center;\n    border-radius: 0 0 4px 4px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n"]);return De=function(){return n},n}function Ge(){var n=Object(b.a)(["\n    display: block;\n    object-fit: cover;\n    height: 100%;\n    width: 100%;\n    border-radius: 4px;\n"]);return Ge=function(){return n},n}function Be(){var n=Object(b.a)(["\n    width: 225px;\n    padding: 1rem 1rem 0;\n    border-radius: 4px;\n    cursor: pointer;\n    background-color: var(--blue-active);\n    display: flex;\n    flex-direction: column;\n"]);return Be=function(){return n},n}var Ue=j.b.button(Be()),Ve=j.b.img(Ge()),We=j.b.div(De()),He=Object(j.b)(Le.d)(Pe()),Je=function(){var n=Object(i.useState)(null),e=Object(z.a)(n,2),t=e[0],c=e[1],o=Object(i.useState)(!0),a=Object(z.a)(o,2),u=(a[0],a[1]),s=t&&rn(t.poster_path,"w342"),d=Xn().setMoviePreview;return Object(i.useEffect)((function(){(function(){var n=Object(Ne.a)(_e.a.mark((function n(){var e;return _e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u(!0),n.next=4,Ae.a.get("/movies/random");case 4:200===(e=n.sent).status&&c(e.data),n.next=12;break;case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0),c(null);case 12:return n.prev=12,u(!1),n.finish(12);case 15:case"end":return n.stop()}}),n,null,[[0,8,12,15]])})));return function(){return n.apply(this,arguments)}})()()}),[]),t&&s?Object(r.jsxs)(Ue,{onClick:function(){return d(t)},children:[Object(r.jsx)(Ve,{src:s,alt:"Movie poster for ".concat(null===t||void 0===t?void 0:t.title,".")}),Object(r.jsxs)(We,{children:[Object(r.jsx)(He,{}),"See Details"]})]}):null};function Ye(){var n=Object(b.a)(["\n    max-width: 350px;\n    h2 {\n        font-size: 1.5rem;\n        font-weight: 500;\n        margin-bottom: 1rem;\n        text-transform: uppercase;\n        letter-spacing: 1px;\n    }\n\n    p {\n        color: var(--white-muted);\n        line-height: 1.5;\n        margin-bottom: 0.5rem;\n\n        &:nth-last-of-type(2) {\n            margin-bottom: 1rem;\n        }\n\n        &:last-of-type {\n            margin-bottom: 2rem;\n        }\n\n        @media screen and (min-width: 600px) {\n            &:last-of-type {\n                margin-bottom: 0;\n            }\n        }\n    }\n\n    ul {\n        list-style-position: inside;\n        margin-bottom: 1rem;\n\n        & > li + li {\n            margin-top: 0.5rem;\n        }\n    }\n"]);return Ye=function(){return n},n}function $e(){var n=Object(b.a)(["\n    padding: 4rem 1.5rem 4rem;\n    max-width: 700px;\n\n    & "," {\n        flex: 0 0 200px;\n    }\n\n    @media screen and (min-width: 600px) {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin: 0 auto;\n    }\n"]);return $e=function(){return n},n}var qe=Object(j.b)(J)($e(),Ue),Ze=j.b.div(Ye()),Qe=function(){return Object(r.jsxs)(qe,{children:[Object(r.jsxs)(Ze,{children:[Object(r.jsx)("h2",{children:"See movie details"}),Object(r.jsx)("p",{children:"Want to learn more about a movie before casting your vote? No problem."}),Object(r.jsx)("p",{children:"Tap on a movie to see more details, including:"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Description"}),Object(r.jsx)("li",{children:"Runtime"}),Object(r.jsx)("li",{children:"Rating"}),Object(r.jsx)("li",{children:"Genres"}),Object(r.jsx)("li",{children:"Trailer"})]}),Object(r.jsx)("p",{children:"Try it out, tap on the movie card."})]}),Object(r.jsx)(Je,{})]})},Xe=t.p+"static/media/movie-posters.0e940876.jpg";function Ke(){var n=Object(b.a)(["\n    flex: 0;\n    background: var(--blue-action);\n    padding: 1rem 3rem;\n    font-weight: 500;\n    transition: background 100ms ease-in;\n    width: 100%;\n    margin: auto;\n\n    &:hover {\n        background: var(--blue-action-90);\n    }\n"]);return Ke=function(){return n},n}function nt(){var n=Object(b.a)(["\n    display: inline;\n    @media (min-width: 500px) {\n        display: none;\n    }\n"]);return nt=function(){return n},n}function et(){var n=Object(b.a)(["\n    text-transform: uppercase;\n    font-size: 1rem;\n    font-weight: 500;\n    color: #d8d8d8;\n    margin-bottom: 1rem;\n    letter-spacing: 2px;\n    margin-right: auto;\n    position: relative;\n    text-align: center;\n"]);return et=function(){return n},n}function tt(){var n=Object(b.a)(["\n    color: var(--white);\n    font-weight: 700;\n    font-size: 2.75rem;\n    text-transform: none;\n    line-height: 1.2;\n\n    @media (min-width: 700px) {\n        font-size: 3.5rem;\n    }\n"]);return tt=function(){return n},n}function rt(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    font-size: 2rem;\n    max-width: 650px;\n    letter-spacing: 1px;\n    line-height: 1.4;\n    color: #b3c4d8;\n    margin: 0 0 4rem;\n    font-weight: 400;\n    text-align: center;\n    text-transform: uppercase;\n    position: relative;\n\n    &::after {\n        /* content: ''; */\n        position: absolute;\n        height: 2px;\n        background: #cecece54;\n        background: #aaaaaa;\n        width: 100%;\n        bottom: -0.5rem;\n        left: 0;\n    }\n\n    @media (min-width: 700px) {\n        font-size: 2.25rem;\n    }\n"]);return rt=function(){return n},n}function it(){var n=Object(b.a)(["\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 4rem 1.5rem;\n    min-height: 500px;\n\n    @media (min-width: 450px) {\n        margin: auto;\n    }\n\n    @media (min-width: 700px) {\n        align-items: flex-start;\n        min-height: 600px;\n    }\n\n    @media (min-width: 1500px) {\n        padding: 6rem 1rem;\n        min-height: 700px;\n    }\n"]);return it=function(){return n},n}function ct(){var n=Object(b.a)(["\n    position: relative;\n    z-index: 1;\n    overflow: hidden;\n\n    &:before {\n        content: '';\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        width: 100%;\n        height: 100%;\n        z-index: -2;\n        background-image: url(",");\n        background-size: cover;\n        background-position: top;\n        background-repeat: no-repeat;\n    }\n\n    &:after {\n        content: '';\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: hsl(211deg 43% 13% / 90%);\n        width: 100%;\n        height: 100%;\n        z-index: -1;\n    }\n"]);return ct=function(){return n},n}var ot=j.b.section(ct(),Xe),at=j.b.section(it()),ut=j.b.h1(rt()),st=j.b.span(tt()),dt=j.b.h2(et()),lt=(j.b.br(nt()),Object(j.b)(X)(Ke())),bt=function(){var n=Object(l.f)();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ne.a,{children:Object(r.jsx)("title",{children:"Movie Swiper"})}),Object(r.jsxs)(ot,{children:[Object(r.jsx)(Gn,{forceShow:!0}),Object(r.jsx)(at,{children:Object(r.jsxs)("div",{children:[Object(r.jsxs)(ut,{children:["Movie night?",Object(r.jsx)(st,{children:"Put it to a vote"})]}),Object(r.jsx)(dt,{children:"Find the right movie"}),Object(r.jsx)(lt,{onClick:function(){n.push("/create")},children:"Get Started"})]})})]}),Object(r.jsx)(Me,{}),Object(r.jsx)(Qe,{})]})};function jt(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 1rem;\n\n    &:last-of-type {\n        margin-bottom: 4rem;\n    }\n"]);return jt=function(){return n},n}var mt=j.b.div(jt()),ft={name:""},pt=function(){var n=Object(l.f)(),e=Object(l.h)().id,t=an(),c=t.user,o=t.setUser,a=Object(i.useState)(ft),u=Object(z.a)(a,2),s=u[0],d=u[1],b=Object(i.useState)({}),j=Object(z.a)(b,2),m=j[0],f=j[1],p=Object(i.useState)(!1),h=Object(z.a)(p,2),O=h[0],x=h[1],v=function(){var n={};s.name||(n.name="Name is required.");return n}(),g=!Object.keys(v).length;return Object(r.jsxs)($,{onSubmit:function(t){if(t.preventDefault(),x(!0),g){var r=Object(E.a)(Object(E.a)({},c),{},{name:s.name,color:te()({luminosity:"light",hue:"blue"})});o(r),n.push("/selection/".concat(e))}},children:[Object(r.jsxs)(mt,{children:[Object(r.jsx)("label",{children:"Your name"}),Object(r.jsx)("input",{type:"text",name:"name",onChange:function(n){var e=n.target,t=e.name,r=e.value;d((function(n){return Object(E.a)(Object(E.a)({},n),{},Object(T.a)({},t,r))}))},onBlur:function(n){var e=n.target.name;f((function(n){return Object(E.a)(Object(E.a)({},n),{},Object(T.a)({},e,!0))}))}}),(m.name||O)&&v.name&&Object(r.jsx)(q,{children:v.name})]}),Object(r.jsx)(K,{children:"Get Started"})]})},ht=function(){return Object(r.jsxs)(Y,{children:[Object(r.jsx)(ne.a,{children:Object(r.jsx)("title",{children:"Join | Movie Swiper"})}),Object(r.jsx)(Z,{children:"Enter Your Name"}),Object(r.jsx)(Q,{children:"Enter your name before proceeding to movie selection."}),Object(r.jsx)(pt,{})]})};function Ot(){var n=Object(b.a)([""]);return Ot=function(){return n},n}function xt(){var n=Object(b.a)(["\n    line-height: 1.3;\n"]);return xt=function(){return n},n}function vt(){var n=Object(b.a)(["\n    padding: 0.75rem;\n    margin: ",";\n    border-radius: 4px;\n    display: inline-block;\n    max-width: 500px;\n    background: ",";\n    color: hsl(340deg 38% 94%);\n"]);return vt=function(){return n},n}var gt=j.b.div(vt(),(function(n){return n.margin||""}),(function(n){return n.backgroundColor||"var(--accent-active)"})),wt=j.b.p(xt()),yt=j.b.aside(Ot()),kt=function(n){var e=n.text,t=n.margin,i=n.backgroundColor,c=n.children;return c?Object(r.jsx)(gt,{margin:t,backgroundColor:i,children:Object(r.jsx)(yt,{children:c})}):Object(r.jsx)(gt,{margin:t,backgroundColor:i,children:Object(r.jsx)(wt,{children:e})})};function St(){var n=Object(b.a)(["\n    h2 {\n    }\n"]);return St=function(){return n},n}function It(){var n=Object(b.a)(["\n    margin-top: 0.5rem;\n    color: var(--white-muted);\n    font-weight: 500;\n    cursor: pointer;\n\n    span {\n        margin-right: 0.25rem;\n    }\n"]);return It=function(){return n},n}function Ct(){var n=Object(b.a)(["\n    white-space: ",";\n    overflow: ",";\n    text-overflow: ",";\n    max-width: ","; ;\n"]);return Ct=function(){return n},n}function Et(){var n=Object(b.a)(["\n    background-color: ",";\n    width: 12.5px;\n    height: 12.5px;\n    border-radius: 50%;\n    margin-right: 0.5rem;\n    flex-shrink: 0;\n"]);return Et=function(){return n},n}function zt(){var n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    color: var(--white-muted);\n"]);return zt=function(){return n},n}function Tt(){var n=Object(b.a)(["\n    list-style: none;\n    margin-top: 0.5rem;\n    padding: 0.5rem 0;\n\n    & > * + * {\n        margin-top: 0.5rem;\n    }\n"]);return Tt=function(){return n},n}var Mt=j.b.ul(Tt()),Rt=j.b.li(zt()),_t=j.b.div(Et(),(function(n){return n.color})),Nt=j.b.p(Ct(),(function(n){return 0===n.wrap&&"nowrap"}),(function(n){return 0===n.wrap&&"hidden"}),(function(n){return 0===n.wrap&&"ellipsis"}),(function(n){return 0===n.wrap&&"110px"})),Ft=j.b.button(It()),At=j.b.section(St()),Lt=function(n){var e=n.users,t=Object(i.useState)(!1),c=Object(z.a)(t,2),o=c[0],a=c[1];return e.length>3?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Mt,{children:[e.slice(0,3).map((function(n){return Object(r.jsxs)(Rt,{children:[Object(r.jsx)(_t,{color:n.color}),Object(r.jsx)(Nt,{wrap:0,children:n.name})]},n.id)})),Object(r.jsx)(Rt,{children:Object(r.jsxs)(Ft,{onClick:function(){return a(!0)},children:[Object(r.jsxs)("span",{children:["+",e.length-3]})," More"]})})]}),Object(r.jsx)(hn,{visible:o,onClose:function(){return a(!1)},height:300,children:Object(r.jsxs)(At,{children:[Object(r.jsx)("h2",{children:"Likes"}),Object(r.jsx)(Mt,{children:e.map((function(n){return Object(r.jsxs)(Rt,{children:[Object(r.jsx)(_t,{color:n.color}),Object(r.jsx)(Nt,{wrap:1,children:n.name})]},n.id)}))})]})})]}):Object(r.jsx)(Mt,{children:e.map((function(n){return Object(r.jsxs)(Rt,{children:[Object(r.jsx)(_t,{color:n.color}),Object(r.jsx)(Nt,{wrap:0,children:n.name})]},n.id)}))})};function Pt(){var n=Object(b.a)(["\n    font-size: 1rem;\n    margin-right: 0.5rem;\n"]);return Pt=function(){return n},n}function Dt(){var n=Object(b.a)(["\n    background: var(--blue-active);\n    width: 100%;\n    padding: 1rem;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n"]);return Dt=function(){return n},n}function Gt(){var n=Object(b.a)(["\n    width: 100%;\n    background: var(--blue-dark);\n    padding: 1rem 1.5rem;\n"]);return Gt=function(){return n},n}function Bt(){var n=Object(b.a)(["\n    font-size: 1.125rem;\n    font-weight: 600;\n    line-height: 1.3;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom: 1px solid var(--blue-active);\n    padding-bottom: 0.75rem;\n"]);return Bt=function(){return n},n}function Ut(){var n=Object(b.a)(["\n    font-weight: 600;\n    font-size: 1.25rem;\n    text-align: center;\n    padding: 0.5rem 1rem;\n    background: hsl(213deg 47% 48% / 90%);\n    position: absolute;\n    top: -1rem;\n    left: 50%;\n    transform: translateX(-50%);\n    display: flex;\n    align-items: baseline;\n    border-radius: 4px;\n\n    span {\n        font-size: 1rem;\n        font-weight: 500;\n        text-transform: uppercase;\n        letter-spacing: 1px;\n        margin-left: 0.5rem;\n    }\n"]);return Ut=function(){return n},n}function Vt(){var n=Object(b.a)(["\n    height: 230px;\n    object-fit: cover;\n    display: block;\n    border-radius: 4px;\n"]);return Vt=function(){return n},n}function Wt(){var n=Object(b.a)(["\n    position: relative;\n"]);return Wt=function(){return n},n}function Ht(){var n=Object(b.a)(["\n    display: flex;\n    position: relative;\n"]);return Ht=function(){return n},n}function Jt(){var n=Object(b.a)(["\n    border-right: 1px solid var(--blue-dark);\n    border-radius: 4px;\n    background: var(--blue-dark);\n"]);return Jt=function(){return n},n}var Yt=j.b.article(Jt()),$t=j.b.div(Ht()),qt=Object(j.b)(s.c.div)(Wt()),Zt=Object(j.b)(s.c.img)(Vt()),Qt=j.b.p(Ut()),Xt=j.b.h3(Bt()),Kt=j.b.div(Gt()),nr=Object(j.b)(X)(Dt()),er=Object(j.b)(Le.d)(Pt()),tr=function(n){var e=n.movie,t=Xn().setMoviePreview,i=Object(l.g)().pathname,c=e.swipes.filter((function(n){return n.liked})).map((function(n){return n.user}));return Object(r.jsxs)(Yt,{children:[Object(r.jsxs)($t,{children:[Object(r.jsxs)(qt,{children:[Object(r.jsxs)(Qt,{children:[c.length," ",Object(r.jsx)("span",{children:"likes"})]}),Object(r.jsx)(Zt,{src:rn(e.poster_path,"w500")})]}),Object(r.jsxs)(Kt,{children:[Object(r.jsx)(Xt,{children:e.title}),Object(r.jsx)(Lt,{users:c})]})]}),Object(r.jsxs)(nr,{onClick:function(){i.includes(e.id.toString())?t(null):t(e)},children:[Object(r.jsx)(er,{}),"Movie Details"]})]})};function rr(){var n=Object(b.a)(["\n    text-align: center;\n"]);return rr=function(){return n},n}function ir(){var n=Object(b.a)(["\n    display: grid;\n    gap: 4rem;\n    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n"]);return ir=function(){return n},n}var cr=j.b.section(ir()),or=j.b.p(rr()),ar=function(n){var e=n.movies;return e.length?Object(r.jsx)(cr,{children:e.map((function(n){return Object(r.jsx)(tr,{movie:n},n.id)}))}):Object(r.jsx)(or,{children:"No matches yet."})};function ur(){var n=Object(b.a)([""]);return ur=function(){return n},n}var sr=Object(j.b)(J)(ur()),dr=function(){var n=ln().room,e=n.movies.map((function(n){var e=n.swipes.reduce((function(n,e){return e.liked?n+1:n}),0);return Object(E.a)(Object(E.a)({},n),{},{likes:e})})).sort((function(n,e){return e.likes-n.likes})).filter((function(n){return n.likes>1})),t=function(){var e=n.participants.map((function(n){return n.id}));return n.movies.reduce((function(n,t){var r=t.swipes.map((function(n){return n.user.id}));return t.swipes.length>=e.length&&e.every((function(n){return r.includes(n)}))}),!0)?{text:"Everyone's done swiping. See the final results below.",backgroundColor:"var(--accent-purple)"}:{text:"Others are still swiping. Results may change.",backgroundColor:"hsla(0, 0%, 49.4%, 0.5)"}}(),i=t.text,c=t.backgroundColor;return Object(r.jsxs)(sr,{children:[Object(r.jsx)(ne.a,{children:Object(r.jsx)("title",{children:"Results | Movie Swiper"})}),Object(r.jsx)(Z,{children:"Final Results"}),Object(r.jsx)(Q,{children:"Only movies that 2 or more participants liked will show up here."}),Object(r.jsx)(kt,{text:i,margin:"0 0 4rem",backgroundColor:c}),Object(r.jsx)(ar,{movies:e})]})},lr=function(n){var e=ln().room,t=an().user,i=e.movies.find((function(e){return e.id===n.id})),c=(null===i||void 0===i?void 0:i.addedByUserId)===t.id;return{movieActionHandler:function(){if(i){if(i&&!c)return void cn({type:en.Custom,message:function(){return Object(r.jsxs)("span",{children:[Object(r.jsx)(nn,{children:n.title})," can only be removed by the person who added it."]})},duration:4e3});!function(n,e){N.emit("movie:remove",n,e)}({roomId:e.roomId,movieId:n.id},(function(e){e.success||d.b.error("There was a problem removing ".concat(n.title,"."))}))}else{var o=Object(E.a)(Object(E.a)({},n),{},{addedByUserId:t.id,swipes:[]});a={roomId:e.roomId,movie:o},u=function(e){e.success?cn({type:en.Success,message:function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("span",{children:["You added ",Object(r.jsx)(nn,{children:n.title}),"."]})})}}):(cn({type:en.Error,message:function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("span",{children:["There was a problem adding ",Object(r.jsx)(nn,{children:n.title}),"."]})})}}),d.b.error("There was a problem adding ".concat(n.title,".")))},N.emit("movie:add",a,u)}var a,u},buttonBackgroundColor:i?i&&!c?"hsl(213deg 6% 37% / 90%)":"var(--accent-dark-90)":"hsl(213deg 40% 49%)",movieInList:i}},br=t(90),jr=t(20),mr=t(60);function fr(){var n=Object(b.a)(["\n    display: none;\n    max-width: 300px;\n    background: ",";\n    padding: 0.5rem 1rem;\n    border-radius: 4px;\n    margin-bottom: 2rem;\n\n    @media screen and (min-width: 600px) {\n        display: flex;\n    }\n"]);return fr=function(){return n},n}function pr(){var n=Object(b.a)(["\n    display: none;\n    cursor: pointer;\n    position: absolute;\n    right: 1rem;\n    top: 1rem;\n\n    @media screen and (min-width: 600px) {\n        display: block;\n    }\n"]);return pr=function(){return n},n}function hr(){var n=Object(b.a)(["\n    font-size: 2rem;\n    color: var(--white-muted);\n"]);return hr=function(){return n},n}function Or(){var n=Object(b.a)(["\n    ","\n"]);return Or=function(){return n},n}function xr(){var n=Object(b.a)(["\n    ","\n"]);return xr=function(){return n},n}function vr(){var n=Object(b.a)(["\n    ","\n"]);return vr=function(){return n},n}function gr(){var n=Object(b.a)(["\n    margin-right: 1rem;\n    font-size: 1.125rem;\n"]);return gr=function(){return n},n}function wr(){var n=Object(b.a)(["\n    background: ",";\n    border-top-left-radius: 0;\n"]);return wr=function(){return n},n}function yr(){var n=Object(b.a)([""]);return yr=function(){return n},n}function kr(){var n=Object(b.a)(["\n    display: flex;\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: hsl(213deg 23% 25%);\n    box-shadow: 0 -2px 10px -1px rgb(0 0 0 / 30%);\n    margin-top: auto;\n\n    @media screen and (min-width: 600px) {\n        display: none;\n    }\n"]);return kr=function(){return n},n}function Sr(){var n=Object(b.a)(["\n    width: 100%;\n\n    @media screen and (min-width: 450px) {\n        height: 275px;\n    }\n\n    @media screen and (min-width: 600px) {\n        height: 500px;\n        margin-bottom: 3rem;\n    }\n"]);return Sr=function(){return n},n}function Ir(){var n=Object(b.a)(["\n    margin-left: 0.5rem;\n    color: #dada1b;\n"]);return Ir=function(){return n},n}function Cr(){var n=Object(b.a)(["\n    p {\n        display: flex;\n    }\n"]);return Cr=function(){return n},n}function Er(){var n=Object(b.a)(["\n    display: grid;\n    grid-gap: 1rem;\n    margin-bottom: 2rem;\n\n    @media screen and (min-width: 350px) {\n        grid-template-columns: repeat(2, minmax(130px, 200px));\n    }\n"]);return Er=function(){return n},n}function zr(){var n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n"]);return zr=function(){return n},n}function Tr(){var n=Object(b.a)(["\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    padding-bottom: 0.5rem;\n    margin-bottom: 1rem;\n    color: var(--gray);\n    border-bottom: 1px solid;\n    font-size: 0.875rem;\n"]);return Tr=function(){return n},n}function Mr(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    font-weight: 600;\n    margin-bottom: 0.5rem;\n"]);return Mr=function(){return n},n}function Rr(){var n=Object(b.a)(["\n    line-height: 1.7;\n    margin-bottom: 2rem;\n"]);return Rr=function(){return n},n}function _r(){var n=Object(b.a)(["\n    background: #495768;\n    color: var(--white);\n    padding: 0.125rem 0.75rem;\n    border-radius: 99px;\n"]);return _r=function(){return n},n}function Nr(){var n=Object(b.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    margin-bottom: 2rem;\n\n    & > * {\n        margin-top: 0.5rem;\n        margin-right: 0.5rem;\n    }\n"]);return Nr=function(){return n},n}function Fr(){var n=Object(b.a)(["\n    margin-bottom: 1rem;\n    color: var(--white-muted);\n"]);return Fr=function(){return n},n}function Ar(){var n=Object(b.a)(["\n    font-size: 3rem;\n    margin-bottom: 0.5rem;\n"]);return Ar=function(){return n},n}function Lr(){var n=Object(b.a)(["\n    height: auto;\n    min-height: 100%;\n    width: 100%;\n    position: relative;\n    padding: 2rem 2rem 6rem;\n\n    @media screen and (min-width: 600px) {\n        max-width: 800px;\n        max-height: 500px;\n        left: 0;\n        right: 0;\n        margin: auto;\n        border-radius: 4px;\n        padding: 3rem;\n    }\n"]);return Lr=function(){return n},n}function Pr(){var n=Object(b.a)(["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 100%;\n    width: 100%;\n    display: block;\n    object-fit: cover;\n    filter: brightness(0.25);\n    z-index: -1;\n\n    @media screen and (min-width: 600px) {\n        height: auto;\n    }\n"]);return Pr=function(){return n},n}function Dr(){var n=Object(b.a)(["\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    will-change: opacity;\n    z-index: 7;\n    overflow-y: scroll;\n\n    @media screen and (min-width: 600px) {\n        max-width: 800px;\n        max-height: 500px;\n        left: 0;\n        right: 0;\n        margin: auto;\n        background: rgba(0, 0, 0, 0.5);\n        border-radius: 4px;\n    }\n"]);return Dr=function(){return n},n}function Gr(){var n=Object(b.a)(["\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0);\n    will-change: opacity;\n    z-index: 6;\n\n    @media screen and (min-width: 600px) {\n        background: rgba(0, 0, 0, 0.5);\n    }\n"]);return Gr=function(){return n},n}var Br=Object(j.b)(s.c.div)(Gr()),Ur=Object(j.b)(s.c.section)(Dr()),Vr=Object(j.b)(s.c.img)(Pr()),Wr=Object(j.b)(s.c.article)(Lr()),Hr=Object(j.b)(s.c.h3)(Ar()),Jr=j.b.p(Fr()),Yr=j.b.div(Nr()),$r=j.b.p(_r()),qr=j.b.p(Rr()),Zr=j.b.p(Mr()),Qr=j.b.p(Tr()),Xr=j.b.p(zr()),Kr=j.b.div(Er()),ni=j.b.div(Cr()),ei=Object(j.b)(br.a)(Ir()),ti=j.b.iframe(Sr()),ri=Object(j.b)(s.c.div)(kr()),ii=Object(j.b)(X)(yr()),ci=Object(j.b)(X)(wr(),(function(n){return n.backgroundColor||"var(--blue-action)"})),oi=Object(j.a)(gr()),ai=Object(j.b)(mr.a)(vr(),oi),ui=Object(j.b)(jr.c)(xr(),oi),si=Object(j.b)(jr.b)(Or(),oi),di=Object(j.b)(mr.b)(hr()),li=j.b.button(pr()),bi=Object(j.b)(X)(fr(),(function(n){return n.backgroundColor||"var(--blue-action)"})),ji=function(n){var e,t,c,o=n.movie,a=Object(l.f)(),u=ln().room,d=lr(o),b=d.movieActionHandler,j=d.buttonBackgroundColor,m=d.movieInList,p=Xn().setMoviePreview,h=Object(i.useState)(null),O=Object(z.a)(h,2),x=O[0],v=O[1],g=Object(i.useState)(!1),w=Object(z.a)(g,2),y=(w[0],w[1]),k=rn(o.poster_path,"w500"),S=x&&(null===x||void 0===x||null===(e=x.videos)||void 0===e||null===(t=e.results)||void 0===t?void 0:t.find((function(n){return"Trailer"===n.type&&"YouTube"===n.site}))),I="https://www.youtube.com/embed/".concat(null===S||void 0===S?void 0:S.key),C=a.location.pathname.includes(f.SELECTION),E=function(){p(null)};Object(i.useEffect)((function(){var n=function(n){"Escape"===n.key&&a.push("/selection/".concat(u.roomId))};return window.addEventListener("keydown",n),window.removeEventListener("keydown",n)}),[]),Object(i.useEffect)((function(){return M(),document.body.style.overflow="hidden",function(){T.cancel("Component got unmounted"),document.body.style.overflow="unset"}}),[o]);var T=Ae.a.CancelToken.source(),M=function(){var n=Object(Ne.a)(_e.a.mark((function n(){var e;return _e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,y(!0),n.next=4,Ae.a.get("/movies/".concat(o.id),{cancelToken:T.token});case 4:200===(e=n.sent).status&&v(e.data),y(!1),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),T.cancel("Error in try catch block."),console.log(n.t0),y(!1);case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return Object(r.jsx)(Br,{"data-overlay":!0,onClick:function(n){n.target.attributes["data-overlay"]&&p(null)},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:0}},children:Object(r.jsx)(Ur,{children:Object(r.jsxs)(Wr,{initial:{opacity:0},animate:{opacity:1},layoutId:"image-".concat(o.id),children:[Object(r.jsx)(li,{onClick:E,children:Object(r.jsx)(di,{})}),Object(r.jsx)(Vr,{src:k,alt:"Movie poster for ".concat(o.title,".")}),Object(r.jsx)(s.a,{children:x&&Object(r.jsxs)(s.c.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,delay:.25},children:[C&&Object(r.jsxs)(bi,{onClick:b,backgroundColor:j,children:[" ",!m&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ui,{})," Add Movie"]}),m&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(si,{})," Remove Movie"]})]}),Object(r.jsx)(Hr,{children:x.title}),Object(r.jsx)(Jr,{children:x.tagline}),Object(r.jsx)(Yr,{children:null===(c=x.genres)||void 0===c?void 0:c.map((function(n){return Object(r.jsx)($r,{children:n.name},n.id)}))}),Object(r.jsx)(Zr,{children:"Overview"}),Object(r.jsx)(qr,{children:x.overview}),Object(r.jsx)(Qr,{children:"Details"}),Object(r.jsxs)(Kr,{children:[Object(r.jsxs)(ni,{children:[Object(r.jsx)(Zr,{children:"Rating"}),Object(r.jsxs)(Xr,{children:[x.vote_average," ",Object(r.jsx)(ei,{})]})]}),Object(r.jsxs)(ni,{children:[Object(r.jsx)(Zr,{children:"Runtime"}),Object(r.jsxs)("p",{children:[x.runtime," min"]})]}),Object(r.jsxs)(ni,{children:[Object(r.jsx)(Zr,{children:"Released"}),Object(r.jsx)("p",{children:x.release_date})]}),Object(r.jsxs)(ni,{children:[Object(r.jsx)(Zr,{children:"Language"}),Object(r.jsx)("p",{children:x.original_language.toUpperCase()})]})]}),S&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Qr,{children:"Trailer"}),Object(r.jsx)(ti,{src:I,frameBorder:"0",allowFullScreen:!0})]}),Object(r.jsxs)(ri,{initial:{opacity:0,y:50},animate:{opacity:1,y:0,transition:{duration:.75}},children:[Object(r.jsxs)(ii,{onClick:E,children:[Object(r.jsx)(ai,{}),"Go Back"]}),C&&Object(r.jsxs)(ci,{onClick:b,backgroundColor:j,children:[!m&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(ui,{})," Add Movie"]}),m&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(si,{})," Remove"]})]})]})]})})]})})})};function mi(){var n=Object(b.a)(["\n    background: var(--blue-action);\n    padding: 0.5rem 1.25rem;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n"]);return mi=function(){return n},n}function fi(){var n=Object(b.a)(["\n    display: flex;\n\n    input {\n        padding: 0.5rem;\n        border-radius: 4px;\n        flex-basis: 65%;\n        text-overflow: ellipsis;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n"]);return fi=function(){return n},n}function pi(){var n=Object(b.a)(["\n    color: var(--white-muted);\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 0.875rem;\n    margin-bottom: 0.5rem;\n    display: inline-block;\n"]);return pi=function(){return n},n}function hi(){var n=Object(b.a)(["\n    margin-bottom: 2rem;\n\n    @media (min-width: 800px) {\n        max-width: 400px;\n    }\n"]);return hi=function(){return n},n}var Oi=j.b.aside(hi()),xi=j.b.label(pi()),vi=j.b.div(fi()),gi=Object(j.b)(X)(mi()),wi=function(){var n=Object(i.useRef)(null);return Object(r.jsxs)(Oi,{children:[Object(r.jsx)(xi,{children:"Invite Link"}),Object(r.jsxs)(vi,{children:[Object(r.jsx)("input",{type:"text",name:"link",defaultValue:window.location.href,ref:n,onClick:function(){var e;null===(e=n.current)||void 0===e||e.select()},readOnly:!0}),Object(r.jsx)(gi,{onClick:function(){navigator.clipboard.writeText(window.location.href),cn({type:en.Custom,message:"Copied to clipboard."})},children:"Copy"})]})]})};function yi(){var n=Object(b.a)(["\n    position: ",";\n    left: 0;\n    right: 0;\n    bottom: -3px;\n    display: flex;\n    box-shadow: 0 -2px 10px -1px rgb(0 0 0 / 30%);\n    width: 100%;\n    z-index: 4;\n\n    @media screen and (min-width: 600px) {\n        margin: auto;\n        width: fit-content;\n        bottom: 1rem;\n    }\n"]);return yi=function(){return n},n}var ki=Object(j.b)(s.c.div)(yi(),(function(n){return n.position||"fixed"})),Si={initial:{y:75,opacity:0},animate:{y:0,opacity:1,transition:{duration:.5,delay:1}}},Ii=function(n){var e=n.position,t=n.children;return Object(r.jsx)(ki,{variants:Si,initial:"initial",animate:"animate",position:e,children:t})},Ci=t(91);function Ei(){var n=Object(b.a)(["\n    background: var(--accent-purple);\n    padding: 0.75rem 1rem;\n    width: 100%;\n    margin-top: 2rem;\n"]);return Ei=function(){return n},n}function zi(){var n=Object(b.a)(["\n    line-height: 1.3;\n    margin-bottom: 2rem;\n"]);return zi=function(){return n},n}function Ti(){var n=Object(b.a)(["\n    padding: 0 1rem;\n    h2 {\n        font-size: 1.5rem;\n        font-weight: 600;\n        margin-bottom: 1rem;\n        display: flex;\n        align-items: center;\n    }\n\n    ul {\n        margin-bottom: 2rem;\n        & > * + * {\n            margin-top: 1rem;\n        }\n    }\n\n    li {\n        list-style: none;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        font-size: 1.125rem;\n\n        div {\n            display: flex;\n            align-items: center;\n        }\n\n        p {\n            text-transform: uppercase;\n            letter-spacing: 1px;\n            font-size: 0.875rem;\n            color: var(--white-muted);\n        }\n    }\n"]);return Ti=function(){return n},n}function Mi(){var n=Object(b.a)(["\n    margin-bottom: 1rem;\n    color: var(--white-muted);\n"]);return Mi=function(){return n},n}function Ri(){var n=Object(b.a)(["\n    flex: 30%;\n    background: var(--blue-dark-bg);\n    outline: none;\n    border-radius: 0;\n    border-top-left-radius: 4px;\n    border-bottom-left-radius: 4px;\n\n    span {\n        width: 20px;\n    }\n"]);return Ri=function(){return n},n}function _i(){var n=Object(b.a)(["\n    background: ",";\n"]);return _i=function(){return n},n}function Ni(){var n=Object(b.a)(["\n    background: ",";\n    color: ",";\n    transition: all ease-in 250ms;\n    flex: 70%;\n    outline: none;\n    border-radius: 0;\n    border-top-right-radius: 4px;\n    border-bottom-right-radius: 4px;\n\n    & "," {\n        transition: all ease-in 250ms;\n        color: ",";\n    }\n\n    @media screen and (min-width: 600px) {\n        padding: 1rem 2rem;\n        white-space: nowrap;\n    }\n"]);return Ni=function(){return n},n}function Fi(){var n=Object(b.a)(["\n    ","\n    font-size: 1rem;\n"]);return Fi=function(){return n},n}function Ai(){var n=Object(b.a)(["\n    ","\n"]);return Ai=function(){return n},n}function Li(){var n=Object(b.a)(["\n    ","\n"]);return Li=function(){return n},n}function Pi(){var n=Object(b.a)(["\n    ","\n"]);return Pi=function(){return n},n}function Di(){var n=Object(b.a)(["\n    ","\n"]);return Di=function(){return n},n}function Gi(){var n=Object(b.a)(["\n    ","\n"]);return Gi=function(){return n},n}function Bi(){var n=Object(b.a)(["\n    ","\n    margin-right: 0.5rem;\n"]);return Bi=function(){return n},n}function Ui(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    margin-right: 1rem;\n    width: 20px;\n"]);return Ui=function(){return n},n}function Vi(){var n=Object(b.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: -3px;\n    display: flex;\n    box-shadow: 0 -2px 10px -1px rgb(0 0 0 / 30%);\n    width: 100%;\n    z-index: 4;\n\n    @media screen and (min-width: 600px) {\n        margin: auto;\n        width: fit-content;\n        bottom: 1rem;\n    }\n"]);return Vi=function(){return n},n}j.b.div(Vi());var Wi=Object(j.a)(Ui()),Hi=Object(j.b)(R.f)(Bi(),Wi),Ji=Object(j.b)(Le.a)(Gi(),Wi),Yi=Object(j.b)(Le.b)(Di(),Wi),$i=(Object(j.b)(Ci.a)(Pi(),Wi),Object(j.b)(Le.e)(Li(),Wi)),qi=Object(j.b)(R.a)(Ai(),Wi),Zi=Object(j.b)(R.e)(Fi(),Wi),Qi=Object(j.b)(X)(Ni(),(function(n){return n.disable?"#808080":"var(--accent-purple)"}),(function(n){return n.disable?"#cbc8c8":"var(--white)"}),$i,(function(n){return n.disable&&"#a9a9a9"})),Xi=Object(j.b)(Qi)(_i(),(function(n){return n.$ready?"var(--accent-purple)":"var(--blue-active)"})),Ki=Object(j.b)(X)(Ri()),nc=(j.b.p(Mi()),j.b.div(Ti())),ec=(j.b.p(zi()),Object(j.b)(X)(Ei())),tc=function(){var n,e=ln().room,t=an().user,c=Object(l.f)(),o=Object(i.useState)(!1),a=Object(z.a)(o,2),u=a[0],s=a[1],b=Object(i.useState)(!1),j=Object(z.a)(b,2),m=j[0],f=j[1],p=e.participants.find((function(n){return n.id===e.ownerId})),h=null===(n=e.participants.find((function(n){return n.id===t.id})))||void 0===n?void 0:n.ready,O=e.participants.filter((function(n){return n.ready&&n.id!==e.ownerId})),x=!e.movies.length||!O.length,v=Object(i.useRef)(),g=Object(i.useRef)();return Object(i.useEffect)((function(){return function(){v.current&&(d.b.dismiss(v.current),v.current=void 0)}}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Ii,{position:"fixed",children:[Object(r.jsxs)(Ki,{onClick:function(n){n.stopPropagation(),s(!0)},children:[Object(r.jsx)(Hi,{})," ",Object(r.jsx)("span",{children:O.length})]}),p&&p.id===t.id?Object(r.jsxs)(Qi,{onClick:function(){x?e.participants.length<=1?cn({type:en.Custom,message:"Invite participants to start."}):e.movies.length?O.length||cn({type:en.Custom,message:"Wait for participants to be ready.",duration:3e3}):cn({type:en.Custom,message:"Add movies to the list to start.",duration:3e3}):f(!0)},disable:x,children:[Object(r.jsx)($i,{}),"Start Swiping"]}):Object(r.jsxs)(Xi,{onClick:function(){var n,r;v.current&&d.b.dismiss(v.current),clearTimeout(g.current),n={roomId:e.roomId,userId:t.id},r=function(n){n.success&&!h&&(cn({type:en.Success,message:"The room owner has been notified.",duration:2500}),g.current=window.setTimeout((function(){return v.current=cn({type:en.Loading,message:"Waiting for room owner to start.",duration:99999})}),2500))},N.emit("user:ready",n,r)},$ready:Boolean(h),children:[h?Object(r.jsx)(Ji,{}):Object(r.jsx)(Yi,{}),"Ready To Swipe"]})]}),Object(r.jsx)(hn,{visible:u,onClose:function(){return s(!1)},height:300,maxWidth:400,children:Object(r.jsxs)(nc,{children:[Object(r.jsx)("h2",{children:"Participants"}),Object(r.jsx)("ul",{children:e.participants.map((function(n){return n.id===e.ownerId?Object(r.jsxs)("li",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(qi,{}),n.name]}),Object(r.jsx)("p",{children:"Owner"})]},n.id):Object(r.jsxs)("li",{children:[Object(r.jsxs)("div",{children:[n.ready?Object(r.jsx)(Hi,{style:{marginRight:"1rem"}}):Object(r.jsx)(Zi,{})," ",n.name]}),n.ready&&Object(r.jsx)("p",{children:"Ready"})]},n.id)}))})]})}),Object(r.jsx)(hn,{visible:m,onClose:function(){return f(!1)},height:280,maxWidth:400,children:Object(r.jsxs)(nc,{children:[Object(r.jsx)("h2",{children:"Start Swiping"}),Object(r.jsxs)("ol",{children:[Object(r.jsx)("li",{children:"This action will move everyone in the group to the swiping stage."}),Object(r.jsx)("br",{}),Object(r.jsx)("li",{children:"Once in this stage, group members won't be allowed to go back and add more movies."})]}),Object(r.jsx)(ec,{onClick:function(){var n,t;n={roomId:e.roomId},N.emit("swiper:start",n,t),c.replace("/swiper/".concat(e.roomId))},children:"Start"})]})})]})};function rc(){var n=Object(b.a)(["\n    display: ",";\n"]);return rc=function(){return n},n}function ic(){var n=Object(b.a)(["\n    background: none;\n    border: none;\n    cursor: pointer;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 0.875rem;\n    font-weight: ",";\n    border-bottom: ",";\n    background: ",";\n    color: var(--white);\n    padding: 1rem;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n"]);return ic=function(){return n},n}function cc(){var n=Object(b.a)(["\n    display: flex;\n    margin-bottom: 2rem;\n\n    & > * {\n        flex: 1;\n    }\n"]);return cc=function(){return n},n}var oc=j.b.nav(cc()),ac=j.b.button(ic(),(function(n){return n.selected?500:400}),(function(n){return!n.selected&&"2px solid var(--blue-active)"}),(function(n){return n.selected&&"var(--blue-active)"})),uc=j.b.section(rc(),(function(n){return n.show?"block":"none"})),sc=function(n){var e=n.tabs,t=n.children,c=Object(i.useState)(0),o=Object(z.a)(c,2),a=o[0],u=o[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(oc,{children:e.map((function(n,e){return Object(r.jsx)(ac,{selected:a===e,onClick:function(n){return function(n){u(n)}(e)},children:n},e)}))}),t.map((function(n,e){return Object(r.jsx)(uc,{show:a===e,children:n},e)}))]})},dc=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function lc(){var n=Object(b.a)(["\n    font-size: 1.125rem;\n    margin-right: 0.5rem;\n"]);return lc=function(){return n},n}function bc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return bc=function(){return n},n}function jc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return jc=function(){return n},n}function mc(){var n=Object(b.a)(["\n    position: absolute;\n    top: 1rem;\n    left: 1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: ",";\n    border-radius: 50%;\n    padding: 0.25rem;\n    box-shadow: 0 10px 20px rgb(0 0 0 / 19%), 0 6px 6px rgb(0 0 0 / 23%);\n    cursor: pointer;\n    z-index: 2;\n"]);return mc=function(){return n},n}function fc(){var n=Object(b.a)(["\n    font-size: 1rem;\n    width: 100%;\n    padding: 0.5rem 1rem;\n    background: #445970;\n    position: absolute;\n    bottom: 0rem;\n    left: 0;\n    right: 0;\n    margin: auto;\n    z-index: 1;\n"]);return fc=function(){return n},n}function pc(){var n=Object(b.a)(["\n    line-height: 1.3;\n    position: relative;\n\n    /* &:after {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(\n            to top,\n            hsl(210, 38%, 15%) 0%,\n            hsla(210, 38%, 15%, 1) 18.7%,\n            hsla(210, 38%, 15%, 1) 34.8%,\n            hsla(210, 38%, 15%, 1) 48.6%,\n            hsla(210, 38%, 15%, 1) 60.3%,\n            hsla(210, 38%, 15%, 1) 69.9%,\n            hsla(210, 38%, 15%, 0.626) 77.8%,\n            hsla(210, 38%, 15%, 0.562) 84.1%,\n            hsla(210, 38%, 15%, 0.497) 89%,\n            hsla(210, 38%, 15%, 0.431) 92.7%,\n            hsla(210, 38%, 15%, 0.364) 95.4%,\n            hsla(210, 38%, 15%, 0.295) 97.2%,\n            hsla(210, 38%, 15%, 0.224) 98.4%,\n            hsla(210, 38%, 15%, 0.151) 99.2%,\n            hsla(210, 38%, 15%, 0.077) 99.6%,\n            hsla(210, 38%, 15%, 0) 100%\n        );\n\n        linear-gradient(\n            to bottom,\n            hsla(210, 38%, 15%, 0) 0%,\n            hsla(210, 38%, 15%, 0.106) 8.1%,\n            hsla(210, 38%, 15%, 0.2) 14.7%,\n            hsla(210, 38%, 15%, 0.284) 20%,\n            hsla(210, 38%, 15%, 0.358) 24.4%,\n            hsla(210, 38%, 15%, 0.426) 28.1%,\n            hsla(210, 38%, 15%, 0.487) 31.6%,\n            hsla(210, 38%, 15%, 0.544) 35.1%,\n            hsla(210, 38%, 15%, 0.598) 38.8%,\n            hsla(210, 38%, 15%, 0.649) 43.2%,\n            hsla(210, 38%, 15%, 0.701) 48.5%,\n            hsla(210, 38%, 15%, 0.753) 55.1%,\n            hsla(210, 38%, 15%, 0.808) 63.2%,\n            hsla(210, 38%, 15%, 0.866) 73.2%,\n            hsla(210, 38%, 15%, 0.93) 85.3%,\n            hsl(210, 38%, 15%) 100%\n        );\n    } */\n"]);return pc=function(){return n},n}function hc(){var n=Object(b.a)(["\n    font-size: 0.875rem;\n    margin-right: 0.5rem;\n\n    @media screen and (min-width: 800px) {\n        font-size: 1rem;\n        margin-right: 1rem;\n    }\n"]);return hc=function(){return n},n}function Oc(){var n=Object(b.a)(["\n    display: flex;\n    margin-bottom: 0.5rem;\n\n    @media screen and (min-width: 800px) {\n        margin-bottom: 1rem;\n    }\n"]);return Oc=function(){return n},n}function xc(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    margin-bottom: 0.5rem;\n\n    @media screen and (min-width: 800px) {\n        font-size: 2rem;\n    }\n"]);return xc=function(){return n},n}function vc(){var n=Object(b.a)(["\n    overflow: hidden;\n    position: relative;\n\n    &:after {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(\n            to top,\n            hsl(210, 38%, 15%) 0%,\n            hsla(210, 38%, 15%, 0.941) 25%,\n            hsla(210, 38%, 15%, 0.881) 28%,\n            hsla(210, 38%, 15%, 0.819) 32%,\n            hsla(210, 38%, 15%, 0.756) 36%,\n            hsla(210, 38%, 15%, 0.692) 41.3%,\n            hsla(210, 38%, 15%, 0.626) 45.7%,\n            hsla(210, 38%, 15%, 0.56) 49.6%,\n            hsla(210, 38%, 15%, 0.492) 53.3%,\n            hsla(210, 38%, 15%, 0.424) 57.2%,\n            hsla(210, 38%, 15%, 0.355) 61.4%,\n            hsla(210, 38%, 15%, 0.285) 66.4%,\n            hsla(210, 38%, 15%, 0.214) 72.4%,\n            hsla(210, 38%, 15%, 0.143) 79.8%,\n            hsla(210, 38%, 15%, 0.072) 88.9%,\n            hsla(210, 38%, 15%, 0) 100%\n        );\n    }\n"]);return vc=function(){return n},n}function gc(){var n=Object(b.a)(["\n    max-width: 30%;\n    object-fit: cover;\n    display: block;\n    border-radius: 4px;\n    margin-right: 1rem;\n\n    @media screen and (min-width: 600px) {\n        margin-right: 2rem;\n    }\n"]);return gc=function(){return n},n}function wc(){var n=Object(b.a)(["\n    display: flex;\n    position: relative;\n    height: 250px;\n    cursor: pointer;\n\n    @media screen and (min-width: 800px) {\n        height: 300px;\n    }\n"]);return wc=function(){return n},n}var yc=j.b.article(wc()),kc=Object(j.b)(s.c.img)(gc()),Sc=j.b.article(vc()),Ic=j.b.h3(xc()),Cc=j.b.div(Oc()),Ec=Object(j.b)($r)(hc()),zc=j.b.p(pc()),Tc=Object(j.b)(X)(fc()),Mc=j.b.button(mc(),(function(n){return n.backgroundColor||"#4c7fbd"})),Rc=Object(j.b)(jr.c)(jc()),_c=Object(j.b)(jr.b)(bc()),Nc=Object(j.b)(Le.d)(lc()),Fc=function(n){var e=n.movie,t=n.allowActions,i=Xn().setMoviePreview,c=Object(l.f)(),o=lr(e),a=o.movieInList,u=o.movieActionHandler,s=o.buttonBackgroundColor,d=e.genre_ids.map((function(n){return dc.find((function(e){return e.id===n}))})),b=function(){c.location.pathname.includes(e.id.toString())?i(null):i(e)};return Object(r.jsxs)(yc,{onClick:b,role:"button",children:[t&&Object(r.jsxs)(Mc,{onClick:function(n){n.stopPropagation(),u()},backgroundColor:s,children:[!a&&Object(r.jsx)(Rc,{}),a&&Object(r.jsx)(_c,{})]}),Object(r.jsx)(kc,{src:rn(e.poster_path,"w342"),alt:e.title})," ",Object(r.jsxs)(Sc,{children:[Object(r.jsx)(Ic,{children:e.title}),Object(r.jsx)(Cc,{children:null===d||void 0===d?void 0:d.slice(0,2).map((function(n){return Object(r.jsx)(Ec,{children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))}),Object(r.jsx)(zc,{children:e.overview}),Object(r.jsxs)(Tc,{onClick:b,children:[Object(r.jsx)(Nc,{}),"See More"]})]})]})};function Ac(){var n=Object(b.a)(["\n    text-align: center;\n    margin: 4rem 0;\n\n    @media (min-width: 700px) {\n        font-size: 1.25rem;\n    }\n"]);return Ac=function(){return n},n}function Lc(){var n=Object(b.a)(["\n    display: grid;\n    gap: 2rem;\n    margin-bottom: 4rem;\n\n    & > *:not(:last-child) {\n        padding-bottom: 2rem;\n        border-bottom: 1px solid hsl(212deg 22% 43% / 38%);\n    }\n\n    @media screen and (min-width: 800px) {\n        grid-template-columns: repeat(2, 1fr);\n        gap: 4rem;\n\n        & > *:not(:last-child) {\n            padding-bottom: 0;\n            border-bottom: none;\n        }\n    }\n"]);return Lc=function(){return n},n}var Pc=j.b.section(Lc()),Dc=j.b.p(Ac()),Gc=function(n){var e=n.movies,t=n.allowActions;return e.length?Object(r.jsx)(Pc,{children:e.map((function(n){return Object(r.jsx)(Fc,{movie:n,allowActions:t},n.id)}))}):Object(r.jsx)(Dc,{children:"No movies in the list."})},Bc={page:0,results:[],total_results:0,total_pages:0},Uc=function(n){var e=n.genres,t=n.movieQuery,r=Object(i.useState)(!1),c=Object(z.a)(r,2),o=c[0],a=c[1],u=Object(i.useState)(null),s=Object(z.a)(u,2),d=s[0],l=s[1],b=Object(i.useState)({query:Bc,genres:Bc}),j=Object(z.a)(b,2),m=j[0],f=j[1],p=Ae.a.CancelToken.source();return Object(i.useEffect)((function(){return function(){var n=Object(Ne.a)(_e.a.mark((function n(){var e;return _e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=15;break}return n.prev=1,a(!0),n.next=5,Ae.a.get("/movies/query/".concat(t),{cancelToken:p.token});case 5:200===(e=n.sent).status&&f(Object(E.a)(Object(E.a)({},m),{},{query:e.data})),a(!1),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(1),p.cancel("Error in try catch block."),l(!0),a(!1);case 15:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(){return n.apply(this,arguments)}}()(),function(){p.cancel("Component got unmounted")}}),[t]),Object(i.useEffect)((function(){return function(){var n=Object(Ne.a)(_e.a.mark((function n(){var t;return _e.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(!0),n.next=4,Ae.a.post("/movies/genres",{genres:e,cancelToken:p.token});case 4:200===(t=n.sent).status&&f(Object(E.a)(Object(E.a)({},m),{},{genres:t.data})),a(!1),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),p.cancel("Error in try catch block."),l(!0),a(!1);case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}()(),function(){p.cancel("Component got unmounted")}}),[e]),{loading:o,error:d,movies:m}};function Vc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return Vc=function(){return n},n}function Wc(){var n=Object(b.a)(["\n    position: absolute;\n    top: 1rem;\n    left: 1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: hsl(213deg 40% 49%);\n    border-radius: 50%;\n    padding: 0.25rem;\n    box-shadow: 0 10px 20px rgb(0 0 0 / 19%), 0 6px 6px rgb(0 0 0 / 23%);\n    cursor: pointer;\n"]);return Wc=function(){return n},n}function Hc(){var n=Object(b.a)(["\n    border-radius: 4px;\n    background: var(--blue-active);\n    position: relative;\n"]);return Hc=function(){return n},n}var Jc=j.b.div(Hc()),Yc=j.b.button(Wc()),$c=Object(j.b)(jr.c)(Vc()),qc=function(){return Object(r.jsx)(Jc,{children:Object(r.jsx)(Yc,{children:Object(r.jsx)($c,{})})})};function Zc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return Zc=function(){return n},n}function Qc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return Qc=function(){return n},n}function Xc(){var n=Object(b.a)(["\n    position: absolute;\n    top: 1rem;\n    left: 1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: ",";\n    border-radius: 50%;\n    padding: 0.25rem;\n    box-shadow: 0 10px 20px rgb(0 0 0 / 19%), 0 6px 6px rgb(0 0 0 / 23%);\n    cursor: pointer;\n    z-index: 2;\n"]);return Xc=function(){return n},n}function Kc(){var n=Object(b.a)(["\n    border-radius: 4px;\n    width: 100%;\n    padding: 1rem;\n    margin-top: auto;\n    font-weight: 500;\n    text-align: center;\n    line-height: 1.3;\n    background: #00000038;\n    background: linear-gradient(\n        to bottom,\n        hsla(0, 0%, 0%, 0) 0%,\n        hsla(0, 0%, 0%, 0.007) 7.9%,\n        hsla(0, 0%, 0%, 0.028) 15%,\n        hsla(0, 0%, 0%, 0.062) 21.4%,\n        hsla(0, 0%, 0%, 0.105) 27.3%,\n        hsla(0, 0%, 0%, 0.158) 32.8%,\n        hsla(0, 0%, 0%, 0.218) 38.1%,\n        hsla(0, 0%, 0%, 0.284) 43.3%,\n        hsla(0, 0%, 0%, 0.354) 48.5%,\n        hsla(0, 0%, 0%, 0.427) 54%,\n        hsla(0, 0%, 0%, 0.5) 59.9%,\n        hsla(0, 0%, 0%, 0.574) 66.2%,\n        hsla(0, 0%, 0%, 0.645) 73.3%,\n        hsla(0, 0%, 0%, 0.712) 81.2%,\n        hsla(0, 0%, 0%, 0.775) 90%,\n        hsla(0, 0%, 0%, 0.83) 100%\n    );\n    z-index: 1;\n"]);return Kc=function(){return n},n}function no(){var n=Object(b.a)(["\n    border-radius: 4px;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 100%;\n    width: 100%;\n    display: block;\n    object-fit: cover;\n    z-index: 0;\n"]);return no=function(){return n},n}function eo(){var n=Object(b.a)(["\n    height: 100%;\n    width: 100%;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return eo=function(){return n},n}function to(){var n=Object(b.a)(["\n    height: 100% !important;\n    width: 100%;\n    cursor: pointer;\n    z-index: ",";\n\n    &:focus {\n        outline: none;\n    }\n\n    &:before {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(\n            to bottom,\n            hsla(0, 0%, 0%, 0) 0%,\n            hsla(0, 0%, 0%, 0.041) 7%,\n            hsla(0, 0%, 0%, 0.082) 13.5%,\n            hsla(0, 0%, 0%, 0.124) 19.4%,\n            hsla(0, 0%, 0%, 0.166) 25%,\n            hsla(0, 0%, 0%, 0.208) 30.4%,\n            hsla(0, 0%, 0%, 0.251) 35.6%,\n            hsla(0, 0%, 0%, 0.295) 40.9%,\n            hsla(0, 0%, 0%, 0.339) 46.4%,\n            hsla(0, 0%, 0%, 0.385) 52.1%,\n            hsla(0, 0%, 0%, 0.431) 58.3%,\n            hsla(0, 0%, 0%, 0.479) 65%,\n            hsla(0, 0%, 0%, 0.527) 72.4%,\n            hsla(0, 0%, 0%, 0.577) 80.6%,\n            hsla(0, 0%, 0%, 0.628) 89.8%,\n            hsla(0, 0%, 0%, 0.68) 100%\n        );\n        z-index: 1;\n    }\n"]);return to=function(){return n},n}function ro(){var n=Object(b.a)(["\n    position: relative;\n    border-radius: 4px;\n    height: 100%;\n"]);return ro=function(){return n},n}var io=Object(j.b)(s.c.article)(ro()),co=Object(j.b)(s.c.button)(to(),(function(n){return n.zIndex||0})),oo=Object(j.b)(s.c.div)(eo()),ao=Object(j.b)(s.c.img)(no()),uo=Object(j.b)(s.c.h3)(Kc()),so=j.b.button(Xc(),(function(n){return n.backgroundColor||"#4c7fbd"})),lo=Object(j.b)(jr.c)(Qc()),bo=Object(j.b)(jr.b)(Zc()),jo=function(n){var e=n.movie,t=Object(l.f)(),c=fn().width,o=Xn().setMoviePreview,a=ln().room,u=Object(i.useState)(0),s=Object(z.a)(u,2),d=s[0],b=s[1],j=rn(e.poster_path,"w342"),m=lr(e),f=m.movieActionHandler,p=m.buttonBackgroundColor,h=m.movieInList,O=c>700?"undefined":"image-".concat(e.id);return Object(r.jsxs)(io,{layout:!0,children:[Object(r.jsx)(co,{onClick:function(){t.location.pathname.includes(e.id.toString())?t.push("/selection/".concat(a.roomId)):(b(2),o(e))},layoutId:O,zIndex:d,children:Object(r.jsxs)(oo,{children:[Object(r.jsx)(ao,{src:j,alt:"Movie poster for ".concat(e.title,".")}),Object(r.jsx)(uo,{children:e.title})]})}),Object(r.jsxs)(so,{onClick:f,backgroundColor:p,children:[!h&&Object(r.jsx)(lo,{}),h&&Object(r.jsx)(bo,{})]})]})};function mo(){var n=Object(b.a)(["\n    text-align: center;\n    margin: 4rem 0;\n\n    @media (min-width: 700px) {\n        font-size: 1.25rem;\n    }\n"]);return mo=function(){return n},n}function fo(){var n=Object(b.a)(["\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    grid-gap: 0.5rem;\n\n    & > * {\n        min-height: 300px;\n    }\n\n    @media screen and (min-width: 700px) {\n        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n\n        & > * {\n            min-height: 300px;\n        }\n    }\n"]);return fo=function(){return n},n}var po=j.b.div(fo()),ho=j.b.p(mo()),Oo=function(n){var e=n.movies,t=n.loading,i=e.results||[];return t?Object(r.jsx)(po,{children:Array.from(Array(20).keys()).map((function(n,e){return Object(r.jsx)(qc,{},e)}))}):(null===i||void 0===i?void 0:i.length)?Object(r.jsx)(po,{children:i.map((function(n){return Object(r.jsx)(jo,{movie:n},n.id)}))}):Object(r.jsx)(ho,{children:"No movies found. Try a different search."})},xo=t(92);function vo(){var n=Object(b.a)(["\n    z-index: 4;\n"]);return vo=function(){return n},n}function go(){var n=Object(b.a)(["\n    display: ",";\n    flex-direction: column;\n    margin-bottom: 1rem;\n\n    label {\n        margin-bottom: 1rem;\n    }\n\n    input {\n        padding: 0.5rem;\n        border-radius: 4px;\n    }\n\n    &:last-of-type {\n        margin-bottom: 2rem;\n    }\n"]);return go=function(){return n},n}var wo=j.b.div(go(),(function(n){return n.show?"flex":"none"})),yo=Object(j.b)(xo.a)(vo()),ko={control:function(n){return Object(E.a)(Object(E.a)({},n),{},{backgroundColor:"white",color:"var(--blue-dark-bg)"})},option:function(n,e){e.data;var t=e.isDisabled;e.isFocused,e.isSelected;return Object(E.a)(Object(E.a)({},n),{},{backgroundColor:"white",color:"var(--blue-dark-bg)",cursor:t?"not-allowed":"default"})},multiValue:function(n,e){e.data;return Object(E.a)(Object(E.a)({},n),{},{backgroundColor:"white"})},multiValueLabel:function(n,e){e.data;return Object(E.a)(Object(E.a)({},n),{},{color:"white",backgroundColor:"var(--blue-dark-bg)",padding:"4px 8px",borderRadius:"4px"})},multiValueRemove:function(n,e){var t=e.data;return Object(E.a)(Object(E.a)({},n),{},{color:t.color,":hover":{backgroundColor:"white",color:"var(--blue-dark-bg)"}})}},So=function(){var n=Object(i.useState)([]),e=Object(z.a)(n,2),t=e[0],c=e[1],o=Object(i.useState)(""),a=Object(z.a)(o,2),u=a[0],s=a[1],d=Uc({genres:t,movieQuery:u}),l=d.loading,b=(d.error,d.movies),j=dc.map((function(n){return{value:n.id,label:n.name}})),m=u?b.query:b.genres;return Object(r.jsxs)("section",{children:[Object(r.jsxs)("form",{children:[Object(r.jsxs)(wo,{show:!0,children:[Object(r.jsx)("label",{children:"Search by name"}),Object(r.jsx)("input",{type:"text",value:u,onChange:function(n){s(n.target.value)},onFocus:function(n){n.target.select()}})]}),Object(r.jsxs)(wo,{show:""===u,children:[Object(r.jsx)("label",{children:"Search by genre"}),Object(r.jsx)(yo,{isMulti:!0,name:"genres",options:j,styles:ko,onChange:function(n){c(n.map((function(n){return n.value})))}})]})]}),Object(r.jsx)(Oo,{movies:m,loading:l})]})},Io=function(){var n=ln().room;return Object(r.jsxs)(sc,{tabs:["Search","Movie List (".concat(n.movies.length,")")],children:[Object(r.jsx)(So,{}),Object(r.jsx)(Gc,{movies:n.movies,allowActions:!0})]})};function Co(){var n=Object(b.a)(["\n    margin-bottom: 2.5rem;\n"]);return Co=function(){return n},n}var Eo=Object(j.b)(J)(Co()),zo=Object(r.jsxs)(r.Fragment,{children:["You're the room owner. Add movies you'd want to watch, then wait for others to add theirs. When participants are ready, tap on ",Object(r.jsx)(nn,{children:"Start Swiping"}),"."]}),To=Object(r.jsxs)(r.Fragment,{children:["Add movies you'd want to watch. When you're ready to start voting, tap on"," ",Object(r.jsx)(nn,{children:"Ready to Swipe"}),"."]}),Mo=function(){var n=an().user,e=ln().room.ownerId===n.id;return Object(i.useEffect)((function(){var n,e=window.setTimeout((function(){n=cn({type:en.Custom,message:"Invite others by sharing the link to this page.",duration:8e3})}),1e3);return function(){n&&d.b.dismiss(n),clearTimeout(e)}}),[]),Object(r.jsxs)(Eo,{children:[Object(r.jsx)(ne.a,{children:Object(r.jsx)("title",{children:"Selection | Movie Swiper"})}),Object(r.jsx)(Z,{children:"Pick Your Movies"}),Object(r.jsx)(Q,{children:e?zo:To}),Object(r.jsx)(wi,{}),Object(r.jsx)(Io,{}),Object(r.jsx)(tc,{})]})},Ro=function(){var n=ln().room,e=an().user,t=n.movies.reduce((function(n,t){return t.swipes.find((function(n){return n.user.id===e.id&&n.liked}))&&t.swipes.find((function(n){return n.liked&&n.user.id!==e.id}))&&n.push(t),n}),[]);return Object(r.jsx)(Gc,{movies:t,allowActions:!1})},_o=t(171),No=t(166),Fo=t(167),Ao=t(168),Lo=t(169),Po=t(172),Do=t(170);t(162);function Go(){var n=Object(b.a)(["\n    font-size: 1rem;\n    margin-right: 0.5rem;\n"]);return Go=function(){return n},n}function Bo(){var n=Object(b.a)(["\n    width: 100%;\n    font-size: 0.875rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 0.5rem;\n    background: #2e3f52;\n    padding: 1rem;\n"]);return Bo=function(){return n},n}function Uo(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    padding: 0;\n    background: hsl(211deg 43% 10%);\n    color: var(--white-muted);\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n"]);return Uo=function(){return n},n}function Vo(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    padding: 1.5rem 1rem 1rem;\n    border-radius: 4px;\n    margin-top: auto;\n    font-weight: 500;\n    text-align: center;\n    line-height: 1.3;\n    width: 100%;\n    text-transform: none;\n    background: var(--blue-dark);\n"]);return Vo=function(){return n},n}function Wo(){var n=Object(b.a)(["\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    margin: auto;\n"]);return Wo=function(){return n},n}function Ho(){var n=Object(b.a)(["\n    margin: auto;\n    margin-bottom: 2.5rem;\n    max-width: 600px;\n    max-width: 350px;\n\n    @media screen and (min-width: 600px) {\n        height: auto;\n    }\n"]);return Ho=function(){return n},n}var Jo=j.b.article(Ho()),Yo=Object(j.b)(s.c.img)(Wo()),$o=Object(j.b)(s.c.h3)(Vo()),qo=Object(j.b)(X)(Uo()),Zo=j.b.p(Bo()),Qo=Object(j.b)(Le.d)(Go()),Xo=function(n){var e=n.movie,t=Xn().setMoviePreview,i=rn(e.poster_path,"w500"),c=function(){t(e)};return Object(r.jsxs)(Jo,{onClick:c,children:[Object(r.jsxs)(qo,{onClick:c,children:[Object(r.jsx)($o,{children:e.title}),Object(r.jsxs)(Zo,{children:[Object(r.jsx)(Qo,{})," Details"]})]}),Object(r.jsx)(Yo,{src:i,alt:e.title})]})};function Ko(){var n=Object(b.a)(["\n    ","\n    margin-right: 0.5rem;\n"]);return Ko=function(){return n},n}function na(){var n=Object(b.a)(["\n    ","\n    margin-right: 1rem;\n"]);return na=function(){return n},n}function ea(){var n=Object(b.a)(["\n    font-size: 1.5rem;\n"]);return ea=function(){return n},n}function ta(){var n=Object(b.a)(["\n    background: var(--accent-dark-90);\n    outline: none;\n    border-radius: 0;\n\n    @media screen and (min-width: 600px) {\n        padding: 1rem 2rem;\n        white-space: nowrap;\n    }\n"]);return ta=function(){return n},n}function ra(){var n=Object(b.a)(["\n    background: var(--blue-active-90);\n    outline: none;\n    border-radius: 0;\n\n    @media screen and (min-width: 600px) {\n        padding: 1rem 2rem;\n        white-space: nowrap;\n    }\n"]);return ra=function(){return n},n}var ia=Object(j.b)(X)(ra()),ca=Object(j.b)(X)(ta()),oa=Object(j.a)(ea()),aa=Object(j.b)(jr.a)(na(),oa),ua=Object(j.b)(Le.c)(Ko(),oa);_o.a.use([No.a,Fo.a,Ao.a,Lo.a]);var sa={rotate:50,stretch:0,depth:200,modifier:1,slideShadows:!1},da={clickable:!1,type:"progressbar",progressbarFillClass:"swiper-pagination-progressbar-fill"},la=function(){var n=Object(l.f)(),e=ln().room,t=an().user,c=Object(i.useState)(),o=Object(z.a)(c,2),a=o[0],u=o[1],s=Object(i.useRef)([]),d=Object(i.useState)(!1),b=Object(z.a)(d,2),j=b[0],m=b[1];Object(i.useEffect)((function(){s.current=e.movies.map((function(n){return Object(E.a)(Object(E.a)({},n),{},{swiped:!1})}))}),[e.movies.length]);var f=function(){m(!1)},p=function(){m(!0)},h=function(n){var r,i,c=n.index,o=n.liked,a=s.current[c];a&&!a.swiped&&(s.current=s.current.map((function(n){return n.id===a.id?Object(E.a)(Object(E.a)({},n),{},{swiped:!0}):n})),r={roomId:e.roomId,movieId:a.id,liked:o,user:t},N.emit("movie:swipe",r,i))};return Object(r.jsxs)(r.Fragment,{children:[!!e.movies.length&&Object(r.jsxs)(Po.a,{onSlidePrevTransitionStart:function(n){if(p(),n){var e=n.previousIndex-1;h({index:e,liked:!1});var t=n.activeIndex+2;n.slideTo(t,100),n.update(),n.updateProgress()}},onSlideNextTransitionStart:function(n){if(p(),n&&1!==n.activeIndex){var e=n.previousIndex-1;h({index:e,liked:!0}),n.updateProgress(),n.update()}},onSlidePrevTransitionEnd:f,onSlideNextTransitionEnd:function(t){f(),t.activeIndex>e.movies.length&&n.push("/results/".concat(e.roomId))},onProgress:function(n){var t=1/e.movies.length*n.activeIndex;document.documentElement.style.setProperty("--swipe-progress",t.toString())},onInit:function(n){var t=1/e.movies.length;document.documentElement.style.setProperty("--swipe-progress",t.toString()),u(n)},initialSlide:1,speed:400,observer:!0,grabCursor:!0,centeredSlides:!0,spaceBetween:5e3,effect:"coverflow",coverflowEffect:sa,pagination:da,children:[Object(r.jsx)(Do.a,{},"firstSlide"),e.movies.map((function(n){return Object(r.jsx)(Do.a,{children:Object(r.jsx)(Xo,{movie:n})},n.id)})),Object(r.jsx)(Do.a,{},"lastSlide")]}),Object(r.jsxs)(Ii,{position:"fixed",children:[Object(r.jsxs)(ca,{onClick:function(){if(a){var n=a.activeIndex-1;h({index:n,liked:!1});var e=a.activeIndex+1;a.slideTo(e,400)}},disabled:j,children:[Object(r.jsx)(ua,{}),"Dislike"]}),Object(r.jsxs)(ia,{onClick:function(){if(a){var n=a.activeIndex+1;a.slideTo(n)}},disabled:j,children:[Object(r.jsx)(aa,{}),"Like"]})]})]})};function ba(){var n=Object(b.a)(["\n    max-width: 600px;\n    margin: auto;\n"]);return ba=function(){return n},n}var ja=Object(j.b)(J)(ba()),ma=function(){var n=ln().room,e=an().user,t=n.movies.reduce((function(n,t){return t.swipes.find((function(n){return n.user.id===e.id&&n.liked}))&&t.swipes.find((function(n){return n.liked&&n.user.id!==e.id}))?n+1:n}),0);return Object(r.jsxs)(ja,{children:[Object(r.jsx)(ne.a,{children:Object(r.jsx)("title",{children:"Swipe | Movie Swiper"})}),Object(r.jsxs)(sc,{tabs:["Movie","Matches (".concat(t,")")],children:[Object(r.jsx)(la,{}),Object(r.jsx)(Ro,{})]})]})},fa=function(){var n=Xn().moviePreview;return Object(r.jsxs)(s.b,{type:"crossfade",children:[Object(r.jsx)(s.a,{children:n&&Object(r.jsx)(ji,{movie:n})}),Object(r.jsx)(d.a,{}),Object(r.jsx)(Gn,{}),Object(r.jsx)(h,{children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{path:"/",exact:!0,component:bt}),Object(r.jsx)(l.a,{path:"/create",component:oe}),Object(r.jsx)(l.a,{path:"/join/:id",component:ht}),Object(r.jsx)(l.a,{path:"/expired",component:se}),Object(r.jsx)(Zn,{path:["/selection/:id/:movieId","/selection/:id"],component:Mo}),Object(r.jsx)(Zn,{path:["/swiper/:id/:movieId","/swiper/:id"],component:ma}),Object(r.jsx)(Zn,{path:["/results/:id/:movieId","/results/:id"],component:dr}),Object(r.jsx)(l.a,{component:bt})]})}),Object(r.jsx)(C,{})]})};t(163);a.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(u.a,{children:Object(r.jsx)(un,{children:Object(r.jsx)(mn,{children:Object(r.jsx)(Kn,{children:Object(r.jsx)(fa,{})})})})})}),document.getElementById("root"))},99:function(n,e,t){}},[[164,1,2]]]);
//# sourceMappingURL=main.4083fbe3.chunk.js.map