(this["webpackJsonpmovie-swiper"]=this["webpackJsonpmovie-swiper"]||[]).push([[0],{126:function(n,e){},160:function(n,e,t){},161:function(n,e,t){"use strict";t.r(e);var r=t(1),i=t(2),c=t.n(i),o=t(34),a=t.n(o),u=t(15),s=t(11),d=t(16),l=t(14),b=(t(96),t(3)),m=t(4);function j(){var n=Object(b.a)(["\n    background: var(--blue-dark-bg);\n    color: var(--white);\n    flex: 1;\n"]);return j=function(){return n},n}var f,p=m.b.main(j()),h=function(n){var e=n.children;return Object(r.jsx)(p,{children:e})},O=t.p+"static/media/themoviedb-logo.caee7457.svg";function v(){var n=Object(b.a)(["\n    font-size: 0.85rem;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    color: var(--white-muted);\n    display: flex;\n    align-items: center;\n    justify-content: center;\n"]);return v=function(){return n},n}function x(){var n=Object(b.a)(["\n    height: 10.5px;\n    margin-left: 0.5rem;\n"]);return x=function(){return n},n}function g(){var n=Object(b.a)(["\n    max-width: 1100px;\n    margin: auto;\n"]);return g=function(){return n},n}function w(){var n=Object(b.a)(["\n    /* background: #141d26; */\n    background: rgb(0 0 0 / 25%);\n    padding: 2rem;\n    display: ",";\n\n    @media (min-width: 600px) {\n        display: block;\n    }\n"]);return w=function(){return n},n}!function(n){n.SELECTION="selection",n.SWIPER="swiper",n.RESULTS="results",n.NULL="null"}(f||(f={}));var y=m.b.footer(w(),(function(n){return n.display?"block":"none"})),k=m.b.div(g()),I=m.b.img(x()),S=m.b.p(v()),C=function(){var n=Object(l.g)().pathname,e="/"===n||n.includes("/create")||n.includes("/join")||n.includes(f.RESULTS);return Object(r.jsx)(y,{display:e,children:Object(r.jsx)(k,{children:Object(r.jsxs)(S,{children:["Powered by",Object(r.jsx)("a",{href:"https://www.themoviedb.org/",target:"_blank",rel:"noreferrer",children:Object(r.jsx)(I,{src:O,alt:"The Movie DB."})})]})})})},E=t(5),z=t(8),N=t(23),T=t(38),M=t(83),_=t.n(M)()("http://localhost:4500",{transports:["websocket"],reconnection:!0}),R=function(n,e){_.emit("room:create",n,e)};function F(){var n=Object(b.a)(["\n    font-weight: 600;\n"]);return F=function(){return n},n}function A(){var n=Object(b.a)(["\n    width: 100%;\n    background: ",";\n    color: ",";\n    padding: 1rem 1.5rem;\n"]);return A=function(){return n},n}function L(){var n=Object(b.a)(["\n    padding: 1.5rem 1rem;\n    flex: 1;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    border-radius: 4px;\n    color: white;\n    cursor: pointer;\n"]);return L=function(){return n},n}function P(){var n=Object(b.a)(["\n    font-size: 1rem;\n    font-weight: 400;\n    line-height: 1.4;\n    margin-bottom: 2rem;\n    color: var(--white-muted);\n"]);return P=function(){return n},n}function G(){var n=Object(b.a)(["\n    font-size: 2rem;\n    margin: 0 0 1rem;\n    font-family: 'Merienda One', 'Rubik', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',\n        'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n"]);return G=function(){return n},n}function D(){var n=Object(b.a)(["\n    margin-top: 0.5rem;\n    padding: 0.5rem;\n    background: var(--accent-light);\n    border-radius: 4px;\n    font-size: 0.875rem;\n"]);return D=function(){return n},n}function V(){var n=Object(b.a)(["\n    label {\n        margin-bottom: 0.5rem;\n    }\n\n    input {\n        padding: 0.5rem;\n        border-radius: 4px;\n    }\n"]);return V=function(){return n},n}function U(){var n=Object(b.a)(["\n    max-width: 600px;\n    margin: 0 auto;\n\n    h2 {\n        margin-bottom: 4rem;\n    }\n"]);return U=function(){return n},n}function B(){var n=Object(b.a)(["\n    max-width: 1100px;\n    margin: 0 auto;\n    padding: 3rem 1rem;\n\n    @media (min-width: 600px) {\n        padding: 4rem 1rem;\n    }\n\n    @media (min-width: 1100px) {\n        padding: 4rem 0rem;\n    }\n"]);return B=function(){return n},n}var W,H=m.b.section(B()),J=Object(m.b)(H)(U()),Y=m.b.form(V()),q=m.b.div(D()),Z=m.b.h1(G()),$=m.b.h2(P()),Q=m.b.button(L()),X=Object(m.b)(Q)(A(),(function(n){return n.$disabled?"#808080":"var(--blue-action)"}),(function(n){return n.$disabled&&"#cbc8c8"})),K=m.b.span(F());!function(n){n.INITIALIZE_ROOM="initialize_room",n.GET_ROOM="get_room",n.JOIN="join",n.LEAVE="leave",n.CHANGE_OWNER="change_owner",n.ADD_MOVIE="add_movie",n.REMOVE_MOVIE="remove_movie",n.SWIPE_MOVIE="swipe_movie",n.TOGGLE_READY="toggle_ready",n.SET_STAGE="set_stage",n.USER_NAME_CHANGE="user_name_change"}(W||(W={}));var nn,en=t.p+"static/media/poster_unavailable.0646537b.png",tn=function(n,e){return n?"https://image.tmdb.org/t/p/".concat(e).concat(n):en};!function(n){n.Success="success",n.Error="error",n.Loading="loading",n.Custom="custom"}(nn||(nn={}));var rn=function(n){var e=n.type,t=n.message,r=n.duration,i={duration:r||2e3,style:{backgroundColor:"var(--blue-active)",color:"#FFF"},iconTheme:{primary:"hsl(213deg 24% 53%)",secondary:"#FFF"}},c={duration:r||4e3,style:{backgroundColor:"hsl(0deg 56% 27%)",color:"#FFF"},iconTheme:{primary:"#a23636",secondary:"#FFF"}},o={duration:r||3e4,style:{backgroundColor:"var(--blue-active)",color:"#FFF"},iconTheme:{primary:"hsl(213deg 24% 53%)",secondary:"#FFF"}};switch(e){case"success":return d.b.success(t,i);case"error":return d.b.error(t,c);case"loading":return d.b.loading(t,o);case"custom":default:return Object(d.b)(t,i)}},cn=Object(i.createContext)({user:{},setUser:function(){return{}}}),on=function(){return Object(i.useContext)(cn)},an=function(n){var e=n.children,t=function(n,e){var t=Object(i.useState)((function(){try{var t=window.localStorage.getItem(n);return t?JSON.parse(t):e}catch(r){return e}})),r=Object(z.a)(t,2),c=r[0],o=r[1];return[c,function(e){try{var t=e instanceof Function?e(c):e;o(t),window.localStorage.setItem(n,JSON.stringify(t))}catch(r){}}]}("user",{}),c=Object(z.a)(t,2),o=c[0],a=c[1];return Object(i.useEffect)((function(){var n;n=function(){o.id?_.emit("user:new",o):(a({name:o.name,color:o.color,id:_.id}),_.emit("user:new",Object(E.a)(Object(E.a)({},o),{},{id:_.id})))},_.on("connect",n)}),[]),Object(r.jsx)(cn.Provider,{value:{user:o,setUser:a},children:e})},un={roomName:null,roomId:null,ownerId:null,participants:[],movies:[],stage:f.NULL},sn=Object(i.createContext)({room:un,dispatch:function(){return{}}}),dn=function(){return Object(i.useContext)(sn)},ln=function(n,e){switch(console.log(e),e.type){case W.INITIALIZE_ROOM:return Object(E.a)(Object(E.a)({},un),{},{roomName:e.payload.roomName,roomId:e.payload.roomId,ownerId:e.payload.ownerId,participants:[e.payload.participant],stage:f.SELECTION});case W.GET_ROOM:return Object(E.a)({},e.payload.room);case W.JOIN:var t=[].concat(Object(T.a)(n.participants.filter((function(n){return n.id!==e.payload.participant.id}))),[e.payload.participant]);return Object(E.a)(Object(E.a)({},n),{},{participants:t});case W.LEAVE:return Object(E.a)(Object(E.a)({},n),{},{participants:n.participants.filter((function(n){return n.id!==e.payload.id}))});case W.CHANGE_OWNER:return Object(E.a)(Object(E.a)({},n),{},{ownerId:e.payload.ownerId});case W.ADD_MOVIE:return Object(E.a)(Object(E.a)({},n),{},{movies:[].concat(Object(T.a)(n.movies.filter((function(n){return n.id!==e.payload.movie.id}))),[e.payload.movie])});case W.REMOVE_MOVIE:return Object(E.a)(Object(E.a)({},n),{},{movies:n.movies.filter((function(n){return n.id!==e.payload.id}))});case W.SWIPE_MOVIE:var r=n.movies.find((function(n){return n.id===e.payload.id})),i=r.swipes.find((function(n){return n.user.id===e.payload.user.id}))?r.swipes.map((function(n){return n.user.id===e.payload.user.id?Object(E.a)(Object(E.a)({},n),{},{liked:e.payload.liked}):n})):[].concat(Object(T.a)(r.swipes),[{user:e.payload.user,liked:e.payload.liked}]),c=Object(E.a)(Object(E.a)({},r),{},{swipes:i});return Object(E.a)(Object(E.a)({},n),{},{movies:n.movies.map((function(n){return n.id===c.id?c:n}))});case W.SET_STAGE:return Object(E.a)(Object(E.a)({},n),{},{stage:e.payload.stage});case W.TOGGLE_READY:return Object(E.a)(Object(E.a)({},n),{},{participants:n.participants.map((function(n){return n.id===e.payload.id?Object(E.a)(Object(E.a)({},n),{},{ready:!n.ready}):n}))});case W.USER_NAME_CHANGE:return Object(E.a)(Object(E.a)({},n),{},{participants:n.participants.map((function(n){return n.id===e.payload.userId?Object(E.a)(Object(E.a)({},n),{},{name:e.payload.name}):n}))});default:throw new Error("Action not defined.")}},bn="rooms",mn=function(n){var e=n.children,t=Object(l.g)().pathname,c=on().user,o=Object(i.useReducer)(ln,un,(function(n){var e=localStorage.getItem(bn);if(!e)return n;var r=JSON.parse(e),i=t.split("/").filter(Boolean)[1],c=r[i];return c||n})),a=Object(z.a)(o,2),u=a[0],s=a[1],b=Object(i.useRef)(),m=Object(i.useRef)();return Object(i.useEffect)((function(){console.log(u);var n=function(){var n=localStorage.getItem(bn);return n?JSON.parse(n):null}();u.roomId&&function(n){localStorage.setItem(bn,JSON.stringify(n))}(Object(E.a)(Object(E.a)({},n),{},Object(N.a)({},u.roomId,u)))}),[u]),Object(i.useEffect)((function(){var n;return function(n,e){_.on("room:new-join",(function(t){console.log("new join: ",t.user),_.emit("room:send",{socketId:t.socketId,room:n}),e(t.user)}))}(u,(function(n){rn({type:nn.Success,message:function(){return Object(r.jsxs)("span",{children:[Object(r.jsx)(K,{children:n.name})," "," joined."]})}}),s({type:W.JOIN,payload:{participant:Object(E.a)(Object(E.a)({},n),{},{ready:!1})}})})),n=function(n){var e,t=n.socketId,r=n.newOwnerSocketId;s({type:W.LEAVE,payload:{id:t}}),t===u.ownerId&&r===_.id&&(e={roomId:u.roomId,userId:c.id},_.emit("room:owner-change",e))},_.on("room:leave",n),function(n){_.on("room:owner-change",n)}((function(n){var e=n.newOwnerId;s({type:W.CHANGE_OWNER,payload:{ownerId:e}}),e===c.id&&rn({type:nn.Custom,message:"You are the new room owner."})})),function(n){_.once("room:get",n)}((function(n){var e=n.room,t=JSON.parse(localStorage.getItem("user")||""),r=e.participants.filter((function(n){return n.id!==t.id}));t&&(r=[].concat(Object(T.a)(r),[Object(E.a)(Object(E.a)({},t),{},{ready:!1})])),s({type:W.GET_ROOM,payload:{room:Object(E.a)(Object(E.a)({},e),{},{participants:r})}})})),function(n){_.on("movie:add",(function(e){n(e.movie)}))}((function(n){s({type:W.ADD_MOVIE,payload:{movie:n}})})),function(n){_.on("movie:remove",n)}((function(n){var e=n.movieId;s({type:W.REMOVE_MOVIE,payload:{id:e}})})),function(n){_.on("movie:swipe",n)}((function(n){var e=n.movieId,t=n.liked,r=n.user;s({type:W.SWIPE_MOVIE,payload:{id:e,liked:t,user:r}})})),function(n){_.on("user:ready",n)}((function(n){var e=n.userId,t=u.participants.find((function(n){return n.id===e}));t&&!t.ready&&c.id!==t.id&&rn({type:nn.Success,message:function(){return Object(r.jsxs)("span",{children:[Object(r.jsx)(K,{children:t.name})," is ready."]})}}),s({type:W.TOGGLE_READY,payload:{id:e}})})),function(n){_.on("swiper:start",n)}((function(n){n.roomId===u.roomId&&s({type:W.SET_STAGE,payload:{stage:f.SWIPER}})})),function(n){_.on("user:name-change",n)}((function(n){var e=n.userId,t=n.name,i=u.participants.find((function(n){return n.id===e}));if(i&&i.id!==c.id){var o=null===i||void 0===i?void 0:i.name;rn({type:nn.Success,message:function(){return Object(r.jsxs)("span",{children:[Object(r.jsx)(K,{children:o})," "," has changed their name to "," ",Object(r.jsxs)(K,{children:[t,"."]})]})}})}s({type:W.USER_NAME_CHANGE,payload:{userId:e,name:t}})})),function(){_.removeAllListeners()}}),[_,u,s]),Object(i.useEffect)((function(){var n=c.id===u.ownerId,e=u.participants.filter((function(n){return n.id!==c.id})),t=e.length>0&&e.every((function(n){return n.ready}));!t&&m.current&&(clearTimeout(m.current),d.b.dismiss(b.current)),n&&t&&(m.current=window.setTimeout((function(){return b.current=rn({type:nn.Success,message:"Everyone is ready to start.",duration:99999})}),2500))}),[u.participants]),Object(r.jsx)(sn.Provider,{value:{room:u,dispatch:s},children:e})},jn=t(84),fn=(t(129),function(n){var e=n.visible,t=n.onClose,i=n.width,c=void 0===i?"90%":i,o=n.maxWidth,a=void 0===o?500:o,u=n.height,s=void 0===u?500:u,d=n.children,l={height:s,width:c,maxWidth:a,background:"var(--blue-active)",borderRadius:"8px"};return Object(r.jsx)(jn.a,{visible:e,onClose:t,closeOnEsc:!0,customStyles:l,animation:"slideUp",children:d})}),pn=t(25);function hn(){var n=Object(b.a)(["\n    background: var(--blue-action);\n    padding: 0.75rem 1rem;\n    width: 100%;\n"]);return hn=function(){return n},n}function On(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 2rem;\n"]);return On=function(){return n},n}function vn(){var n=Object(b.a)(["\n    margin-bottom: 1rem;\n    font-size: 1.125rem;\n"]);return vn=function(){return n},n}function xn(){var n=Object(b.a)(["\n    color: var(--white-muted);\n    margin-bottom: 0.5rem;\n"]);return xn=function(){return n},n}function gn(){var n=Object(b.a)(["\n    padding: 0 1rem;\n\n    h2 {\n        font-size: 1.5rem;\n        font-weight: 600;\n        margin-bottom: 1rem;\n        display: flex;\n        align-items: center;\n    }\n"]);return gn=function(){return n},n}function wn(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    margin-left: 0.75rem;\n    width: 20px;\n"]);return wn=function(){return n},n}function yn(){var n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    cursor: pointer;\n"]);return yn=function(){return n},n}function kn(){var n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    list-style: none;\n\n    & > *:not(:last-child) {\n        margin: 0 1rem;\n    }\n"]);return kn=function(){return n},n}function In(){var n=Object(b.a)([""]);return In=function(){return n},n}function Sn(){var n=Object(b.a)(["\n    color: var(--white);\n    font-size: 1.25rem;\n    font-family: 'Merienda One', 'Rubik', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu',\n        'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue', sans-serif;\n"]);return Sn=function(){return n},n}function Cn(){var n=Object(b.a)(["\n    max-width: 1100px;\n    margin: auto;\n    display: flex;\n    justify-content: space-between;\n    align-items: center;\n"]);return Cn=function(){return n},n}function En(){var n=Object(b.a)(["\n    background: rgb(0 0 0 / 25%);\n    padding: 1rem;\n\n    @media screen and (min-width: 700px) {\n        padding: 1.5rem 1rem;\n    }\n"]);return En=function(){return n},n}var zn=m.b.nav(En()),Nn=m.b.div(Cn()),Tn=m.b.div(Sn()),Mn=m.b.section(In()),_n=m.b.div(kn()),Rn=m.b.button(yn()),Fn=Object(m.b)(pn.f)(wn()),An=m.b.section(gn()),Ln=m.b.p(xn()),Pn=m.b.p(vn()),Gn=m.b.div(On()),Dn=Object(m.b)(Q)(hn()),Vn=function(n){var e=n.forceShow,t=dn().room,c=on(),o=c.user,a=c.setUser,s=Object(l.g)().pathname,d=Object(i.useState)(!1),b=Object(z.a)(d,2),m=b[0],j=b[1],f=Object(i.useState)(""),p=Object(z.a)(f,2),h=p[0],O=p[1];if("/"===s&&!e)return null;var v=function(){j(!1),O("")};return Object(r.jsxs)(zn,{children:[Object(r.jsxs)(Nn,{children:[Object(r.jsx)(Tn,{children:Object(r.jsx)(u.b,{to:"/",children:"Movie Swiper "})}),Object(r.jsx)(Mn,{children:Object(r.jsxs)(_n,{children:[t.roomId?Object(r.jsx)(u.b,{to:"/".concat(t.stage,"/").concat(t.roomId),children:"Room"}):Object(r.jsx)(u.b,{to:"/create",children:"Create"}),o.name&&Object(r.jsxs)(Rn,{onClick:function(){return j(!0)},children:[o.name,Object(r.jsx)(Fn,{})]})]})})]}),Object(r.jsx)(fn,{visible:m,onClose:v,height:280,maxWidth:400,children:Object(r.jsxs)(An,{children:[Object(r.jsx)("h2",{children:"Change name"}),Object(r.jsx)(Ln,{children:"Current name"}),Object(r.jsx)(Pn,{children:o.name}),Object(r.jsxs)(Y,{onSubmit:function(n){var e;n.preventDefault(),a(Object(E.a)(Object(E.a)({},o),{},{name:h})),v(),rn({type:nn.Success,message:function(){return Object(r.jsxs)("span",{children:["Name changed to"," ",Object(r.jsxs)(K,{children:[h,"."]})]})}}),t.roomId&&(e={roomId:t.roomId,userId:o.id,name:h},_.emit("user:name-change",e))},children:[Object(r.jsxs)(Gn,{children:[Object(r.jsx)("label",{htmlFor:"newName",children:"New name"}),Object(r.jsx)("input",{type:"text",name:"newName",id:"newName",value:h,onChange:function(n){return O(n.target.value)}})]}),Object(r.jsx)(Dn,{type:"submit",children:"Change name"})]})]})})]})},Un=t(90),Bn=function(n){var e=n.component,t=n.computedMatch,c=Object(Un.a)(n,["component","computedMatch"]),o=dn(),a=o.room,u=o.dispatch,s=on().user,d=Object(l.f)(),b=Object(i.useState)("loading"),m=Object(z.a)(b,2),j=m[0],p=m[1],h=t.params.id,O=t.url.split("/")[1];return Object(i.useEffect)((function(){try{if(console.log(a.roomId,h),!h)return d.replace("/expired");n={roomId:h},e=function(n){if(n.success){if(!s.name)return d.replace("/join/".concat(h));e={roomId:h,user:s},t=function(n){n.success?p("success"):p("error")},_.emit("room:join",e,t)}else{if(!a.roomId)return d.replace("/create");R({roomId:h},(function(n){if(n.success)return u({type:W.GET_ROOM,payload:{room:a}}),d.push("/selection/".concat(h))}))}var e,t},_.emit("room:check",n,e),p("success")}catch(t){console.log(t),p("error")}var n,e}),[t.params.id,s]),Object(i.useEffect)((function(){var n=a.movies.length>0&&a.movies.every((function(n){return n.swipes.find((function(n){return n.user.id===s.id}))}));a.roomId&&n?d.replace("/".concat(f.RESULTS,"/").concat(h)):a.roomId&&O!==a.stage&&d.replace("/".concat(a.stage,"/").concat(h))}),[a.stage]),"loading"===j?Object(r.jsx)(Z,{children:"Loading..."}):"error"===j?Object(r.jsx)(Z,{children:"Could not join. Please try again."}):Object(r.jsx)(e,Object(E.a)(Object(E.a)({},t),c))},Wn=Object(i.createContext)({moviePreview:null,setMoviePreview:function(){return{}}}),Hn=function(){return Object(i.useContext)(Wn)},Jn=function(n){var e=n.children,t=Object(i.useState)(null),c=Object(z.a)(t,2),o=c[0],a=c[1];return Object(r.jsx)(Wn.Provider,{value:{moviePreview:o,setMoviePreview:a},children:e})},Yn=t(46),qn=t.n(Yn);function Zn(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 1rem;\n\n    &:last-of-type {\n        margin-bottom: 4rem;\n    }\n"]);return Zn=function(){return n},n}var $n=m.b.div(Zn()),Qn=function(){var n=Object(l.f)(),e=dn(),t=e.room,c=e.dispatch,o=on(),a=o.user,u=o.setUser,s={name:a.name||"",roomName:""},d=Object(i.useState)(!1),b=Object(z.a)(d,2),m=b[0],j=b[1],f=Object(i.useState)(s),p=Object(z.a)(f,2),h=p[0],O=p[1],v=Object(i.useState)({}),x=Object(z.a)(v,2),g=x[0],w=x[1],y=Object(i.useState)(!1),k=Object(z.a)(y,2),I=k[0],S=k[1],C=function(){var n={};h.name||(n.name="Name is required.");h.roomName||(n.roomName="Group name is required.");return n}(),T=!Object.keys(C).length,M=function(n){var e=n.target,t=e.name,r=e.value;O((function(n){return Object(E.a)(Object(E.a)({},n),{},Object(N.a)({},t,r))}))},F=function(n){var e=n.target.name;w((function(n){return Object(E.a)(Object(E.a)({},n),{},Object(N.a)({},e,!0))}))};return Object(r.jsxs)(Y,{onSubmit:function(e){if(e.preventDefault(),S(!0),T){j(!0),t.roomId&&(_.disconnect(),_.connect());var r=Object(E.a)(Object(E.a)({},a),{},{name:h.name,color:qn()({luminosity:"light",hue:"blue"})});u(r),R({roomId:null},(function(e){if(e.success){var t=e.data.roomId;c({type:W.INITIALIZE_ROOM,payload:{roomName:h.roomName,roomId:t,ownerId:r.id,participant:r}}),n.push("/selection/".concat(t))}}))}},children:[Object(r.jsxs)($n,{children:[Object(r.jsx)("label",{htmlFor:"name",children:"Your name"}),Object(r.jsx)("input",{type:"text",name:"name",id:"name",value:h.name,onChange:M,onBlur:F}),(g.name||I)&&C.name&&Object(r.jsx)(q,{children:C.name})]}),Object(r.jsxs)($n,{children:[Object(r.jsx)("label",{htmlFor:"roomName",children:"Group name"}),Object(r.jsx)("input",{type:"text",name:"roomName",id:"roomName",value:h.roomName,onChange:M,onBlur:F}),(g.roomName||I)&&C.roomName&&Object(r.jsx)(q,{children:C.roomName})]}),Object(r.jsx)(X,{$disabled:m,disabled:m,children:"Get Started"})]})},Xn=function(){return Object(r.jsxs)(J,{children:[Object(r.jsx)(Z,{children:"Create New Group"}),Object(r.jsx)($,{children:"Enter your name and a group name before proceeding to movie selection."}),Object(r.jsx)(Qn,{})]})};function Kn(){var n=Object(b.a)([""]);return Kn=function(){return n},n}var ne=Object(m.b)(H)(Kn()),ee=function(){return Object(r.jsxs)(ne,{children:[Object(r.jsx)(Z,{children:"Not Found"}),Object(r.jsx)($,{children:"Sorry, the room you're trying to join does not exist or has expired."})]})};function te(){var n=Object(b.a)(["\n    line-height: 1.5;\n    @media screen and (min-width: 500px) {\n        font-size: 1.125rem;\n    }\n"]);return te=function(){return n},n}function re(){var n=Object(b.a)(["\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    color: var(--gray);\n    font-weight: 400;\n    font-size: 0.875rem;\n    margin-bottom: 0.5rem;\n    display: flex;\n    align-items: center;\n"]);return re=function(){return n},n}function ie(){var n=Object(b.a)(["\n    padding: 1.5rem;\n    background-color: var(--blue-active);\n    border-radius: 4px;\n    box-shadow: 0px 5px 15px 5px rgb(24 38 53 / 55%);\n"]);return ie=function(){return n},n}var ce=m.b.article(ie()),oe=m.b.h3(re()),ae=m.b.p(te()),ue=function(n){var e=n.children;return Object(r.jsx)(oe,{children:e})},se=function(n){var e=n.children;return Object(r.jsx)(ae,{children:e})},de=function(n){var e=n.children,t=c.a.Children.toArray(e).filter((function(n){return c.a.isValidElement(n)&&n.type===ue})),i=c.a.Children.toArray(e).filter((function(n){return c.a.isValidElement(n)&&n.type===se}));return Object(r.jsxs)(ce,{children:[t,i]})};de.Headline=ue,de.Body=se;var le=de;function be(){var n=Object(b.a)(["\n    ","\n"]);return be=function(){return n},n}function me(){var n=Object(b.a)(["\n    ","\n"]);return me=function(){return n},n}function je(){var n=Object(b.a)(["\n    ","\n    margin-right: 0.5rem;\n"]);return je=function(){return n},n}function fe(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    margin-right: 0.75rem;\n"]);return fe=function(){return n},n}function pe(){var n=Object(b.a)(["\n    max-width: 1100px;\n    display: grid;\n    grid-template-columns: 1fr;\n    grid-gap: 1rem;\n    margin: 4rem 1.5rem;\n    position: relative;\n    z-index: 3;\n    position: relative;\n\n    &::after {\n        content: '';\n        position: absolute;\n        height: 2px;\n        background: var(--blue-muted);\n        width: 100%;\n        bottom: -4rem;\n        left: 0;\n    }\n\n    @media screen and (min-width: 750px) {\n        grid-template-columns: repeat(3, 1fr);\n        grid-gap: 2rem;\n        margin-top: -5rem;\n    }\n\n    @media screen and (min-width: 1100px) {\n        margin: -5rem auto 4rem auto;\n    }\n"]);return pe=function(){return n},n}var he=m.b.section(pe()),Oe=Object(m.a)(fe()),ve=Object(m.b)(pn.g)(je(),Oe),xe=Object(m.b)(pn.b)(me(),Oe),ge=Object(m.b)(pn.c)(be(),Oe),we=[{headline:"Invite your friends",body:"Create a room, copy the link and share it with others.",icon:Object(r.jsx)(ve,{})},{headline:"Pick your movies",body:"Browse by genre or find the exact movie you have in mind, then add it to the shared list.",icon:Object(r.jsx)(xe,{})},{headline:"Swipe to vote",body:"Like a movie? Swipe right. Dislike a movie? Swipe left.",icon:Object(r.jsx)(ge,{})}],ye=function(){return Object(r.jsx)(he,{children:we.map((function(n){return Object(r.jsxs)(le,{children:[Object(r.jsxs)(le.Headline,{children:[n.icon," ",n.headline]}),Object(r.jsx)(le.Body,{children:n.body})]},n.headline)}))})},ke=t(22),Ie=t.n(ke),Se=t(29),Ce=t(26),Ee=t.n(Ce),ze=t(17);function Ne(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    margin-right: 0.5rem;\n"]);return Ne=function(){return n},n}function Te(){var n=Object(b.a)(["\n    padding: 1rem 0;\n    background: var(--blue-active);\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    text-align: center;\n    border-radius: 0 0 4px 4px;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    width: 100%;\n"]);return Te=function(){return n},n}function Me(){var n=Object(b.a)(["\n    display: block;\n    object-fit: cover;\n    height: 100%;\n    width: 100%;\n    border-radius: 4px;\n"]);return Me=function(){return n},n}function _e(){var n=Object(b.a)(["\n    width: 225px;\n    padding: 1rem 1rem 0;\n    border-radius: 4px;\n    cursor: pointer;\n    background-color: var(--blue-active);\n    display: flex;\n    flex-direction: column;\n"]);return _e=function(){return n},n}var Re=m.b.button(_e()),Fe=m.b.img(Me()),Ae=m.b.div(Te()),Le=Object(m.b)(ze.d)(Ne()),Pe=function(){var n=Object(i.useState)(null),e=Object(z.a)(n,2),t=e[0],c=e[1],o=Object(i.useState)(!0),a=Object(z.a)(o,2),u=(a[0],a[1]),s=t&&tn(t.poster_path,"w342"),d=Hn().setMoviePreview;return Object(i.useEffect)((function(){(function(){var n=Object(Se.a)(Ie.a.mark((function n(){var e;return Ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,u(!0),n.next=4,Ee.a.get("/movies/random");case 4:200===(e=n.sent).status&&c(e.data),console.log(e),n.next=13;break;case 9:n.prev=9,n.t0=n.catch(0),console.log(n.t0),c(null);case 13:return n.prev=13,u(!1),n.finish(13);case 16:case"end":return n.stop()}}),n,null,[[0,9,13,16]])})));return function(){return n.apply(this,arguments)}})()()}),[]),t&&s?Object(r.jsxs)(Re,{onClick:function(){return d(t)},children:[Object(r.jsx)(Fe,{src:s,alt:"Movie poster for ".concat(null===t||void 0===t?void 0:t.title,".")}),Object(r.jsxs)(Ae,{children:[Object(r.jsx)(Le,{}),"See Details"]})]}):null};function Ge(){var n=Object(b.a)(["\n    max-width: 350px;\n    h2 {\n        font-size: 1.5rem;\n        font-weight: 500;\n        margin-bottom: 1rem;\n        text-transform: uppercase;\n    }\n\n    p {\n        color: var(--white-muted);\n        line-height: 1.5;\n        margin-bottom: 0.5rem;\n\n        &:nth-last-of-type(2) {\n            margin-bottom: 1rem;\n        }\n\n        &:last-of-type {\n            margin-bottom: 2rem;\n        }\n\n        @media screen and (min-width: 600px) {\n            &:last-of-type {\n                margin-bottom: 0;\n            }\n        }\n    }\n\n    ul {\n        list-style-position: inside;\n        margin-bottom: 2rem;\n\n        & > li + li {\n            margin-top: 0.5rem;\n        }\n    }\n"]);return Ge=function(){return n},n}function De(){var n=Object(b.a)(["\n    padding: 4rem 1.5rem 4rem;\n    max-width: 700px;\n\n    & "," {\n        flex: 0 0 200px;\n    }\n\n    @media screen and (min-width: 600px) {\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        margin: 0 auto;\n    }\n"]);return De=function(){return n},n}var Ve=Object(m.b)(H)(De(),Re),Ue=m.b.div(Ge()),Be=function(){return Object(r.jsxs)(Ve,{children:[Object(r.jsxs)(Ue,{children:[Object(r.jsx)("h2",{children:"See movie details"}),Object(r.jsx)("p",{children:"Want to learn more about a movie before casting your vote? No problem."}),Object(r.jsx)("p",{children:"Tap on a movie to see more details, including:"}),Object(r.jsxs)("ul",{children:[Object(r.jsx)("li",{children:"Description"}),Object(r.jsx)("li",{children:"Duration"}),Object(r.jsx)("li",{children:"Genres"}),Object(r.jsx)("li",{children:"Trailer"})]}),Object(r.jsx)("p",{children:"Try it out, tap on the movie card."})]}),Object(r.jsx)(Pe,{})]})},We=t.p+"static/media/movie-posters.0e940876.jpg";function He(){var n=Object(b.a)(["\n    flex: 0;\n    background: var(--blue-action);\n    padding: 1rem 3rem;\n    font-weight: 500;\n    transition: background 100ms ease-in;\n    width: 100%;\n    margin: auto;\n\n    &:hover {\n        background: var(--blue-action-90);\n    }\n"]);return He=function(){return n},n}function Je(){var n=Object(b.a)(["\n    display: inline;\n    @media (min-width: 500px) {\n        display: none;\n    }\n"]);return Je=function(){return n},n}function Ye(){var n=Object(b.a)(["\n    text-transform: uppercase;\n    font-size: 1rem;\n    font-weight: 500;\n    color: #d8d8d8;\n    margin-bottom: 1rem;\n    letter-spacing: 2px;\n    margin-right: auto;\n    position: relative;\n    text-align: center;\n"]);return Ye=function(){return n},n}function qe(){var n=Object(b.a)(["\n    color: var(--white);\n    font-weight: 700;\n    font-size: 2.75rem;\n    text-transform: none;\n    line-height: 1.2;\n\n    @media (min-width: 700px) {\n        font-size: 3.5rem;\n    }\n"]);return qe=function(){return n},n}function Ze(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    font-size: 2rem;\n    max-width: 650px;\n    letter-spacing: 1px;\n    line-height: 1.4;\n    color: #b3c4d8;\n    margin: 0 0 4rem;\n    font-weight: 400;\n    text-align: center;\n    text-transform: uppercase;\n    position: relative;\n\n    &::after {\n        /* content: ''; */\n        position: absolute;\n        height: 2px;\n        background: #cecece54;\n        background: #aaaaaa;\n        width: 100%;\n        bottom: -0.5rem;\n        left: 0;\n    }\n\n    @media (min-width: 700px) {\n        font-size: 2.25rem;\n    }\n"]);return Ze=function(){return n},n}function $e(){var n=Object(b.a)(["\n    position: relative;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    padding: 4rem 1.5rem;\n    min-height: 500px;\n\n    @media (min-width: 450px) {\n        margin: auto;\n    }\n\n    @media (min-width: 700px) {\n        align-items: flex-start;\n        min-height: 600px;\n    }\n\n    @media (min-width: 1500px) {\n        padding: 6rem 1rem;\n        min-height: 700px;\n    }\n"]);return $e=function(){return n},n}function Qe(){var n=Object(b.a)(["\n    position: relative;\n    z-index: 1;\n    overflow: hidden;\n\n    &:before {\n        content: '';\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        width: 100%;\n        height: 100%;\n        z-index: -2;\n        background-image: url(",");\n        background-size: cover;\n        background-position: top;\n        background-repeat: no-repeat;\n    }\n\n    &:after {\n        content: '';\n        position: absolute;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: hsl(211deg 43% 13% / 90%);\n        width: 100%;\n        height: 100%;\n        z-index: -1;\n    }\n"]);return Qe=function(){return n},n}var Xe=m.b.section(Qe(),We),Ke=m.b.section($e()),nt=m.b.h1(Ze()),et=m.b.span(qe()),tt=m.b.h2(Ye()),rt=(m.b.br(Je()),Object(m.b)(Q)(He())),it=function(){var n=Object(l.f)();return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(Xe,{children:[Object(r.jsx)(Vn,{forceShow:!0}),Object(r.jsx)(Ke,{children:Object(r.jsxs)("div",{children:[Object(r.jsxs)(nt,{children:["Movie night?",Object(r.jsx)(et,{children:"Put it to a vote"})]}),Object(r.jsx)(tt,{children:"Find the right movie"}),Object(r.jsx)(rt,{onClick:function(){n.push("/create")},children:"Get Started"})]})})]}),Object(r.jsx)(ye,{}),Object(r.jsx)(Be,{})]})};function ct(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    margin-bottom: 1rem;\n\n    &:last-of-type {\n        margin-bottom: 4rem;\n    }\n"]);return ct=function(){return n},n}var ot=m.b.div(ct()),at={name:""},ut=function(){var n=Object(l.f)(),e=Object(l.h)().id,t=on(),c=t.user,o=t.setUser,a=Object(i.useState)(at),u=Object(z.a)(a,2),s=u[0],d=u[1],b=Object(i.useState)({}),m=Object(z.a)(b,2),j=m[0],f=m[1],p=Object(i.useState)(!1),h=Object(z.a)(p,2),O=h[0],v=h[1],x=function(){var n={};s.name||(n.name="Name is required.");return n}(),g=!Object.keys(x).length;return Object(r.jsxs)(Y,{onSubmit:function(t){if(t.preventDefault(),v(!0),g){var r=Object(E.a)(Object(E.a)({},c),{},{name:s.name,color:qn()({luminosity:"light",hue:"blue"})});o(r),n.push("/selection/".concat(e))}},children:[Object(r.jsxs)(ot,{children:[Object(r.jsx)("label",{children:"Your name"}),Object(r.jsx)("input",{type:"text",name:"name",onChange:function(n){var e=n.target,t=e.name,r=e.value;d((function(n){return Object(E.a)(Object(E.a)({},n),{},Object(N.a)({},t,r))}))},onBlur:function(n){var e=n.target.name;f((function(n){return Object(E.a)(Object(E.a)({},n),{},Object(N.a)({},e,!0))}))}}),(j.name||O)&&x.name&&Object(r.jsx)(q,{children:x.name})]}),Object(r.jsx)(X,{children:"Get Started"})]})},st=function(){return Object(r.jsxs)(J,{children:[Object(r.jsx)(Z,{children:"Enter Your Name"}),Object(r.jsx)($,{children:"Enter your name before proceeding to movie selection."}),Object(r.jsx)(ut,{})]})};function dt(){var n=Object(b.a)([""]);return dt=function(){return n},n}function lt(){var n=Object(b.a)(["\n    line-height: 1.3;\n"]);return lt=function(){return n},n}function bt(){var n=Object(b.a)(["\n    padding: 0.75rem;\n    margin: ",";\n    border-radius: 4px;\n    display: inline-block;\n    max-width: 500px;\n    background: ",";\n    color: hsl(340deg 38% 94%);\n"]);return bt=function(){return n},n}var mt=m.b.div(bt(),(function(n){return n.margin||""}),(function(n){return n.backgroundColor||"var(--accent-active)"})),jt=m.b.p(lt()),ft=m.b.aside(dt()),pt=function(n){var e=n.text,t=n.margin,i=n.backgroundColor,c=n.children;return c?Object(r.jsx)(mt,{margin:t,backgroundColor:i,children:Object(r.jsx)(ft,{children:c})}):Object(r.jsx)(mt,{margin:t,backgroundColor:i,children:Object(r.jsx)(jt,{children:e})})};function ht(){var n=Object(b.a)(["\n    h2 {\n    }\n"]);return ht=function(){return n},n}function Ot(){var n=Object(b.a)(["\n    margin-top: 0.5rem;\n    color: var(--white-muted);\n\n    span {\n        margin-right: 0.25rem;\n    }\n"]);return Ot=function(){return n},n}function vt(){var n=Object(b.a)(["\n    white-space: ",";\n    overflow: ",";\n    text-overflow: ",";\n    max-width: ","; ;\n"]);return vt=function(){return n},n}function xt(){var n=Object(b.a)(["\n    background-color: ",";\n    width: 12.5px;\n    height: 12.5px;\n    border-radius: 50%;\n    margin-right: 0.5rem;\n    flex-shrink: 0;\n"]);return xt=function(){return n},n}function gt(){var n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n    color: var(--white-muted);\n"]);return gt=function(){return n},n}function wt(){var n=Object(b.a)(["\n    list-style: none;\n    margin-top: 0.5rem;\n    padding: 0.5rem 0;\n\n    & > * + * {\n        margin-top: 0.5rem;\n    }\n"]);return wt=function(){return n},n}var yt=m.b.ul(wt()),kt=m.b.li(gt()),It=m.b.div(xt(),(function(n){return n.color})),St=m.b.p(vt(),(function(n){return 0===n.wrap&&"nowrap"}),(function(n){return 0===n.wrap&&"hidden"}),(function(n){return 0===n.wrap&&"ellipsis"}),(function(n){return 0===n.wrap&&"110px"})),Ct=m.b.p(Ot()),Et=m.b.section(ht()),zt=function(n){var e=n.users,t=Object(i.useState)(!1),c=Object(z.a)(t,2),o=c[0],a=c[1];return e.length>5?Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(yt,{children:[e.slice(0,5).map((function(n){return Object(r.jsxs)(kt,{children:[Object(r.jsx)(It,{color:n.color}),Object(r.jsx)(St,{wrap:0,children:n.name})]},n.id)})),Object(r.jsx)(kt,{children:Object(r.jsx)(Ct,{onClick:function(){return a(!0)},children:Object(r.jsxs)("button",{children:[Object(r.jsxs)("span",{children:["+",e.length-5]})," More"]})})})]}),Object(r.jsx)(fn,{visible:o,onClose:function(){return a(!1)},height:300,children:Object(r.jsxs)(Et,{children:[Object(r.jsx)("h2",{children:"Likes"}),Object(r.jsx)(yt,{children:e.map((function(n){return Object(r.jsxs)(kt,{children:[Object(r.jsx)(It,{color:n.color}),Object(r.jsx)(St,{wrap:1,children:n.name})]},n.id)}))})]})})]}):Object(r.jsx)(yt,{children:e.map((function(n){return Object(r.jsxs)(kt,{children:[Object(r.jsx)(It,{color:n.color}),Object(r.jsx)(St,{wrap:0,children:n.name})]},n.id)}))})};function Nt(){var n=Object(b.a)(["\n    font-size: 1rem;\n    margin-right: 0.5rem;\n"]);return Nt=function(){return n},n}function Tt(){var n=Object(b.a)(["\n    background: var(--blue-active);\n    width: 100%;\n    padding: 1rem;\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n"]);return Tt=function(){return n},n}function Mt(){var n=Object(b.a)(["\n    width: 100%;\n    background: var(--blue-dark);\n    padding: 1rem 1.5rem;\n"]);return Mt=function(){return n},n}function _t(){var n=Object(b.a)(["\n    font-size: 1.125rem;\n    font-weight: 600;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n    border-bottom: 1px solid var(--gray);\n    padding-bottom: 0.5rem;\n"]);return _t=function(){return n},n}function Rt(){var n=Object(b.a)(["\n    font-weight: 600;\n    font-size: 1.25rem;\n    text-align: center;\n    padding: 0.5rem 1rem;\n    background: hsl(213deg 47% 48% / 90%);\n    position: absolute;\n    top: -1rem;\n    left: 50%;\n    transform: translateX(-50%);\n    display: flex;\n    align-items: baseline;\n    border-radius: 4px;\n\n    span {\n        font-size: 1rem;\n        font-weight: 500;\n        text-transform: uppercase;\n        letter-spacing: 1px;\n        margin-left: 0.5rem;\n    }\n"]);return Rt=function(){return n},n}function Ft(){var n=Object(b.a)(["\n    height: 230px;\n    object-fit: cover;\n    display: block;\n    border-radius: 4px;\n"]);return Ft=function(){return n},n}function At(){var n=Object(b.a)(["\n    position: relative;\n"]);return At=function(){return n},n}function Lt(){var n=Object(b.a)(["\n    display: flex;\n    position: relative;\n"]);return Lt=function(){return n},n}function Pt(){var n=Object(b.a)(["\n    border-right: 1px solid var(--blue-dark);\n    background: var(--blue-dark);\n"]);return Pt=function(){return n},n}var Gt=m.b.article(Pt()),Dt=m.b.div(Lt()),Vt=Object(m.b)(s.c.div)(At()),Ut=Object(m.b)(s.c.img)(Ft()),Bt=m.b.p(Rt()),Wt=m.b.h3(_t()),Ht=m.b.div(Mt()),Jt=Object(m.b)(Q)(Tt()),Yt=Object(m.b)(ze.d)(Nt()),qt=function(n){var e=n.movie,t=Hn().setMoviePreview,i=Object(l.g)().pathname,c=e.swipes.filter((function(n){return n.liked})).map((function(n){return n.user}));c.map((function(n){return null===n||void 0===n?void 0:n.color}));return Object(r.jsxs)(Gt,{children:[Object(r.jsxs)(Dt,{children:[Object(r.jsxs)(Vt,{children:[Object(r.jsxs)(Bt,{children:[c.length," ",Object(r.jsx)("span",{children:"likes"})]}),Object(r.jsx)(Ut,{src:tn(e.poster_path,"w500")})]}),Object(r.jsxs)(Ht,{children:[Object(r.jsx)(Wt,{children:e.title}),Object(r.jsx)(zt,{users:c})]})]}),Object(r.jsxs)(Jt,{onClick:function(){i.includes(e.id.toString())?t(null):t(e)},children:[Object(r.jsx)(Yt,{}),"Movie Details"]})]})};function Zt(){var n=Object(b.a)(["\n    text-align: center;\n"]);return Zt=function(){return n},n}function $t(){var n=Object(b.a)(["\n    display: grid;\n    gap: 4rem;\n    grid-template-columns: repeat(auto-fill, minmax(350px, 1fr));\n"]);return $t=function(){return n},n}var Qt=m.b.section($t()),Xt=m.b.p(Zt()),Kt=function(n){var e=n.movies;return e.length?Object(r.jsx)(Qt,{children:e.map((function(n){return Object(r.jsx)(qt,{movie:n},n.id)}))}):Object(r.jsx)(Xt,{children:"No matches yet."})};function nr(){var n=Object(b.a)([""]);return nr=function(){return n},n}var er=Object(m.b)(H)(nr()),tr=function(){var n=dn().room,e=n.movies.map((function(n){var e=n.swipes.reduce((function(n,e){return e.liked?n+1:n}),0);return Object(E.a)(Object(E.a)({},n),{},{likes:e})})).sort((function(n,e){return e.likes-n.likes})).filter((function(n){return n.likes>1})),t=function(){var e=n.participants.map((function(n){return n.id}));return n.movies.reduce((function(n,t){var r=t.swipes.map((function(n){return n.user.id}));return t.swipes.length>=e.length&&e.every((function(n){return r.includes(n)}))}),!0)?{text:"Everyone's done swiping. See the final results below.",backgroundColor:"var(--accent-purple)"}:{text:"Others are still swiping. Results may change.",backgroundColor:"hsla(0, 0%, 49.4%, 0.5)"}}(),i=t.text,c=t.backgroundColor;return Object(r.jsxs)(er,{children:[Object(r.jsx)(Z,{children:"Final Results"}),Object(r.jsx)($,{children:"Only movies that 2 or more participants liked will show up here."}),Object(r.jsx)(pt,{text:i,margin:"0 0 4rem",backgroundColor:c}),Object(r.jsx)(Kt,{movies:e})]})},rr=function(n){var e=dn().room,t=on().user,i=e.movies.find((function(e){return e.id===n.id})),c=(null===i||void 0===i?void 0:i.addedByUserId)===t.id;return{movieActionHandler:function(){if(i){if(i&&!c)return void rn({type:nn.Custom,message:function(){return Object(r.jsxs)("span",{children:[Object(r.jsx)(K,{children:n.title})," can only be removed by the person who added it."]})}});!function(n,e){_.emit("movie:remove",n,e)}({roomId:e.roomId,movieId:n.id},(function(e){e.success||d.b.error("There was a problem removing ".concat(n.title,"."))}))}else{var o=Object(E.a)(Object(E.a)({},n),{},{addedByUserId:t.id,swipes:[]});a={roomId:e.roomId,movie:o},u=function(e){e.success?rn({type:nn.Success,message:function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("span",{children:["Added ",Object(r.jsx)(K,{children:n.title}),"."]})})}}):(rn({type:nn.Error,message:function(){return Object(r.jsx)(r.Fragment,{children:Object(r.jsxs)("span",{children:["There was a problem adding ",Object(r.jsx)(K,{children:n.title}),"."]})})}}),d.b.error("There was a problem adding ".concat(n.title,".")))},_.emit("movie:add",a,u)}var a,u},buttonBackgroundColor:i?i&&!c?"hsl(213deg 6% 37% / 90%)":"var(--accent-dark-90)":"hsl(213deg 40% 49%)",movieInList:i}},ir=t(86),cr=t(19),or=t(87);function ar(){var n=Object(b.a)(["\n    display: none;\n    max-width: 300px;\n    background: ",";\n    padding: 0.5rem 1rem;\n    border-radius: 4px;\n    margin-bottom: 2rem;\n\n    @media screen and (min-width: 600px) {\n        display: flex;\n    }\n"]);return ar=function(){return n},n}function ur(){var n=Object(b.a)(["\n    ","\n"]);return ur=function(){return n},n}function sr(){var n=Object(b.a)(["\n    ","\n"]);return sr=function(){return n},n}function dr(){var n=Object(b.a)(["\n    ","\n"]);return dr=function(){return n},n}function lr(){var n=Object(b.a)(["\n    margin-right: 1rem;\n    font-size: 1.125rem;\n"]);return lr=function(){return n},n}function br(){var n=Object(b.a)(["\n    background: ",";\n    border-top-left-radius: 0;\n"]);return br=function(){return n},n}function mr(){var n=Object(b.a)([""]);return mr=function(){return n},n}function jr(){var n=Object(b.a)(["\n    display: flex;\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: 0;\n    background: hsl(213deg 23% 25%);\n    box-shadow: 0 -2px 10px -1px rgb(0 0 0 / 30%);\n    margin-top: auto;\n\n    @media screen and (min-width: 600px) {\n        display: none;\n    }\n"]);return jr=function(){return n},n}function fr(){var n=Object(b.a)(["\n    width: 100%;\n\n    @media screen and (min-width: 450px) {\n        height: 275px;\n    }\n\n    @media screen and (min-width: 600px) {\n        height: 500px;\n        margin-bottom: 3rem;\n    }\n"]);return fr=function(){return n},n}function pr(){var n=Object(b.a)(["\n    margin-left: 0.5rem;\n    color: #dada1b;\n"]);return pr=function(){return n},n}function hr(){var n=Object(b.a)(["\n    p {\n        display: flex;\n    }\n"]);return hr=function(){return n},n}function Or(){var n=Object(b.a)(["\n    display: grid;\n    grid-gap: 1rem;\n    margin-bottom: 2rem;\n\n    @media screen and (min-width: 350px) {\n        grid-template-columns: repeat(2, minmax(130px, 200px));\n    }\n"]);return Or=function(){return n},n}function vr(){var n=Object(b.a)(["\n    display: flex;\n    align-items: center;\n"]);return vr=function(){return n},n}function xr(){var n=Object(b.a)(["\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    padding-bottom: 0.5rem;\n    margin-bottom: 1rem;\n    color: var(--gray);\n    border-bottom: 1px solid;\n    font-size: 0.875rem;\n"]);return xr=function(){return n},n}function gr(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    font-weight: 600;\n    margin-bottom: 0.5rem;\n"]);return gr=function(){return n},n}function wr(){var n=Object(b.a)(["\n    line-height: 1.7;\n    margin-bottom: 2rem;\n"]);return wr=function(){return n},n}function yr(){var n=Object(b.a)(["\n    background: #495768;\n    color: var(--white);\n    padding: 0.125rem 0.75rem;\n    border-radius: 99px;\n"]);return yr=function(){return n},n}function kr(){var n=Object(b.a)(["\n    display: flex;\n    flex-wrap: wrap;\n    margin-bottom: 2rem;\n\n    & > * {\n        margin-top: 0.5rem;\n        margin-right: 0.5rem;\n    }\n"]);return kr=function(){return n},n}function Ir(){var n=Object(b.a)(["\n    margin-bottom: 1rem;\n    color: var(--white-muted);\n"]);return Ir=function(){return n},n}function Sr(){var n=Object(b.a)(["\n    font-size: 3rem;\n    margin-bottom: 0.5rem;\n"]);return Sr=function(){return n},n}function Cr(){var n=Object(b.a)(["\n    height: auto;\n    min-height: 100%;\n    width: 100%;\n    position: relative;\n    padding: 2rem 2rem 6rem;\n\n    @media screen and (min-width: 600px) {\n        max-width: 800px;\n        max-height: 500px;\n        left: 0;\n        right: 0;\n        margin: auto;\n        border-radius: 4px;\n        padding: 3rem;\n    }\n"]);return Cr=function(){return n},n}function Er(){var n=Object(b.a)(["\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 100%;\n    width: 100%;\n    display: block;\n    object-fit: cover;\n    filter: brightness(0.25);\n    z-index: -1;\n\n    @media screen and (min-width: 600px) {\n        height: auto;\n    }\n"]);return Er=function(){return n},n}function zr(){var n=Object(b.a)(["\n    height: 100%;\n    width: 100%;\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    will-change: opacity;\n    z-index: 7;\n    overflow-y: scroll;\n\n    @media screen and (min-width: 600px) {\n        max-width: 800px;\n        max-height: 500px;\n        left: 0;\n        right: 0;\n        margin: auto;\n        background: rgba(0, 0, 0, 0.5);\n        border-radius: 4px;\n    }\n"]);return zr=function(){return n},n}function Nr(){var n=Object(b.a)(["\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    width: 100%;\n    height: 100%;\n    background: rgba(0, 0, 0, 0);\n    will-change: opacity;\n    z-index: 6;\n\n    @media screen and (min-width: 600px) {\n        background: rgba(0, 0, 0, 0.5);\n    }\n"]);return Nr=function(){return n},n}var Tr=Object(m.b)(s.c.div)(Nr()),Mr=Object(m.b)(s.c.section)(zr()),_r=Object(m.b)(s.c.img)(Er()),Rr=Object(m.b)(s.c.article)(Cr()),Fr=Object(m.b)(s.c.h3)(Sr()),Ar=m.b.p(Ir()),Lr=m.b.div(kr()),Pr=m.b.p(yr()),Gr=m.b.p(wr()),Dr=m.b.p(gr()),Vr=m.b.p(xr()),Ur=m.b.p(vr()),Br=m.b.div(Or()),Wr=m.b.div(hr()),Hr=Object(m.b)(ir.a)(pr()),Jr=m.b.iframe(fr()),Yr=Object(m.b)(s.c.div)(jr()),qr=Object(m.b)(Q)(mr()),Zr=Object(m.b)(Q)(br(),(function(n){return n.backgroundColor||"var(--blue-action)"})),$r=Object(m.a)(lr()),Qr=Object(m.b)(or.a)(dr(),$r),Xr=Object(m.b)(cr.c)(sr(),$r),Kr=Object(m.b)(cr.b)(ur(),$r),ni=Object(m.b)(Q)(ar(),(function(n){return n.backgroundColor||"var(--blue-action)"})),ei=function(n){var e,t,c,o=n.movie,a=Object(l.f)(),u=dn().room,d=rr(o),b=d.movieActionHandler,m=d.buttonBackgroundColor,j=d.movieInList,p=Hn().setMoviePreview,h=Object(i.useState)(null),O=Object(z.a)(h,2),v=O[0],x=O[1],g=Object(i.useState)(!1),w=Object(z.a)(g,2),y=(w[0],w[1]),k=tn(o.poster_path,"w500"),I=v&&(null===v||void 0===v||null===(e=v.videos)||void 0===e||null===(t=e.results)||void 0===t?void 0:t.find((function(n){return"Trailer"===n.type&&"YouTube"===n.site}))),S="https://www.youtube.com/embed/".concat(null===I||void 0===I?void 0:I.key),C=a.location.pathname.includes(f.SELECTION);Object(i.useEffect)((function(){var n=function(n){console.log(n),"Escape"===n.key&&a.push("/selection/".concat(u.roomId))};return window.addEventListener("keydown",n),window.removeEventListener("keydown",n)}),[]),Object(i.useEffect)((function(){return N(),document.body.style.overflow="hidden",function(){E.cancel("Component got unmounted"),document.body.style.overflow="unset"}}),[o]);var E=Ee.a.CancelToken.source(),N=function(){var n=Object(Se.a)(Ie.a.mark((function n(){var e;return Ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,y(!0),n.next=4,Ee.a.get("/movies/".concat(o.id),{cancelToken:E.token});case 4:200===(e=n.sent).status&&x(e.data),y(!1),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),E.cancel("Error in try catch block."),console.log(n.t0),y(!1);case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}();return Object(r.jsx)(Tr,{"data-overlay":!0,onClick:function(n){n.target.attributes["data-overlay"]&&p(null)},initial:{opacity:0},animate:{opacity:1},exit:{opacity:0,transition:{duration:0}},children:Object(r.jsx)(Mr,{children:Object(r.jsxs)(Rr,{initial:{opacity:0},animate:{opacity:1},layoutId:"image-".concat(o.id),children:[Object(r.jsx)(_r,{src:k}),Object(r.jsx)(s.a,{children:v&&Object(r.jsxs)(s.c.div,{initial:{opacity:0},animate:{opacity:1},transition:{duration:.2,delay:.25},children:[C&&Object(r.jsxs)(ni,{onClick:b,backgroundColor:m,children:[" ",!j&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Xr,{})," Add Movie"]}),j&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Kr,{})," Remove Movie"]})]}),Object(r.jsx)(Fr,{children:v.title}),Object(r.jsx)(Ar,{children:v.tagline}),Object(r.jsx)(Lr,{children:null===(c=v.genres)||void 0===c?void 0:c.map((function(n){return Object(r.jsx)(Pr,{children:n.name},n.id)}))}),Object(r.jsx)(Dr,{children:"Overview"}),Object(r.jsx)(Gr,{children:v.overview}),Object(r.jsx)(Vr,{children:"Details"}),Object(r.jsxs)(Br,{children:[Object(r.jsxs)(Wr,{children:[Object(r.jsx)(Dr,{children:"Rating"}),Object(r.jsxs)(Ur,{children:[v.vote_average," ",Object(r.jsx)(Hr,{})]})]}),Object(r.jsxs)(Wr,{children:[Object(r.jsx)(Dr,{children:"Runtime"}),Object(r.jsxs)("p",{children:[v.runtime," min"]})]}),Object(r.jsxs)(Wr,{children:[Object(r.jsx)(Dr,{children:"Released"}),Object(r.jsx)("p",{children:v.release_date})]}),Object(r.jsxs)(Wr,{children:[Object(r.jsx)(Dr,{children:"Language"}),Object(r.jsx)("p",{children:v.original_language.toUpperCase()})]})]}),I&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Vr,{children:"Trailer"}),Object(r.jsx)(Jr,{src:S,frameBorder:"0",allowFullScreen:!0})]}),Object(r.jsxs)(Yr,{initial:{opacity:0,y:50},animate:{opacity:1,y:0,transition:{duration:.75}},children:[Object(r.jsxs)(qr,{onClick:function(){p(null)},children:[Object(r.jsx)(Qr,{}),"Go Back"]}),C&&Object(r.jsxs)(Zr,{onClick:b,backgroundColor:m,children:[!j&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Xr,{})," Add Movie"]}),j&&Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(Kr,{})," Remove"]})]})]})]})})]})})})};function ti(){var n=Object(b.a)(["\n    background: var(--blue-action);\n    padding: 0.5rem 1.25rem;\n    border-top-left-radius: 0;\n    border-bottom-left-radius: 0;\n"]);return ti=function(){return n},n}function ri(){var n=Object(b.a)(["\n    display: flex;\n\n    input {\n        padding: 0.5rem;\n        border-radius: 4px;\n        flex-basis: 65%;\n        text-overflow: ellipsis;\n        border-top-right-radius: 0;\n        border-bottom-right-radius: 0;\n    }\n"]);return ri=function(){return n},n}function ii(){var n=Object(b.a)(["\n    color: var(--white-muted);\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 0.875rem;\n    margin-bottom: 0.5rem;\n    display: inline-block;\n"]);return ii=function(){return n},n}function ci(){var n=Object(b.a)(["\n    margin-bottom: 2rem;\n\n    @media (min-width: 800px) {\n        max-width: 400px;\n    }\n"]);return ci=function(){return n},n}var oi=m.b.aside(ci()),ai=m.b.label(ii()),ui=m.b.div(ri()),si=Object(m.b)(Q)(ti()),di=function(){var n=Object(i.useRef)(null);return Object(r.jsxs)(oi,{children:[Object(r.jsx)(ai,{children:"Invite Link"}),Object(r.jsxs)(ui,{children:[Object(r.jsx)("input",{type:"text",name:"link",defaultValue:window.location.href,ref:n,onClick:function(){var e;null===(e=n.current)||void 0===e||e.select()},readOnly:!0}),Object(r.jsx)(si,{onClick:function(){navigator.clipboard.writeText(window.location.href),rn({type:nn.Custom,message:"Copied to clipboard."})},children:"Copy"})]})]})};function li(){var n=Object(b.a)(["\n    position: ",";\n    left: 0;\n    right: 0;\n    bottom: -3px;\n    display: flex;\n    box-shadow: 0 -2px 10px -1px rgb(0 0 0 / 30%);\n    width: 100%;\n    z-index: 4;\n\n    @media screen and (min-width: 600px) {\n        margin: auto;\n        width: fit-content;\n        bottom: 1rem;\n    }\n"]);return li=function(){return n},n}var bi=Object(m.b)(s.c.div)(li(),(function(n){return n.position||"fixed"})),mi={initial:{y:75,opacity:0},animate:{y:0,opacity:1,transition:{duration:.5,delay:1}}},ji=function(n){var e=n.position,t=n.children;return Object(r.jsx)(bi,{variants:mi,initial:"initial",animate:"animate",position:e,children:t})},fi=t(88);function pi(){var n=Object(b.a)(["\n    background: var(--accent-purple);\n    padding: 0.75rem 1rem;\n    width: 100%;\n    margin-top: 2rem;\n"]);return pi=function(){return n},n}function hi(){var n=Object(b.a)(["\n    line-height: 1.3;\n    margin-bottom: 2rem;\n"]);return hi=function(){return n},n}function Oi(){var n=Object(b.a)(["\n    padding: 0 1rem;\n    h2 {\n        font-size: 1.5rem;\n        font-weight: 600;\n        margin-bottom: 1rem;\n        display: flex;\n        align-items: center;\n    }\n\n    ul {\n        margin-bottom: 2rem;\n        & > * + * {\n            margin-top: 1rem;\n        }\n    }\n\n    li {\n        list-style: none;\n        display: flex;\n        justify-content: space-between;\n        align-items: center;\n        font-size: 1.125rem;\n\n        div {\n            display: flex;\n            align-items: center;\n        }\n\n        p {\n            text-transform: uppercase;\n            letter-spacing: 1px;\n            font-size: 0.875rem;\n            color: var(--white-muted);\n        }\n    }\n"]);return Oi=function(){return n},n}function vi(){var n=Object(b.a)(["\n    margin-bottom: 1rem;\n    color: var(--white-muted);\n"]);return vi=function(){return n},n}function xi(){var n=Object(b.a)(["\n    flex: 30%;\n    background: var(--blue-dark-bg);\n    outline: none;\n    border-radius: 0;\n    border-top-left-radius: 4px;\n    border-bottom-left-radius: 4px;\n\n    span {\n        width: 20px;\n    }\n"]);return xi=function(){return n},n}function gi(){var n=Object(b.a)(["\n    background: var(--blue-active);\n"]);return gi=function(){return n},n}function wi(){var n=Object(b.a)(["\n    background: ",";\n    color: ",";\n    transition: all ease-in 250ms;\n    flex: 70%;\n    outline: none;\n    border-radius: 0;\n    border-top-right-radius: 4px;\n    border-bottom-right-radius: 4px;\n\n    & "," {\n        transition: all ease-in 250ms;\n        color: ",";\n    }\n\n    @media screen and (min-width: 600px) {\n        padding: 1rem 2rem;\n        white-space: nowrap;\n    }\n"]);return wi=function(){return n},n}function yi(){var n=Object(b.a)(["\n    ","\n    font-size: 1rem;\n"]);return yi=function(){return n},n}function ki(){var n=Object(b.a)(["\n    ","\n"]);return ki=function(){return n},n}function Ii(){var n=Object(b.a)(["\n    ","\n"]);return Ii=function(){return n},n}function Si(){var n=Object(b.a)(["\n    ","\n"]);return Si=function(){return n},n}function Ci(){var n=Object(b.a)(["\n    ","\n"]);return Ci=function(){return n},n}function Ei(){var n=Object(b.a)(["\n    ","\n"]);return Ei=function(){return n},n}function zi(){var n=Object(b.a)(["\n    ","\n    margin-right: 0.5rem;\n"]);return zi=function(){return n},n}function Ni(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    margin-right: 1rem;\n    width: 20px;\n"]);return Ni=function(){return n},n}function Ti(){var n=Object(b.a)(["\n    position: fixed;\n    left: 0;\n    right: 0;\n    bottom: -3px;\n    display: flex;\n    box-shadow: 0 -2px 10px -1px rgb(0 0 0 / 30%);\n    width: 100%;\n    z-index: 4;\n\n    @media screen and (min-width: 600px) {\n        margin: auto;\n        width: fit-content;\n        bottom: 1rem;\n    }\n"]);return Ti=function(){return n},n}m.b.div(Ti());var Mi=Object(m.a)(Ni()),_i=Object(m.b)(pn.e)(zi(),Mi),Ri=Object(m.b)(ze.a)(Ei(),Mi),Fi=Object(m.b)(ze.b)(Ci(),Mi),Ai=(Object(m.b)(fi.a)(Si(),Mi),Object(m.b)(ze.e)(Ii(),Mi)),Li=Object(m.b)(pn.a)(ki(),Mi),Pi=Object(m.b)(pn.d)(yi(),Mi),Gi=Object(m.b)(Q)(wi(),(function(n){return n.disable?"#808080":"var(--accent-purple)"}),(function(n){return n.disable?"#cbc8c8":"var(--white)"}),Ai,(function(n){return n.disable&&"#a9a9a9"})),Di=Object(m.b)(Gi)(gi()),Vi=Object(m.b)(Q)(xi()),Ui=(m.b.p(vi()),m.b.div(Oi())),Bi=(m.b.p(hi()),Object(m.b)(Q)(pi())),Wi=function(){var n,e=dn().room,t=on().user,c=Object(l.f)(),o=Object(i.useState)(!1),a=Object(z.a)(o,2),u=a[0],s=a[1],b=Object(i.useState)(!1),m=Object(z.a)(b,2),j=m[0],f=m[1],p=e.participants.find((function(n){return n.id===e.ownerId})),h=null===(n=e.participants.find((function(n){return n.id===t.id})))||void 0===n?void 0:n.ready,O=e.participants.filter((function(n){return n.ready&&n.id!==e.ownerId})),v=!e.movies.length||!O.length,x=Object(i.useRef)(),g=Object(i.useRef)();return Object(i.useEffect)((function(){return function(){x.current&&(d.b.dismiss(x.current),x.current=void 0)}}),[]),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsxs)(ji,{position:"fixed",children:[Object(r.jsxs)(Vi,{onClick:function(n){n.stopPropagation(),s(!0)},children:[Object(r.jsx)(_i,{})," ",Object(r.jsx)("span",{children:O.length})]}),p&&p.id===t.id?Object(r.jsxs)(Gi,{onClick:function(){v?e.participants.length<=1?rn({type:nn.Custom,message:"Invite participants to start."}):e.movies.length?O.length||rn({type:nn.Custom,message:"Wait for participants to be ready."}):rn({type:nn.Custom,message:"Add movies to your list to start swiping."}):f(!0)},disable:v,children:[Object(r.jsx)(Ai,{}),"Start Swiping"]}):Object(r.jsxs)(Di,{onClick:function(){var n,r;d.b.dismiss(x.current),clearTimeout(g.current),n={roomId:e.roomId,userId:t.id},r=function(n){n.success&&!h&&(rn({type:nn.Success,message:"The room owner has been notified.",duration:2500}),g.current=window.setTimeout((function(){return x.current=rn({type:nn.Loading,message:"Waiting for room owner to start.",duration:99999})}),2500))},_.emit("user:ready",n,r)},children:[h?Object(r.jsx)(Ri,{}):Object(r.jsx)(Fi,{}),"Ready To Swipe"]})]}),Object(r.jsx)(fn,{visible:u,onClose:function(){return s(!1)},height:300,maxWidth:400,children:Object(r.jsxs)(Ui,{children:[Object(r.jsx)("h2",{children:"Participants"}),Object(r.jsx)("ul",{children:e.participants.map((function(n){return n.id===e.ownerId?Object(r.jsxs)("li",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Li,{}),n.name]}),Object(r.jsx)("p",{children:"Owner"})]},n.id):Object(r.jsxs)("li",{children:[Object(r.jsxs)("div",{children:[Object(r.jsx)(Pi,{})," ",n.name]}),n.ready&&Object(r.jsx)("p",{children:"Ready"})]},n.id)}))})]})}),Object(r.jsx)(fn,{visible:j,onClose:function(){return f(!1)},height:280,maxWidth:400,children:Object(r.jsxs)(Ui,{children:[Object(r.jsx)("h2",{children:"Start Swiping"}),Object(r.jsxs)("ol",{children:[Object(r.jsx)("li",{children:"This action will move everyone in the group to the swiping stage."}),Object(r.jsx)("br",{}),Object(r.jsx)("li",{children:"Once in this stage, group members won't be allowed to go back and add more movies."})]}),Object(r.jsx)(Bi,{onClick:function(){var n,t;n={roomId:e.roomId},_.emit("swiper:start",n,t),c.replace("/swiper/".concat(e.roomId))},children:"Start"})]})})]})};function Hi(){var n=Object(b.a)(["\n    display: ",";\n"]);return Hi=function(){return n},n}function Ji(){var n=Object(b.a)(["\n    background: none;\n    border: none;\n    cursor: pointer;\n    text-transform: uppercase;\n    letter-spacing: 1px;\n    font-size: 0.875rem;\n    font-weight: ",";\n    border-bottom: ",";\n    background: ",";\n    color: var(--white);\n    padding: 1rem;\n    border-top-left-radius: 4px;\n    border-top-right-radius: 4px;\n"]);return Ji=function(){return n},n}function Yi(){var n=Object(b.a)(["\n    display: flex;\n    margin-bottom: 2rem;\n\n    & > * {\n        flex: 1;\n    }\n"]);return Yi=function(){return n},n}var qi=m.b.nav(Yi()),Zi=m.b.button(Ji(),(function(n){return n.selected?500:400}),(function(n){return!n.selected&&"2px solid var(--blue-active)"}),(function(n){return n.selected&&"var(--blue-active)"})),$i=m.b.section(Hi(),(function(n){return n.show?"block":"none"})),Qi=function(n){var e=n.tabs,t=n.children,c=Object(i.useState)(0),o=Object(z.a)(c,2),a=o[0],u=o[1];return Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)(qi,{children:e.map((function(n,e){return Object(r.jsx)(Zi,{selected:a===e,onClick:function(n){return function(n){u(n)}(e)},children:n},e)}))}),t.map((function(n,e){return Object(r.jsx)($i,{show:a===e,children:n},e)}))]})},Xi=[{id:28,name:"Action"},{id:12,name:"Adventure"},{id:16,name:"Animation"},{id:35,name:"Comedy"},{id:80,name:"Crime"},{id:99,name:"Documentary"},{id:18,name:"Drama"},{id:10751,name:"Family"},{id:14,name:"Fantasy"},{id:36,name:"History"},{id:27,name:"Horror"},{id:10402,name:"Music"},{id:9648,name:"Mystery"},{id:10749,name:"Romance"},{id:878,name:"Science Fiction"},{id:10770,name:"TV Movie"},{id:53,name:"Thriller"},{id:10752,name:"War"},{id:37,name:"Western"}];function Ki(){var n=Object(b.a)(["\n    font-size: 1.125rem;\n    margin-right: 0.5rem;\n"]);return Ki=function(){return n},n}function nc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return nc=function(){return n},n}function ec(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return ec=function(){return n},n}function tc(){var n=Object(b.a)(["\n    position: absolute;\n    top: 1rem;\n    left: 1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: ",";\n    border-radius: 50%;\n    padding: 0.25rem;\n    box-shadow: 0 10px 20px rgb(0 0 0 / 19%), 0 6px 6px rgb(0 0 0 / 23%);\n    cursor: pointer;\n    z-index: 2;\n"]);return tc=function(){return n},n}function rc(){var n=Object(b.a)(["\n    font-size: 1rem;\n    width: 100%;\n    padding: 0.5rem 1rem;\n    background: #445970;\n    position: absolute;\n    bottom: 0rem;\n    left: 0;\n    right: 0;\n    margin: auto;\n    z-index: 1;\n"]);return rc=function(){return n},n}function ic(){var n=Object(b.a)(["\n    line-height: 1.3;\n    position: relative;\n\n    /* &:after {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(\n            to top,\n            hsl(210, 38%, 15%) 0%,\n            hsla(210, 38%, 15%, 1) 18.7%,\n            hsla(210, 38%, 15%, 1) 34.8%,\n            hsla(210, 38%, 15%, 1) 48.6%,\n            hsla(210, 38%, 15%, 1) 60.3%,\n            hsla(210, 38%, 15%, 1) 69.9%,\n            hsla(210, 38%, 15%, 0.626) 77.8%,\n            hsla(210, 38%, 15%, 0.562) 84.1%,\n            hsla(210, 38%, 15%, 0.497) 89%,\n            hsla(210, 38%, 15%, 0.431) 92.7%,\n            hsla(210, 38%, 15%, 0.364) 95.4%,\n            hsla(210, 38%, 15%, 0.295) 97.2%,\n            hsla(210, 38%, 15%, 0.224) 98.4%,\n            hsla(210, 38%, 15%, 0.151) 99.2%,\n            hsla(210, 38%, 15%, 0.077) 99.6%,\n            hsla(210, 38%, 15%, 0) 100%\n        );\n\n        linear-gradient(\n            to bottom,\n            hsla(210, 38%, 15%, 0) 0%,\n            hsla(210, 38%, 15%, 0.106) 8.1%,\n            hsla(210, 38%, 15%, 0.2) 14.7%,\n            hsla(210, 38%, 15%, 0.284) 20%,\n            hsla(210, 38%, 15%, 0.358) 24.4%,\n            hsla(210, 38%, 15%, 0.426) 28.1%,\n            hsla(210, 38%, 15%, 0.487) 31.6%,\n            hsla(210, 38%, 15%, 0.544) 35.1%,\n            hsla(210, 38%, 15%, 0.598) 38.8%,\n            hsla(210, 38%, 15%, 0.649) 43.2%,\n            hsla(210, 38%, 15%, 0.701) 48.5%,\n            hsla(210, 38%, 15%, 0.753) 55.1%,\n            hsla(210, 38%, 15%, 0.808) 63.2%,\n            hsla(210, 38%, 15%, 0.866) 73.2%,\n            hsla(210, 38%, 15%, 0.93) 85.3%,\n            hsl(210, 38%, 15%) 100%\n        );\n    } */\n"]);return ic=function(){return n},n}function cc(){var n=Object(b.a)(["\n    font-size: 0.875rem;\n    margin-right: 0.5rem;\n\n    @media screen and (min-width: 800px) {\n        font-size: 1rem;\n        margin-right: 1rem;\n    }\n"]);return cc=function(){return n},n}function oc(){var n=Object(b.a)(["\n    display: flex;\n    margin-bottom: 0.5rem;\n\n    @media screen and (min-width: 800px) {\n        margin-bottom: 1rem;\n    }\n"]);return oc=function(){return n},n}function ac(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    margin-bottom: 0.5rem;\n\n    @media screen and (min-width: 800px) {\n        font-size: 2rem;\n    }\n"]);return ac=function(){return n},n}function uc(){var n=Object(b.a)(["\n    overflow: hidden;\n    position: relative;\n\n    &:after {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(\n            to top,\n            hsl(210, 38%, 15%) 0%,\n            hsla(210, 38%, 15%, 0.941) 25%,\n            hsla(210, 38%, 15%, 0.881) 28%,\n            hsla(210, 38%, 15%, 0.819) 32%,\n            hsla(210, 38%, 15%, 0.756) 36%,\n            hsla(210, 38%, 15%, 0.692) 41.3%,\n            hsla(210, 38%, 15%, 0.626) 45.7%,\n            hsla(210, 38%, 15%, 0.56) 49.6%,\n            hsla(210, 38%, 15%, 0.492) 53.3%,\n            hsla(210, 38%, 15%, 0.424) 57.2%,\n            hsla(210, 38%, 15%, 0.355) 61.4%,\n            hsla(210, 38%, 15%, 0.285) 66.4%,\n            hsla(210, 38%, 15%, 0.214) 72.4%,\n            hsla(210, 38%, 15%, 0.143) 79.8%,\n            hsla(210, 38%, 15%, 0.072) 88.9%,\n            hsla(210, 38%, 15%, 0) 100%\n        );\n    }\n"]);return uc=function(){return n},n}function sc(){var n=Object(b.a)(["\n    max-width: 30%;\n    object-fit: cover;\n    display: block;\n    border-radius: 4px;\n    margin-right: 1rem;\n\n    @media screen and (min-width: 600px) {\n        margin-right: 2rem;\n    }\n"]);return sc=function(){return n},n}function dc(){var n=Object(b.a)(["\n    display: flex;\n    position: relative;\n    height: 250px;\n    cursor: pointer;\n\n    @media screen and (min-width: 800px) {\n        height: 300px;\n    }\n"]);return dc=function(){return n},n}var lc=m.b.article(dc()),bc=Object(m.b)(s.c.img)(sc()),mc=m.b.article(uc()),jc=m.b.h3(ac()),fc=m.b.div(oc()),pc=Object(m.b)(Pr)(cc()),hc=m.b.p(ic()),Oc=Object(m.b)(Q)(rc()),vc=m.b.button(tc(),(function(n){return n.backgroundColor||"#4c7fbd"})),xc=Object(m.b)(cr.c)(ec()),gc=Object(m.b)(cr.b)(nc()),wc=Object(m.b)(ze.d)(Ki()),yc=function(n){var e=n.movie,t=n.allowActions,i=Hn().setMoviePreview,c=Object(l.f)(),o=rr(e),a=o.movieInList,u=o.movieActionHandler,s=o.buttonBackgroundColor,d=e.genre_ids.map((function(n){return Xi.find((function(e){return e.id===n}))})),b=function(){c.location.pathname.includes(e.id.toString())?i(null):i(e)};return Object(r.jsxs)(lc,{onClick:b,role:"button",children:[t&&Object(r.jsxs)(vc,{onClick:function(n){n.stopPropagation(),u()},backgroundColor:s,children:[!a&&Object(r.jsx)(xc,{}),a&&Object(r.jsx)(gc,{})]}),Object(r.jsx)(bc,{src:tn(e.poster_path,"w342"),alt:e.title})," ",Object(r.jsxs)(mc,{children:[Object(r.jsx)(jc,{children:e.title}),Object(r.jsx)(fc,{children:null===d||void 0===d?void 0:d.slice(0,2).map((function(n){return Object(r.jsx)(pc,{children:null===n||void 0===n?void 0:n.name},null===n||void 0===n?void 0:n.id)}))}),Object(r.jsx)(hc,{children:e.overview}),Object(r.jsxs)(Oc,{onClick:b,children:[Object(r.jsx)(wc,{}),"See More"]})]})]})};function kc(){var n=Object(b.a)(["\n    text-align: center;\n\n    @media (min-width: 700px) {\n        font-size: 1.25rem;\n    }\n"]);return kc=function(){return n},n}function Ic(){var n=Object(b.a)(["\n    display: grid;\n    gap: 2rem;\n    margin-bottom: 4rem;\n\n    & > *:not(:last-child) {\n        padding-bottom: 2rem;\n        border-bottom: 1px solid hsl(212deg 22% 43% / 38%);\n    }\n\n    @media screen and (min-width: 800px) {\n        grid-template-columns: repeat(2, 1fr);\n        gap: 4rem;\n\n        & > *:not(:last-child) {\n            padding-bottom: 0;\n            border-bottom: none;\n        }\n    }\n"]);return Ic=function(){return n},n}var Sc=m.b.section(Ic()),Cc=m.b.p(kc()),Ec=function(n){var e=n.movies,t=n.allowActions;return e.length?Object(r.jsx)(Sc,{children:e.map((function(n){return Object(r.jsx)(yc,{movie:n,allowActions:t},n.id)}))}):Object(r.jsx)(Cc,{children:"No movies in the list."})},zc={page:0,results:[],total_results:0,total_pages:0},Nc=function(n){var e=n.genres,t=n.movieQuery,r=Object(i.useState)(!1),c=Object(z.a)(r,2),o=c[0],a=c[1],u=Object(i.useState)(null),s=Object(z.a)(u,2),d=s[0],l=s[1],b=Object(i.useState)({query:zc,genres:zc}),m=Object(z.a)(b,2),j=m[0],f=m[1],p=Ee.a.CancelToken.source();return Object(i.useEffect)((function(){return function(){var n=Object(Se.a)(Ie.a.mark((function n(){var e;return Ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(!t){n.next=15;break}return n.prev=1,a(!0),n.next=5,Ee.a.get("/movies/query/".concat(t),{cancelToken:p.token});case 5:200===(e=n.sent).status&&f(Object(E.a)(Object(E.a)({},j),{},{query:e.data})),a(!1),n.next=15;break;case 10:n.prev=10,n.t0=n.catch(1),p.cancel("Error in try catch block."),l(!0),a(!1);case 15:case"end":return n.stop()}}),n,null,[[1,10]])})));return function(){return n.apply(this,arguments)}}()(),function(){p.cancel("Component got unmounted")}}),[t]),Object(i.useEffect)((function(){return function(){var n=Object(Se.a)(Ie.a.mark((function n(){var t;return Ie.a.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,a(!0),n.next=4,Ee.a.post("/movies/genres",{genres:e,cancelToken:p.token});case 4:200===(t=n.sent).status&&f(Object(E.a)(Object(E.a)({},j),{},{genres:t.data})),a(!1),n.next=14;break;case 9:n.prev=9,n.t0=n.catch(0),p.cancel("Error in try catch block."),l(!0),a(!1);case 14:case"end":return n.stop()}}),n,null,[[0,9]])})));return function(){return n.apply(this,arguments)}}()(),function(){p.cancel("Component got unmounted")}}),[e]),{loading:o,error:d,movies:j}};function Tc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return Tc=function(){return n},n}function Mc(){var n=Object(b.a)(["\n    position: absolute;\n    top: 1rem;\n    left: 1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: hsl(213deg 40% 49%);\n    border-radius: 50%;\n    padding: 0.25rem;\n    box-shadow: 0 10px 20px rgb(0 0 0 / 19%), 0 6px 6px rgb(0 0 0 / 23%);\n    cursor: pointer;\n"]);return Mc=function(){return n},n}function _c(){var n=Object(b.a)(["\n    border-radius: 4px;\n    background: var(--blue-active);\n    position: relative;\n"]);return _c=function(){return n},n}var Rc=m.b.div(_c()),Fc=m.b.button(Mc()),Ac=Object(m.b)(cr.c)(Tc()),Lc=function(){return Object(r.jsx)(Rc,{children:Object(r.jsx)(Fc,{children:Object(r.jsx)(Ac,{})})})};function Pc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return Pc=function(){return n},n}function Gc(){var n=Object(b.a)(["\n    font-size: 2rem;\n"]);return Gc=function(){return n},n}function Dc(){var n=Object(b.a)(["\n    position: absolute;\n    top: 1rem;\n    left: 1rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    background: ",";\n    border-radius: 50%;\n    padding: 0.25rem;\n    box-shadow: 0 10px 20px rgb(0 0 0 / 19%), 0 6px 6px rgb(0 0 0 / 23%);\n    cursor: pointer;\n    z-index: 2;\n"]);return Dc=function(){return n},n}function Vc(){var n=Object(b.a)(["\n    border-radius: 4px;\n    width: 100%;\n    padding: 1rem;\n    margin-top: auto;\n    font-weight: 500;\n    text-align: center;\n    line-height: 1.3;\n    background: #00000038;\n    background: linear-gradient(\n        to bottom,\n        hsla(0, 0%, 0%, 0) 0%,\n        hsla(0, 0%, 0%, 0.007) 7.9%,\n        hsla(0, 0%, 0%, 0.028) 15%,\n        hsla(0, 0%, 0%, 0.062) 21.4%,\n        hsla(0, 0%, 0%, 0.105) 27.3%,\n        hsla(0, 0%, 0%, 0.158) 32.8%,\n        hsla(0, 0%, 0%, 0.218) 38.1%,\n        hsla(0, 0%, 0%, 0.284) 43.3%,\n        hsla(0, 0%, 0%, 0.354) 48.5%,\n        hsla(0, 0%, 0%, 0.427) 54%,\n        hsla(0, 0%, 0%, 0.5) 59.9%,\n        hsla(0, 0%, 0%, 0.574) 66.2%,\n        hsla(0, 0%, 0%, 0.645) 73.3%,\n        hsla(0, 0%, 0%, 0.712) 81.2%,\n        hsla(0, 0%, 0%, 0.775) 90%,\n        hsla(0, 0%, 0%, 0.83) 100%\n    );\n    z-index: 1;\n"]);return Vc=function(){return n},n}function Uc(){var n=Object(b.a)(["\n    border-radius: 4px;\n    position: absolute;\n    top: 0;\n    bottom: 0;\n    left: 0;\n    right: 0;\n    height: 100%;\n    width: 100%;\n    display: block;\n    object-fit: cover;\n    z-index: 0;\n"]);return Uc=function(){return n},n}function Bc(){var n=Object(b.a)(["\n    height: 100%;\n    width: 100%;\n    position: relative;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n"]);return Bc=function(){return n},n}function Wc(){var n=Object(b.a)(["\n    height: 100% !important;\n    width: 100%;\n    cursor: pointer;\n    z-index: ",";\n\n    &:focus {\n        outline: none;\n    }\n\n    &:before {\n        content: '';\n        position: absolute;\n        width: 100%;\n        height: 100%;\n        top: 0;\n        bottom: 0;\n        left: 0;\n        right: 0;\n        background: linear-gradient(\n            to bottom,\n            hsla(0, 0%, 0%, 0) 0%,\n            hsla(0, 0%, 0%, 0.041) 7%,\n            hsla(0, 0%, 0%, 0.082) 13.5%,\n            hsla(0, 0%, 0%, 0.124) 19.4%,\n            hsla(0, 0%, 0%, 0.166) 25%,\n            hsla(0, 0%, 0%, 0.208) 30.4%,\n            hsla(0, 0%, 0%, 0.251) 35.6%,\n            hsla(0, 0%, 0%, 0.295) 40.9%,\n            hsla(0, 0%, 0%, 0.339) 46.4%,\n            hsla(0, 0%, 0%, 0.385) 52.1%,\n            hsla(0, 0%, 0%, 0.431) 58.3%,\n            hsla(0, 0%, 0%, 0.479) 65%,\n            hsla(0, 0%, 0%, 0.527) 72.4%,\n            hsla(0, 0%, 0%, 0.577) 80.6%,\n            hsla(0, 0%, 0%, 0.628) 89.8%,\n            hsla(0, 0%, 0%, 0.68) 100%\n        );\n        z-index: 1;\n    }\n"]);return Wc=function(){return n},n}function Hc(){var n=Object(b.a)(["\n    position: relative;\n    border-radius: 4px;\n    height: 100%;\n"]);return Hc=function(){return n},n}var Jc=m.b.article(Hc()),Yc=Object(m.b)(s.c.button)(Wc(),(function(n){return n.zIndex||0})),qc=Object(m.b)(s.c.div)(Bc()),Zc=Object(m.b)(s.c.img)(Uc()),$c=Object(m.b)(s.c.h3)(Vc()),Qc=m.b.button(Dc(),(function(n){return n.backgroundColor||"#4c7fbd"})),Xc=Object(m.b)(cr.c)(Gc()),Kc=Object(m.b)(cr.b)(Pc()),no=function(n){var e=n.movie,t=Object(l.f)(),c=Hn().setMoviePreview,o=dn().room,a=Object(i.useState)(0),u=Object(z.a)(a,2),s=u[0],d=u[1],b=tn(e.poster_path,"w342"),m=rr(e),j=m.movieActionHandler,f=m.buttonBackgroundColor,p=m.movieInList;return Object(r.jsxs)(Jc,{children:[Object(r.jsx)(Yc,{onClick:function(){t.location.pathname.includes(e.id.toString())?t.push("/selection/".concat(o.roomId)):(d(2),c(e))},layoutId:"image-".concat(e.id),zIndex:s,children:Object(r.jsxs)(qc,{children:[Object(r.jsx)(Zc,{src:b,alt:"Movie poster for ".concat(e.title,".")}),Object(r.jsx)($c,{children:e.title})]})}),Object(r.jsxs)(Qc,{onClick:j,backgroundColor:f,children:[!p&&Object(r.jsx)(Xc,{}),p&&Object(r.jsx)(Kc,{})]})]})};function eo(){var n=Object(b.a)(["\n    display: grid;\n    grid-template-columns: repeat(auto-fill, minmax(150px, 1fr));\n    grid-gap: 0.5rem;\n\n    & > * {\n        min-height: 300px;\n    }\n\n    @media screen and (min-width: 700px) {\n        grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));\n\n        & > * {\n            min-height: 300px;\n        }\n    }\n"]);return eo=function(){return n},n}var to=m.b.div(eo()),ro=function(n){var e=n.movies,t=n.loading,i=e.results||[];return t?Object(r.jsx)(to,{children:Array.from(Array(20).keys()).map((function(n,e){return Object(r.jsx)(Lc,{},e)}))}):Object(r.jsx)(to,{children:i.map((function(n){return Object(r.jsx)(no,{movie:n},n.id)}))})},io=t(89);function co(){var n=Object(b.a)(["\n    z-index: 4;\n"]);return co=function(){return n},n}function oo(){var n=Object(b.a)(["\n    display: ",";\n    flex-direction: column;\n    margin-bottom: 1rem;\n\n    label {\n        margin-bottom: 1rem;\n    }\n\n    input {\n        padding: 0.5rem;\n        border-radius: 4px;\n    }\n\n    &:last-of-type {\n        margin-bottom: 2rem;\n    }\n"]);return oo=function(){return n},n}var ao=m.b.div(oo(),(function(n){return n.show?"flex":"none"})),uo=Object(m.b)(io.a)(co()),so={control:function(n){return Object(E.a)(Object(E.a)({},n),{},{backgroundColor:"white",color:"var(--blue-dark-bg)"})},option:function(n,e){e.data;var t=e.isDisabled;e.isFocused,e.isSelected;return Object(E.a)(Object(E.a)({},n),{},{backgroundColor:"white",color:"var(--blue-dark-bg)",cursor:t?"not-allowed":"default"})},multiValue:function(n,e){e.data;return Object(E.a)(Object(E.a)({},n),{},{backgroundColor:"white"})},multiValueLabel:function(n,e){e.data;return Object(E.a)(Object(E.a)({},n),{},{color:"white",backgroundColor:"var(--blue-dark-bg)",padding:"4px 8px",borderRadius:"4px"})},multiValueRemove:function(n,e){var t=e.data;return Object(E.a)(Object(E.a)({},n),{},{color:t.color,":hover":{backgroundColor:"white",color:"var(--blue-dark-bg)"}})}},lo=function(){var n=Object(i.useState)([]),e=Object(z.a)(n,2),t=e[0],c=e[1],o=Object(i.useState)(""),a=Object(z.a)(o,2),u=a[0],s=a[1],d=Nc({genres:t,movieQuery:u}),l=d.loading,b=(d.error,d.movies),m=Xi.map((function(n){return{value:n.id,label:n.name}})),j=u?b.query:b.genres;return Object(r.jsxs)("section",{children:[" ",Object(r.jsxs)("form",{children:[Object(r.jsxs)(ao,{show:!0,children:[Object(r.jsx)("label",{children:"Search by name"}),Object(r.jsx)("input",{type:"text",value:u,onChange:function(n){s(n.target.value)}})]}),Object(r.jsxs)(ao,{show:""===u,children:[Object(r.jsx)("label",{children:"Search by genre"}),Object(r.jsx)(uo,{isMulti:!0,name:"genres",options:m,styles:so,onChange:function(n){c(n.map((function(n){return n.value})))}})]})]}),Object(r.jsx)(ro,{movies:j,loading:l})]})},bo=function(){var n=dn().room;return Object(r.jsxs)(Qi,{tabs:["Search","Group List (".concat(n.movies.length,")")],children:[Object(r.jsx)(lo,{}),Object(r.jsx)(Ec,{movies:n.movies,allowActions:!0})]})};function mo(){var n=Object(b.a)(["\n    margin-bottom: 2.5rem;\n"]);return mo=function(){return n},n}var jo=Object(m.b)(H)(mo()),fo=Object(r.jsxs)(r.Fragment,{children:["Add movies you'd want to watch. Once the list is complete and members are ready, click on \"",Object(r.jsx)(K,{children:"Start Swiping"}),'."']}),po=Object(r.jsxs)(r.Fragment,{children:["Add movies you'd want to watch. Once you're ready to start, click on \"",Object(r.jsx)(K,{children:"Ready to Swipe"}),'."']}),ho=function(){var n=on().user,e=dn().room.ownerId===n.id;return Object(r.jsxs)(jo,{children:[Object(r.jsx)(Z,{children:"Pick Your Movies"}),Object(r.jsx)($,{children:e?fo:po}),Object(r.jsx)(di,{}),Object(r.jsx)(bo,{}),Object(r.jsx)(Wi,{})]})},Oo=function(){var n=dn().room,e=on().user,t=n.movies.reduce((function(n,t){return t.swipes.find((function(n){return n.user.id===e.id&&n.liked}))&&t.swipes.find((function(n){return n.liked&&n.user.id!==e.id}))&&n.push(t),n}),[]);return Object(r.jsx)(Ec,{movies:t,allowActions:!1})},vo=t(168),xo=t(163),go=t(164),wo=t(165),yo=t(166),ko=t(169),Io=t(167);t(159);function So(){var n=Object(b.a)(["\n    font-size: 1rem;\n    margin-right: 0.5rem;\n"]);return So=function(){return n},n}function Co(){var n=Object(b.a)(["\n    width: 100%;\n    font-size: 0.875rem;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n    margin-top: 0.5rem;\n    background: #2e3f52;\n    padding: 1rem;\n"]);return Co=function(){return n},n}function Eo(){var n=Object(b.a)(["\n    display: flex;\n    flex-direction: column;\n    width: 100%;\n    padding: 0;\n    background: hsl(211deg 43% 10%);\n    color: var(--white-muted);\n    border-top-left-radius: 0;\n    border-top-right-radius: 0;\n"]);return Eo=function(){return n},n}function zo(){var n=Object(b.a)(["\n    font-size: 1.25rem;\n    padding: 1.5rem 1rem 1rem;\n    border-radius: 4px;\n    margin-top: auto;\n    font-weight: 500;\n    text-align: center;\n    line-height: 1.3;\n    width: 100%;\n    text-transform: none;\n    background: var(--blue-dark);\n"]);return zo=function(){return n},n}function No(){var n=Object(b.a)(["\n    display: block;\n    width: 100%;\n    height: 100%;\n    object-fit: cover;\n    margin: auto;\n"]);return No=function(){return n},n}function To(){var n=Object(b.a)(["\n    margin: auto;\n    margin-bottom: 2.5rem;\n    max-width: 600px;\n    max-width: 350px;\n\n    @media screen and (min-width: 600px) {\n        height: auto;\n    }\n"]);return To=function(){return n},n}var Mo=m.b.article(To()),_o=Object(m.b)(s.c.img)(No()),Ro=Object(m.b)(s.c.h3)(zo()),Fo=Object(m.b)(Q)(Eo()),Ao=m.b.p(Co()),Lo=Object(m.b)(ze.d)(So()),Po=function(n){var e=n.movie,t=Hn().setMoviePreview,i=tn(e.poster_path,"w500"),c=function(){t(e)};return Object(r.jsxs)(Mo,{onClick:c,children:[Object(r.jsxs)(Fo,{onClick:c,children:[Object(r.jsx)(Ro,{children:e.title}),Object(r.jsxs)(Ao,{children:[Object(r.jsx)(Lo,{})," Details"]})]}),Object(r.jsx)(_o,{src:i,alt:e.title})]})};function Go(){var n=Object(b.a)(["\n    ","\n    margin-right: 0.5rem;\n"]);return Go=function(){return n},n}function Do(){var n=Object(b.a)(["\n    ","\n    margin-right: 1rem;\n"]);return Do=function(){return n},n}function Vo(){var n=Object(b.a)(["\n    font-size: 1.5rem;\n"]);return Vo=function(){return n},n}function Uo(){var n=Object(b.a)(["\n    background: var(--accent-dark-90);\n    outline: none;\n    border-radius: 0;\n\n    @media screen and (min-width: 600px) {\n        padding: 1rem 2rem;\n        white-space: nowrap;\n    }\n"]);return Uo=function(){return n},n}function Bo(){var n=Object(b.a)(["\n    background: var(--blue-active-90);\n    outline: none;\n    border-radius: 0;\n\n    @media screen and (min-width: 600px) {\n        padding: 1rem 2rem;\n        white-space: nowrap;\n    }\n"]);return Bo=function(){return n},n}var Wo=Object(m.b)(Q)(Bo()),Ho=Object(m.b)(Q)(Uo()),Jo=Object(m.a)(Vo()),Yo=Object(m.b)(cr.a)(Do(),Jo),qo=Object(m.b)(ze.c)(Go(),Jo);vo.a.use([xo.a,go.a,wo.a,yo.a]);var Zo={rotate:50,stretch:0,depth:200,modifier:1,slideShadows:!1},$o={clickable:!1,type:"progressbar",progressbarFillClass:"swiper-pagination-progressbar-fill"},Qo=function(){var n=Object(l.f)(),e=dn().room,t=on().user,c=Object(i.useState)(),o=Object(z.a)(c,2),a=o[0],u=o[1],s=Object(i.useRef)([]),d=Object(i.useState)(!1),b=Object(z.a)(d,2),m=b[0],j=b[1];Object(i.useEffect)((function(){s.current=e.movies.map((function(n){return Object(E.a)(Object(E.a)({},n),{},{swiped:!1})}))}),[e.movies.length]);var f=function(){j(!1)},p=function(){j(!0)},h=function(n){var r,i,c=n.index,o=n.liked,a=s.current[c];a&&!a.swiped&&(console.log(a.title,o),s.current=s.current.map((function(n){return n.id===a.id?Object(E.a)(Object(E.a)({},n),{},{swiped:!0}):n})),r={roomId:e.roomId,movieId:a.id,liked:o,user:t},_.emit("movie:swipe",r,i))};return Object(r.jsxs)(r.Fragment,{children:[!!e.movies.length&&Object(r.jsxs)(ko.a,{onSlidePrevTransitionStart:function(n){if(p(),n){var e=n.previousIndex-1;h({index:e,liked:!1});var t=n.activeIndex+2;n.slideTo(t,100),n.update(),n.updateProgress()}},onSlideNextTransitionStart:function(n){if(p(),n&&1!==n.activeIndex){var e=n.previousIndex-1;h({index:e,liked:!0}),n.updateProgress(),n.update()}},onSlidePrevTransitionEnd:f,onSlideNextTransitionEnd:function(t){f(),t.activeIndex>e.movies.length&&n.push("/results/".concat(e.roomId))},onProgress:function(n){var t=1/e.movies.length*n.activeIndex;document.documentElement.style.setProperty("--swipe-progress",t.toString())},onInit:function(n){var t=1/e.movies.length;document.documentElement.style.setProperty("--swipe-progress",t.toString()),u(n)},initialSlide:1,speed:400,observer:!0,grabCursor:!0,centeredSlides:!0,spaceBetween:5e3,effect:"coverflow",coverflowEffect:Zo,pagination:$o,children:[Object(r.jsx)(Io.a,{},"firstSlide"),e.movies.map((function(n){return Object(r.jsx)(Io.a,{children:Object(r.jsx)(Po,{movie:n})},n.id)})),Object(r.jsx)(Io.a,{},"lastSlide")]}),Object(r.jsxs)(ji,{position:"fixed",children:[Object(r.jsxs)(Ho,{onClick:function(){if(a){var n=a.activeIndex-1;h({index:n,liked:!1});var e=a.activeIndex+1;a.slideTo(e,400)}},disabled:m,children:[Object(r.jsx)(qo,{}),"Dislike"]}),Object(r.jsxs)(Wo,{onClick:function(){if(a){var n=a.activeIndex+1;a.slideTo(n)}},disabled:m,children:[Object(r.jsx)(Yo,{}),"Like"]})]})]})};function Xo(){var n=Object(b.a)(["\n    max-width: 600px;\n    margin: auto;\n"]);return Xo=function(){return n},n}var Ko=Object(m.b)(H)(Xo()),na=function(){var n=dn().room,e=on().user,t=n.movies.reduce((function(n,t){return t.swipes.find((function(n){return n.user.id===e.id&&n.liked}))&&t.swipes.find((function(n){return n.liked&&n.user.id!==e.id}))?n+1:n}),0);return Object(r.jsx)(Ko,{children:Object(r.jsxs)(Qi,{tabs:["Movie","Matches (".concat(t,")")],children:[Object(r.jsx)(Qo,{}),Object(r.jsx)(Oo,{})]})})},ea=function(){var n=Hn().moviePreview;return Object(r.jsxs)(s.b,{type:"crossfade",children:[Object(r.jsx)(s.a,{children:n&&Object(r.jsx)(ei,{movie:n})}),Object(r.jsx)(d.a,{}),Object(r.jsx)(Vn,{}),Object(r.jsx)(h,{children:Object(r.jsxs)(l.c,{children:[Object(r.jsx)(l.a,{path:"/",exact:!0,component:it}),Object(r.jsx)(l.a,{path:"/create",component:Xn}),Object(r.jsx)(l.a,{path:"/join/:id",component:st}),Object(r.jsx)(l.a,{path:"/expired",component:ee}),Object(r.jsx)(Bn,{path:["/selection/:id/:movieId","/selection/:id"],component:ho}),Object(r.jsx)(Bn,{path:["/swiper/:id/:movieId","/swiper/:id"],component:na}),Object(r.jsx)(Bn,{path:["/results/:id/:movieId","/results/:id"],component:tr}),Object(r.jsx)(l.a,{component:it})]})}),Object(r.jsx)(C,{})]})};t(160);a.a.render(Object(r.jsx)(c.a.StrictMode,{children:Object(r.jsx)(u.a,{children:Object(r.jsx)(an,{children:Object(r.jsx)(mn,{children:Object(r.jsx)(Jn,{children:Object(r.jsx)(ea,{})})})})})}),document.getElementById("root"))},96:function(n,e,t){}},[[161,1,2]]]);
//# sourceMappingURL=main.6ed747de.chunk.js.map